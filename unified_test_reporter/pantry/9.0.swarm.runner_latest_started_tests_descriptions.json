[{"priority_id": 4, "custom_test_group": "setup_master_thread_7", "title": "Create environment and set up master node - thread_7", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_thread_7", "title": "Prepare master node - thread_7", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceph_ha_nodegroups", "title": "Deploy HA environment with Neutron VXLAN, Ceph and 2 nodegroups", "custom_test_case_description": "Deploy HA environment with Neutron VXLAN, Ceph and 2 nodegroups\n\n        Scenario:\n            1. Revert snapshot with ready master node\n            2. Create cluster with Neutron VXLAN, Ceph and custom nodegroup\n            3. Exclude 10 first IPs from range for default admin/pxe network\n            4. Bootstrap slave nodes from both default and custom nodegroups\n            5. Check that excluded IPs aren't allocated to discovered nodes\n            6. Add 3 controller + ceph nodes from default nodegroup\n            7. Add 2 compute + ceph nodes from custom nodegroup\n            8. Deploy cluster\n            9. Run network verification\n            10. Run health checks (OSTF)\n            11. Check that excluded IPs aren't allocated to deployed nodes\n            12. Check Ceph health\n\n        Duration 110m\n        Snapshot deploy_ceph_ha_nodegroups\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "110m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with ready master node", "expected": "pass"}, {"content": "2. Create cluster with Neutron VXLAN, Ceph and custom nodegroup", "expected": "pass"}, {"content": "3. Exclude 10 first IPs from range for default admin/pxe network", "expected": "pass"}, {"content": "4. Bootstrap slave nodes from both default and custom nodegroups", "expected": "pass"}, {"content": "5. Check that excluded IPs aren't allocated to discovered nodes", "expected": "pass"}, {"content": "6. Add 3 controller + ceph nodes from default nodegroup", "expected": "pass"}, {"content": "7. Add 2 compute + ceph nodes from custom nodegroup", "expected": "pass"}, {"content": "8. Deploy cluster", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run health checks (OSTF)", "expected": "pass"}, {"content": "11. Check that excluded IPs aren't allocated to deployed nodes", "expected": "pass"}, {"content": "12. Check Ceph health", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_controllers_from_custom_nodegroup", "title": "Assigning controllers to non-default nodegroup", "custom_test_case_description": "Assigning controllers to non-default nodegroup\n\n        Scenario:\n            1. Revert snapshot with ready master node\n            2. Create environment with Neutron VXLAN and custom nodegroup\n            3. Configure network floating ranges to use public network\n               from custom nodegroup\n            4. Bootstrap slaves from custom nodegroup\n            5. Bootstrap slave nodes from default nodegroup\n            6. Add 3 nodes from 'custom' nodegroup as controllers\n               Add 2 nodes from 'default' nodegroup as compute and cinder\n            7. Run network verification\n            8. Deploy environment\n            9. Run network verification\n            10. Run OSTF\n            11. Check addresses allocated for VIPs belong to networks\n                from custom nodegroup\n\n        Duration 120m\n        Snapshot deploy_controllers_from_custom_nodegroup\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with ready master node", "expected": "pass"}, {"content": "2. Create environment with Neutron VXLAN and custom nodegroup", "expected": "pass"}, {"content": "3. Configure network floating ranges to use public network from custom nodegroup", "expected": "pass"}, {"content": "4. Bootstrap slaves from custom nodegroup", "expected": "pass"}, {"content": "5. Bootstrap slave nodes from default nodegroup", "expected": "pass"}, {"content": "6. Add 3 nodes from 'custom' nodegroup as controllers Add 2 nodes from 'default' nodegroup as compute and cinder", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy environment", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}, {"content": "11. Check addresses allocated for VIPs belong to networks from custom nodegroup", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "delete_custom_nodegroup", "title": "Delete nodegroup, check its nodes are marked as 'error'", "custom_test_case_description": "Delete nodegroup, check its nodes are marked as 'error'\n\n        Scenario:\n        1. Revert snapshot with cluster with nodes in custom nodegroup\n        2. Save cluster network configuration\n        3. Reset cluster\n        4. Remove custom nodegroup\n        5. Check nodes from custom nodegroup have 'error' status\n        6. Re-create custom nodegroup and upload saved network configuration\n        7. Assign 'error' nodes to new nodegroup\n        8. Check nodes from custom nodegroup are in 'discover' state\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with cluster with nodes in custom nodegroup", "expected": "pass"}, {"content": "2. Save cluster network configuration", "expected": "pass"}, {"content": "3. Reset cluster", "expected": "pass"}, {"content": "4. Remove custom nodegroup", "expected": "pass"}, {"content": "5. Check nodes from custom nodegroup have 'error' status", "expected": "pass"}, {"content": "6. Re-create custom nodegroup and upload saved network configuration", "expected": "pass"}, {"content": "7. Assign 'error' nodes to new nodegroup", "expected": "pass"}, {"content": "8. Check nodes from custom nodegroup are in 'discover' state", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_tun_ha_nodegroups", "title": "Deploy HA environment with NeutronVXLAN and 2 nodegroups", "custom_test_case_description": "Deploy HA environment with NeutronVXLAN and 2 nodegroups\n\n        Scenario:\n            1. Revert snapshot with ready master node\n            2. Bootstrap slaves from default nodegroup\n            3. Create cluster with Neutron VXLAN and custom nodegroups\n            4. Remove 2nd custom nodegroup which is added automatically\n            5. Bootstrap slave nodes from custom nodegroup\n            6. Download network configuration\n            7. Update network.json  with customized ip ranges\n            8. Put new json on master node and update network data\n            9. Verify that new IP ranges are applied for network config\n            10. Add 3 controller nodes from default nodegroup\n            11. Add 2 compute nodes from custom nodegroup\n            12. Deploy cluster\n            13. Run network verification\n            14. Verify that excluded ip is not used for nodes or VIP\n            15. Run health checks (OSTF)\n\n        Duration 110m\n        Snapshot deploy_neutron_tun_ha_nodegroups\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "110m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with ready master node", "expected": "pass"}, {"content": "2. Bootstrap slaves from default nodegroup", "expected": "pass"}, {"content": "3. Create cluster with Neutron VXLAN and custom nodegroups", "expected": "pass"}, {"content": "4. Remove 2nd custom nodegroup which is added automatically", "expected": "pass"}, {"content": "5. Bootstrap slave nodes from custom nodegroup", "expected": "pass"}, {"content": "6. Download network configuration", "expected": "pass"}, {"content": "7. Update network.json  with customized ip ranges", "expected": "pass"}, {"content": "8. Put new json on master node and update network data", "expected": "pass"}, {"content": "9. Verify that new IP ranges are applied for network config", "expected": "pass"}, {"content": "10. Add 3 controller nodes from default nodegroup", "expected": "pass"}, {"content": "11. Add 2 compute nodes from custom nodegroup", "expected": "pass"}, {"content": "12. Deploy cluster", "expected": "pass"}, {"content": "13. Run network verification", "expected": "pass"}, {"content": "14. Verify that excluded ip is not used for nodes or VIP", "expected": "pass"}, {"content": "15. Run health checks (OSTF)", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "add_custom_nodegroup", "title": "Add new nodegroup to operational environment", "custom_test_case_description": "Add new nodegroup to operational environment\n\n        Scenario:\n            1. Revert snapshot with operational cluster\n            2. Create new nodegroup for the environment and configure\n               it's networks\n            3. Bootstrap slave node from custom-2 nodegroup\n            4. Add node from new nodegroup to the environment with compute role\n            5. Run network verification\n            6. Deploy changes\n            7. Run network verification\n            8. Run OSTF\n            9. Check that nodes from 'default' nodegroup can reach nodes\n               from new nodegroup via management and storage networks\n\n        Duration 50m\n        Snapshot add_custom_nodegroup\n        ", "milestone_id": 18, "type_id": 1, "estimate": "50m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with operational cluster", "expected": "pass"}, {"content": "2. Create new nodegroup for the environment and configure it's networks", "expected": "pass"}, {"content": "3. Bootstrap slave node from custom-2 nodegroup", "expected": "pass"}, {"content": "4. Add node from new nodegroup to the environment with compute role", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy changes", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Check that nodes from 'default' nodegroup can reach nodes from new nodegroup via management and storage networks", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_thread_1", "title": "Create environment and set up master node - thread_1", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_thread_1", "title": "Prepare master node - thread_1", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_thread_1", "title": "Bootstrap 3 slave nodes - thread_1", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_thread_3", "title": "Create environment and set up master node - thread_3", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_thread_3", "title": "Prepare master node - thread_3", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_ha_one_controller_with_cinder", "title": "Deploy ceph with cinder in ha mode with 1 controller", "custom_test_case_description": "Deploy ceph with cinder in ha mode with 1 controller\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Add 2 nodes with cinder and ceph OSD roles\n            5. Deploy the cluster\n            6. Check ceph status\n            7. Check partitions on controller node\n\n        Duration 40m\n        Snapshot ceph_ha_one_controller_with_cinder\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Add 2 nodes with cinder and ceph OSD roles", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Check ceph status", "expected": "pass"}, {"content": "7. Check partitions on controller node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_ha_one_controller_with_cinder_restart", "title": "Restart cluster with ceph and cinder in ha mode Scenario:", "custom_test_case_description": "Restart cluster with ceph and cinder in ha mode\n        Scenario:\n\n            1. Create cluster in ha mode with 1 controller\n            2. Add 1 node with controller and ceph OSD roles\n            3. Add 1 node with compute role\n            4. Add 2 nodes with cinder and ceph OSD roles\n            5. Deploy the cluster\n            6. Warm restart\n            7. Check ceph status\n\n        Duration 90m\n        Snapshot None\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in ha mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller and ceph OSD roles", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Add 2 nodes with cinder and ceph OSD roles", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Warm restart", "expected": "pass"}, {"content": "7. Check ceph status", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_ha", "title": "Deploy ceph with cinder in HA mode", "custom_test_case_description": "Deploy ceph with cinder in HA mode\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller and ceph OSD roles\n            3. Add 1 node with ceph OSD roles\n            4. Add 2 nodes with compute and ceph OSD roles\n            5. Deploy the cluster\n\n        Duration 90m\n        Snapshot ceph_ha\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller and ceph OSD roles", "expected": "pass"}, {"content": "3. Add 1 node with ceph OSD roles", "expected": "pass"}, {"content": "4. Add 2 nodes with compute and ceph OSD roles", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ceph_ha", "title": "Check ceph with cinder in HA mode", "custom_test_case_description": "Check ceph with cinder in HA mode\n\n        Scenario:\n            1. Revert snapshot with ceph cluster in HA mode\n            2. Check ceph status\n            3. Check ceph version, should be consistent across nodes\n\n        Duration 10m\n        Snapshot check_ceph_ha\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "10m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with ceph cluster in HA mode", "expected": "pass"}, {"content": "2. Check ceph status", "expected": "pass"}, {"content": "3. Check ceph version, should be consistent across nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_openstack_stat", "title": "Check openstack statistic on fuel and collector side", "custom_test_case_description": "Check openstack statistic on fuel and collector side\n\n        Scenario:\n            1. Revert ceph_ha env\n            2. Create all openstack resources that are collected\n            3. Check that all info was collected on fuel side\n            4. Check that info was sent to collector\n            5. Check that info is properly saved on collector side\n\n        Duration 20m\n        Snapshot check_openstack_stat\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert ceph_ha env", "expected": "pass"}, {"content": "2. Create all openstack resources that are collected", "expected": "pass"}, {"content": "3. Check that all info was collected on fuel side", "expected": "pass"}, {"content": "4. Check that info was sent to collector", "expected": "pass"}, {"content": "5. Check that info is properly saved on collector side", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_ha_restart", "title": "Destructive ceph test in HA mode", "custom_test_case_description": "Destructive ceph test in HA mode\n\n        Scenario:\n            1. Revert from ceph_ha\n            2. Waiting up galera and cinder\n            3. Check ceph status\n            4. Run OSTF\n            5. Destroy and remove osd-node\n            6. Check ceph status\n            7. Run OSTF\n            8. Destroy and remove one compute node\n            9. Check ceph status\n            10. Run OSTF\n            11. Cold restart\n            12. Waiting up galera and cinder\n            13. Run single OSTF - Create volume and attach it to instance\n            14. Run OSTF\n\n        Duration 30m\n        Snapshot ceph_ha_restart\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert from ceph_ha", "expected": "pass"}, {"content": "2. Waiting up galera and cinder", "expected": "pass"}, {"content": "3. Check ceph status", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}, {"content": "5. Destroy and remove osd-node", "expected": "pass"}, {"content": "6. Check ceph status", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}, {"content": "8. Destroy and remove one compute node", "expected": "pass"}, {"content": "9. Check ceph status", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}, {"content": "11. Cold restart", "expected": "pass"}, {"content": "12. Waiting up galera and cinder", "expected": "pass"}, {"content": "13. Run single OSTF - Create volume and attach it to instance", "expected": "pass"}, {"content": "14. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_offloading", "title": "Create environment and set up master node - offloading", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_offloading", "title": "Prepare master node - offloading", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_offloading", "title": "Bootstrap 3 slave nodes - offloading", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "offloading_neutron_vlan", "title": "Deploy cluster with specific offload modes and neutron VLAN", "custom_test_case_description": "Deploy cluster with specific offload modes and neutron VLAN\n\n        Scenario:\n            1. Create cluster with neutron VLAN\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Setup offloading types\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Verify offloading modes on nodes\n            9. Run OSTF\n\n        Duration 30m\n        Snapshot offloading_neutron_vlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with neutron VLAN", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Setup offloading types", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Verify offloading modes on nodes", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "offloading_neutron_vxlan", "title": "Deploy cluster with specific offload modes and neutron VXLAN", "custom_test_case_description": "Deploy cluster with specific offload modes and neutron VXLAN\n\n        Scenario:\n            1. Create cluster with neutron VXLAN\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Setup offloading types\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Verify offloading modes on nodes\n            9. Run OSTF\n\n        Duration 30m\n        Snapshot offloading_neutron_vxlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with neutron VXLAN", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Setup offloading types", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Verify offloading modes on nodes", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_plugins.fuel_plugin_example", "title": "Create environment and set up master node - plugins.fuel_plugin_example", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_plugins.fuel_plugin_example", "title": "Prepare master node - plugins.fuel_plugin_example", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_plugins.fuel_plugin_example", "title": "Bootstrap 3 slave nodes - plugins.fuel_plugin_example", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_one_controller_neutron_example", "title": "Deploy cluster with one controller and example plugin", "custom_test_case_description": "Deploy cluster with one controller and example plugin\n\n        Scenario:\n            1. Upload plugin to the master node\n            2. Install plugin\n            3. Create cluster\n            4. Add 1 node with controller role\n            5. Add 2 nodes with compute role\n            6. Deploy the cluster\n            7. Run network verification\n            8. Check plugin health\n            9. Run OSTF\n\n        Duration 35m\n        Snapshot deploy_ha_one_controller_neutron_example\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Upload plugin to the master node", "expected": "pass"}, {"content": "2. Install plugin", "expected": "pass"}, {"content": "3. Create cluster", "expected": "pass"}, {"content": "4. Add 1 node with controller role", "expected": "pass"}, {"content": "5. Add 2 nodes with compute role", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Check plugin health", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_one_controller_neutron_example_v3", "title": "Deploy cluster with one controller and example plugin v3", "custom_test_case_description": "Deploy cluster with one controller and example plugin v3\n\n        Scenario:\n            1. Upload plugin to the master node\n            2. Install plugin\n            3. Create cluster\n            4. Add 1 node with controller role\n            5. Add 1 node with compute role\n            6. Add 1 node with custom role\n            7. Deploy the cluster\n            8. Run network verification\n            9. Check plugin health\n            10. Run OSTF\n\n        Duration 35m\n        Snapshot deploy_ha_one_controller_neutron_example_v3\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Upload plugin to the master node", "expected": "pass"}, {"content": "2. Install plugin", "expected": "pass"}, {"content": "3. Create cluster", "expected": "pass"}, {"content": "4. Add 1 node with controller role", "expected": "pass"}, {"content": "5. Add 1 node with compute role", "expected": "pass"}, {"content": "6. Add 1 node with custom role", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Check plugin health", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "delete_plugin_enabled_in_cluster", "title": "Try remove plugin enabled in cluster", "custom_test_case_description": "Try remove plugin enabled in cluster\n\n        Scenario:\n            1. Try to remove plugin from cluster\n\n            Duration 3m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Try to remove plugin from cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_plugins.fuel_plugin_example", "title": "Bootstrap 5 slave nodes - plugins.fuel_plugin_example", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_example_ha", "title": "Deploy cluster in ha mode with example plugin", "custom_test_case_description": "Deploy cluster in ha mode with example plugin\n\n        Scenario:\n            1. Upload plugin to the master node\n            2. Install plugin\n            3. Create cluster\n            4. Add 3 node with controller role\n            5. Add 1 nodes with compute role\n            6. Add 1 nodes with cinder role\n            7. Deploy the cluster\n            8. Run network verification\n            9. check plugin health\n            10. Run OSTF\n\n        Duration 70m\n        Snapshot deploy_neutron_example_ha\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Upload plugin to the master node", "expected": "pass"}, {"content": "2. Install plugin", "expected": "pass"}, {"content": "3. Create cluster", "expected": "pass"}, {"content": "4. Add 3 node with controller role", "expected": "pass"}, {"content": "5. Add 1 nodes with compute role", "expected": "pass"}, {"content": "6. Add 1 nodes with cinder role", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. check plugin health", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_example_ha_add_node", "title": "Deploy and scale cluster in ha mode with example plugin", "custom_test_case_description": "Deploy and scale cluster in ha mode with example plugin\n\n        Scenario:\n            1. Upload plugin to the master node\n            2. Install plugin\n            3. Create cluster\n            4. Add 1 node with controller role\n            5. Add 1 nodes with compute role\n            6. Add 1 nodes with cinder role\n            7. Deploy the cluster\n            8. Run network verification\n            9. Check plugin health\n            10. Add 2 nodes with controller role\n            11. Deploy cluster\n            12. Check plugin health\n            13. Run OSTF\n\n        Duration 150m\n        Snapshot deploy_neutron_example_ha_add_node\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "150m", "refs": "", "custom_test_case_steps": [{"content": "1. Upload plugin to the master node", "expected": "pass"}, {"content": "2. Install plugin", "expected": "pass"}, {"content": "3. Create cluster", "expected": "pass"}, {"content": "4. Add 1 node with controller role", "expected": "pass"}, {"content": "5. Add 1 nodes with compute role", "expected": "pass"}, {"content": "6. Add 1 nodes with cinder role", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Check plugin health", "expected": "pass"}, {"content": "10. Add 2 nodes with controller role", "expected": "pass"}, {"content": "11. Deploy cluster", "expected": "pass"}, {"content": "12. Check plugin health", "expected": "pass"}, {"content": "13. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_custom_graph", "title": "Create environment and set up master node - custom_graph", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_custom_graph", "title": "Prepare master node - custom_graph", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "pre_provision_ubuntu_slaves_3", "title": "Bootstrap 3 slave nodes with prepared target image", "custom_test_case_description": "Bootstrap 3 slave nodes with prepared target image\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n            3. Upload script to generate command\n            4. Execute script to generate command\n            5. Use command to build target image\n            6. Save snapshot 'pre_provision_ubuntu_slaves_3'\n\n        Duration 30m\n        Snapshot pre_provision_ubuntu_slaves_3\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}, {"content": "3. Upload script to generate command", "expected": "pass"}, {"content": "4. Execute script to generate command", "expected": "pass"}, {"content": "5. Use command to build target image", "expected": "pass"}, {"content": "6. Save snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "custom_graph_leakage", "title": "Check tasks for custom graph are not shown in default", "custom_test_case_description": "Check tasks for custom graph are not shown in default\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Add 1 node with controller role\n            4. Add 1 node with compute role\n            5. Add 1 node with storage role\n            6. Create custom graph 'custom_graph'\n            7. Upload tasks to 'custom_graph'\n            8. Download tasks for 'default' graph\n            9. Verify that there no 'custom_graph' tasks in 'default' graph\n            10. Deploy the cluster\n            11. Run network verification\n            12. Run OSTF to check services are deployed\n            13. Verify that 'custom_graph' tasks are not called on controller\n            14. Verify that 'custom_graph' tasks are not called on compute\n            15. Verify that 'custom_graph' tasks are not called on cinder\n            16. Create snapshot\n\n        Duration 90m\n        Snapshot custom_graph_leakage\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Add 1 node with controller role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 node with storage role", "expected": "pass"}, {"content": "6. Create custom graph 'custom_graph'", "expected": "pass"}, {"content": "7. Upload tasks to 'custom_graph'", "expected": "pass"}, {"content": "8. Download tasks for 'default' graph", "expected": "pass"}, {"content": "9. Verify that there no 'custom_graph' tasks in 'default' graph", "expected": "pass"}, {"content": "10. Deploy the cluster", "expected": "pass"}, {"content": "11. Run network verification", "expected": "pass"}, {"content": "12. Run OSTF to check services are deployed", "expected": "pass"}, {"content": "13. Verify that 'custom_graph' tasks are not called on controller", "expected": "pass"}, {"content": "14. Verify that 'custom_graph' tasks are not called on compute", "expected": "pass"}, {"content": "15. Verify that 'custom_graph' tasks are not called on cinder", "expected": "pass"}, {"content": "16. Create snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "custom_yaql_expression_tasks", "title": "Verify yaql expressions are working in custom graph", "custom_test_case_description": "Verify yaql expressions are working in custom graph\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Add 1 node with controller role\n            4. Add 1 node with compute role\n            5. Add 1 node with storage role\n            6. Create custom graph 'yaql_graph'\n            7. Upload tasks to 'yaql_graph'\n            8. Provision the cluster\n            9. Deploy the cluster\n            10. Re-deploy the cluster\n            11. Check yaql on controller\n            12. Check yaql on compute\n            13. Check yaql on cinder\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Add 1 node with controller role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 node with storage role", "expected": "pass"}, {"content": "6. Create custom graph 'yaql_graph'", "expected": "pass"}, {"content": "7. Upload tasks to 'yaql_graph'", "expected": "pass"}, {"content": "8. Provision the cluster", "expected": "pass"}, {"content": "9. Deploy the cluster", "expected": "pass"}, {"content": "10. Re-deploy the cluster", "expected": "pass"}, {"content": "11. Check yaql on controller", "expected": "pass"}, {"content": "12. Check yaql on compute", "expected": "pass"}, {"content": "13. Check yaql on cinder", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "default_graph_leakage", "title": "Check tasks for default graph are not shown in custom", "custom_test_case_description": "Check tasks for default graph are not shown in custom\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Add 1 node with controller role\n            4. Add 1 node with compute role\n            5. Add 1 node with storage role\n            6. Provision the cluster\n            7. Create custom graph 'custom_graph'\n            8. Upload tasks to 'custom_graph'\n            9. Download tasks for 'custom_graph' graph from api\n            10. Verify that there no 'default' tasks\n                in 'custom_graph' graph\n            11. Run 'custom_graph' deployment\n            12. Verify that 'custom_graph' tasks are called on controller\n            13. Verify that 'controller' role has not been deployed\n            14. Verify that 'custom_graph' tasks are called on compute\n            15. Verify that 'compute' role has not been deployed\n            16. Verify that 'custom_graph' tasks are called on cinder\n            17. Verify that 'cinder' role has not been deployed\n            18. Create snapshot\n\n        Duration 100m\n        Snapshot default_graph_leakage\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Add 1 node with controller role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 node with storage role", "expected": "pass"}, {"content": "6. Provision the cluster", "expected": "pass"}, {"content": "7. Create custom graph 'custom_graph'", "expected": "pass"}, {"content": "8. Upload tasks to 'custom_graph'", "expected": "pass"}, {"content": "9. Download tasks for 'custom_graph' graph from api", "expected": "pass"}, {"content": "10. Verify that there no 'default' tasks in 'custom_graph' graph", "expected": "pass"}, {"content": "11. Run 'custom_graph' deployment", "expected": "pass"}, {"content": "12. Verify that 'custom_graph' tasks are called on controller", "expected": "pass"}, {"content": "13. Verify that 'controller' role has not been deployed", "expected": "pass"}, {"content": "14. Verify that 'custom_graph' tasks are called on compute", "expected": "pass"}, {"content": "15. Verify that 'compute' role has not been deployed", "expected": "pass"}, {"content": "16. Verify that 'custom_graph' tasks are called on cinder", "expected": "pass"}, {"content": "17. Verify that 'cinder' role has not been deployed", "expected": "pass"}, {"content": "18. Create snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "default_is_from_puppet", "title": "Verify that default graph is generated from tasks in /etc/puppet", "custom_test_case_description": "Verify that default graph is generated from\n        tasks in /etc/puppet\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Download deployment graph\n            4. Fetch all tasks from /etc/puppet\n            5. Verify that tasks in deployment graph are\n                from /etc/puppet\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Download deployment graph", "expected": "pass"}, {"content": "4. Fetch all tasks from /etc/puppet", "expected": "pass"}, {"content": "5. Verify that tasks in deployment graph are from /etc/puppet", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "information_at_graphs_handler", "title": "Get info of api handlers", "custom_test_case_description": "Get info of api handlers\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Add 1 node with controller role\n            4. Add 1 node with compute role\n            5. Add 1 node with storage role\n            6. Provision cluster\n            7. Upload 'custom_graph' tasks to release\n            8. Upload 'yaql_graph' tasks to release\n            9. Verify list shows 'default' tasks\n            10. Verify list shows 'custom' tasks\n            11. Verify list shows 'yaql' tasks\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Add 1 node with controller role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 node with storage role", "expected": "pass"}, {"content": "6. Provision cluster", "expected": "pass"}, {"content": "7. Upload 'custom_graph' tasks to release", "expected": "pass"}, {"content": "8. Upload 'yaql_graph' tasks to release", "expected": "pass"}, {"content": "9. Verify list shows 'default' tasks", "expected": "pass"}, {"content": "10. Verify list shows 'custom' tasks", "expected": "pass"}, {"content": "11. Verify list shows 'yaql' tasks", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "master_node_tasks", "title": "Verify tasks execution and ordering on master node", "custom_test_case_description": "Verify tasks execution and ordering on master node\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            3. Create cluster\n            3. Upload 'master_node' tasks\n            4. Run 'master_node' tasks\n            5. Verify that tasks are executed in correct order\n            6. Create snapshot\n\n        Duration 30m\n        Snapshot master_node_tasks\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "3. Create cluster", "expected": "pass"}, {"content": "3. Upload 'master_node' tasks", "expected": "pass"}, {"content": "4. Run 'master_node' tasks", "expected": "pass"}, {"content": "5. Verify that tasks are executed in correct order", "expected": "pass"}, {"content": "6. Create snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "tasks_merge_cluster_and_release", "title": "Verify custom graph merging from release and cluster tasks", "custom_test_case_description": "Verify custom graph merging from release and cluster tasks\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Upload 'custom_graph' tasks to release\n            4. Upload 'custom_graph' tasks to cluster\n            5. Download 'custom_graph' deployment graph\n            6. Verify that 'custom_graph' is a merge of\n                release and cluster graphs.\n            7. Create snapshot 'tasks_diff'\n\n        Duration 30m\n        Snapshot merge_cluster_and_release\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Upload 'custom_graph' tasks to release", "expected": "pass"}, {"content": "4. Upload 'custom_graph' tasks to cluster", "expected": "pass"}, {"content": "5. Download 'custom_graph' deployment graph", "expected": "pass"}, {"content": "6. Verify that 'custom_graph' is a merge of release and cluster graphs.", "expected": "pass"}, {"content": "7. Create snapshot 'tasks_diff'", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "two_custom_graphs_interfere", "title": "Verify that two custom graphs do not interfere with each other.", "custom_test_case_description": "Verify that two custom graphs do not interfere with each other.\n\n        Scenario:\n            1. Revert snapshot 'pre_provision_ubuntu_slaves_3'\n            2. Create cluster\n            3. Add 1 node with controller role\n            4. Add 1 node with compute role\n            5. Add 1 node with storage role\n            6. Provision cluster\n            7. Upload 'custom_graph' tasks to release\n            8. Upload 'yaql_graph' tasks to release\n            9. Run 'custom_graph' deployment.\n            10. Run 'yaql_graph' deployment.\n            11. Verify that 'yaql_graph' tasks are called on controller\n            12. Verify that 'yaql_graph' tasks are called on compute\n            13. Verify that 'yaql_graph' tasks are called on cinder\n            14. Create snapshot `two_custom_graphs_interfere`\n\n        Duration 30m\n        Snapshot two_custom_graphs_interfere\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'pre_provision_ubuntu_slaves_3'", "expected": "pass"}, {"content": "2. Create cluster", "expected": "pass"}, {"content": "3. Add 1 node with controller role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 node with storage role", "expected": "pass"}, {"content": "6. Provision cluster", "expected": "pass"}, {"content": "7. Upload 'custom_graph' tasks to release", "expected": "pass"}, {"content": "8. Upload 'yaql_graph' tasks to release", "expected": "pass"}, {"content": "9. Run 'custom_graph' deployment.", "expected": "pass"}, {"content": "10. Run 'yaql_graph' deployment.", "expected": "pass"}, {"content": "11. Verify that 'yaql_graph' tasks are called on controller", "expected": "pass"}, {"content": "12. Verify that 'yaql_graph' tasks are called on compute", "expected": "pass"}, {"content": "13. Verify that 'yaql_graph' tasks are called on cinder", "expected": "pass"}, {"content": "14. Create snapshot `two_custom_graphs_interfere`", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_one_controller_actions", "title": "Create environment and set up master node - one_controller_actions", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_one_controller_actions", "title": "Prepare master node - one_controller_actions", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_one_controller_actions", "title": "Bootstrap 3 slave nodes - one_controller_actions", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_one_controller_neutron", "title": "Deploy cluster in HA mode (one controller) with neutron", "custom_test_case_description": "Deploy cluster in HA mode (one controller) with neutron\n\n        Scenario:\n            1. Create cluster in HA mode\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Validate cluster was set up correctly, there are no dead\n               services, there are no errors in logs\n            6. Verify networks\n            7. Verify network configuration on controller\n            8. Run OSTF\n\n        Duration 30m\n        Snapshot: deploy_ha_one_controller_neutron\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in HA mode", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Validate cluster was set up correctly, there are no dead services, there are no errors in logs", "expected": "pass"}, {"content": "6. Verify networks", "expected": "pass"}, {"content": "7. Verify network configuration on controller", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "delete_environment", "title": "Delete existing environment and verify nodes returns to unallocated state", "custom_test_case_description": "Delete existing environment\n        and verify nodes returns to unallocated state\n\n        Scenario:\n            1. Revert \"deploy_ha_one_controller\" environment\n            2. Delete environment\n            3. Verify node returns to unallocated pull\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert \"deploy_ha_one_controller\" environment", "expected": "pass"}, {"content": "2. Delete environment", "expected": "pass"}, {"content": "3. Verify node returns to unallocated pull", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_base_os_node", "title": "Add base-os node to cluster in HA mode with one controller", "custom_test_case_description": "Add base-os node to cluster in HA mode with one controller\n\n        Scenario:\n            1. Revert snapshot \"deploy_ha_one_controller_neutron\"\n            2. Add 1 node with base-os role\n            3. Deploy the cluster\n            4. Run network verification\n            5. Run OSTF\n            6. Ssh to the base-os node and check /etc/astute.yaml link source.\n            7. Make snapshot.\n\n        Snapshot: deploy_base_os_node\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"deploy_ha_one_controller_neutron\"", "expected": "pass"}, {"content": "2. Add 1 node with base-os role", "expected": "pass"}, {"content": "3. Deploy the cluster", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}, {"content": "6. Ssh to the base-os node and check /etc/astute.yaml link source.", "expected": "pass"}, {"content": "7. Make snapshot.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_one_controller_neutron_node_deletion", "title": "Remove compute from cluster in ha mode with neutron", "custom_test_case_description": "Remove compute from cluster in ha mode with neutron\n\n         Scenario:\n            1. Revert \"deploy_ha_one_controller_neutron\" environment\n            2. Remove compute node\n            3. Deploy changes\n            4. Verify node returns to unallocated pull\n\n        Duration 8m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "8m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert \"deploy_ha_one_controller_neutron\" environment", "expected": "pass"}, {"content": "2. Remove compute node", "expected": "pass"}, {"content": "3. Deploy changes", "expected": "pass"}, {"content": "4. Verify node returns to unallocated pull", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_one_controller_neutron_add_compute", "title": "Add compute node to cluster in ha mode", "custom_test_case_description": "Add compute node to cluster in ha mode\n\n        Scenario:\n            1. Create cluster in HA mode\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Validate cluster was set up correctly, there are no dead\n               services, there are no errors in logs\n            6. Add 1 node with role compute\n            7. Deploy changes\n            8. Validate cluster was set up correctly, there are no dead\n               services, there are no errors in logs\n            9. Verify services list on compute nodes\n            10. Run OSTF\n\n        Duration 40m\n        Snapshot: ha_one_controller_neutron_add_compute\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in HA mode", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Validate cluster was set up correctly, there are no dead services, there are no errors in logs", "expected": "pass"}, {"content": "6. Add 1 node with role compute", "expected": "pass"}, {"content": "7. Deploy changes", "expected": "pass"}, {"content": "8. Validate cluster was set up correctly, there are no dead services, there are no errors in logs", "expected": "pass"}, {"content": "9. Verify services list on compute nodes", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_one_controller_neutron_blocked_vlan", "title": "Verify network verification with blocked VLANs", "custom_test_case_description": "Verify network verification with blocked VLANs\n\n        Scenario:\n            1. Create cluster in Ha mode\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Validate cluster was set up correctly, there are no dead\n               services, there are no errors in logs\n            6. Block first VLAN\n            7. Run Verify network and assert it fails\n            8. Restore first VLAN\n\n        Duration 20m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in Ha mode", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Validate cluster was set up correctly, there are no dead services, there are no errors in logs", "expected": "pass"}, {"content": "6. Block first VLAN", "expected": "pass"}, {"content": "7. Run Verify network and assert it fails", "expected": "pass"}, {"content": "8. Restore first VLAN", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_logrotate", "title": "Create environment and set up master node - logrotate", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "test_fuel_nondaily_rotation", "title": "Logrotate with fuel.nondaily  on master node", "custom_test_case_description": "Logrotate with fuel.nondaily  on master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Check free disk space under /var/log, check free inodes\n            3. Generate 2GB /var/log/ostf-test.log size file\n            4. Run /usr/bin/fuel-logrotate\n            5. Check free disk space, check free inodes\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Check free disk space under /var/log, check free inodes", "expected": "pass"}, {"content": "3. Generate 2GB /var/log/ostf-test.log size file", "expected": "pass"}, {"content": "4. Run /usr/bin/fuel-logrotate", "expected": "pass"}, {"content": "5. Check free disk space, check free inodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "test_log_rotation", "title": "Logrotate with logrotate.conf on master node", "custom_test_case_description": "Logrotate with logrotate.conf on master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Check free disk space under /var/log, check free inodes\n            3. Generate 2GB size file\n            4. Run logrotate 2 times\n            5. Check free disk space, check free inodes\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Check free disk space under /var/log, check free inodes", "expected": "pass"}, {"content": "3. Generate 2GB size file", "expected": "pass"}, {"content": "4. Run logrotate 2 times", "expected": "pass"}, {"content": "5. Check free disk space, check free inodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "test_log_rotation_101mb", "title": "Logrotate with logrotate.conf for 101MB size file on master node", "custom_test_case_description": "Logrotate with logrotate.conf for 101MB size file on master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Check free disk space and free inodes under /var/log\n            3. Generate 101MB size file\n            4. Run logrotate 2 times\n            5. Check free disk space and free inodes\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Check free disk space and free inodes under /var/log", "expected": "pass"}, {"content": "3. Generate 101MB size file", "expected": "pass"}, {"content": "4. Run logrotate 2 times", "expected": "pass"}, {"content": "5. Check free disk space and free inodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "test_log_rotation_one_week_11mb", "title": "Logrotate with logrotate.conf for 1 week old file with size 11MB", "custom_test_case_description": "Logrotate with logrotate.conf for 1 week old file with size 11MB\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Check free disk space and free inodes under /var/log\n            3. Generate 1 week old 11MB size file\n            4. Run logrotate 2 times\n            5. Check free disk space and free inodes\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Check free disk space and free inodes under /var/log", "expected": "pass"}, {"content": "3. Generate 1 week old 11MB size file", "expected": "pass"}, {"content": "4. Run logrotate 2 times", "expected": "pass"}, {"content": "5. Check free disk space and free inodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_services_ha.ceilometer", "title": "Create environment and set up master node - services_ha.ceilometer", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_services_ha.ceilometer", "title": "Prepare master node - services_ha.ceilometer", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_services_ha.ceilometer", "title": "Bootstrap 5 slave nodes - services_ha.ceilometer", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceilometer_ha_multirole", "title": "Deploy cluster in ha multirole mode with Ceilometer", "custom_test_case_description": "Deploy cluster in ha multirole mode with Ceilometer\n\n        Scenario:\n            1. Create cluster. Set install Ceilometer option\n            2. Add 3 node with controller and mongo roles\n            3. Add 1 nodes with compute role\n            4. Add 1 nodes with cinder\n            5. Deploy the cluster\n            6. Verify ceilometer api is running\n            7. Run OSTF\n\n        Duration 80m\n        Snapshot: deploy_ceilometer_ha_multirole\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "80m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Ceilometer option", "expected": "pass"}, {"content": "2. Add 3 node with controller and mongo roles", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Add 1 nodes with cinder", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Verify ceilometer api is running", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceilometer_ha_multirole_add_mongo", "title": "Add mongo node to cluster with HA mode and Ceilometer", "custom_test_case_description": "Add mongo node to cluster with HA mode and Ceilometer\n\n        Scenario:\n            1. Revert snapshot deploy_ceilometer_ha_multirole\n            2. Add 1 node with mongo role\n            3. Deploy the cluster\n            4. Run OSTF\n\n        Duration 60m\n        Snapshot: ceilometer_ha_multirole_add_mongo\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot deploy_ceilometer_ha_multirole", "expected": "pass"}, {"content": "2. Add 1 node with mongo role", "expected": "pass"}, {"content": "3. Deploy the cluster", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceilometer_ha_with_external_mongo", "title": "Deploy cluster in ha mode with Ceilometer and external Mongo", "custom_test_case_description": "Deploy cluster in ha mode with Ceilometer and external Mongo\n\n        Scenario:\n            1. Create cluster. Set install Ceilometer, external Mongo option\n            2. Add 3 node with controller role\n            3. Add 1 nodes with compute and ceph roles\n            4. Add 1 node with ceph role\n            5. Deploy the cluster\n            6. Verify ceilometer api is running\n            7. Run OSTF\n\n        Duration 65m\n        Snapshot: deploy_ceilometer_ha_with_external_mongo\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "65m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Ceilometer, external Mongo option", "expected": "pass"}, {"content": "2. Add 3 node with controller role", "expected": "pass"}, {"content": "3. Add 1 nodes with compute and ceph roles", "expected": "pass"}, {"content": "4. Add 1 node with ceph role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Verify ceilometer api is running", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceilometer_ha_with_mongo", "title": "Deploy cluster in ha mode with Ceilometer", "custom_test_case_description": "Deploy cluster in ha mode with Ceilometer\n\n        Scenario:\n            1. Create cluster. Set install Ceilometer option\n            2. Add 3 node with controller role\n            3. Add 1 nodes with compute role\n            4. Add 1 node with mongo role\n            5. Deploy the cluster\n            6. Verify ceilometer api is running\n            7. Run OSTF\n\n        Duration 65m\n        Snapshot: deploy_ceilometer_ha_with_mongo\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "65m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Ceilometer option", "expected": "pass"}, {"content": "2. Add 3 node with controller role", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Add 1 node with mongo role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Verify ceilometer api is running", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_numa_cpu_pinning", "title": "Create environment and set up master node - numa_cpu_pinning", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_numa_cpu_pinning", "title": "Prepare master node - numa_cpu_pinning", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_numa_cpu_pinning", "title": "Bootstrap 5 slave nodes - numa_cpu_pinning", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "basic_env_for_numa_cpu_pinning", "title": "Basic environment for NUMA CPU pinning", "custom_test_case_description": "Basic environment for NUMA CPU pinning\n\n        Scenario:\n            1. Create cluster\n            2. Add 2 nodes with compute role\n            3. Add 3 nodes with controller role\n            4. Verify that quantity of NUMA is equal on node and in Fuel\n\n        Snapshot: basic_env_for_numa_cpu_pinning\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 2 nodes with compute role", "expected": "pass"}, {"content": "3. Add 3 nodes with controller role", "expected": "pass"}, {"content": "4. Verify that quantity of NUMA is equal on node and in Fuel", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "cpu_pinning_allocation", "title": "Check errors for allocation of CPU for nova", "custom_test_case_description": "Check errors for allocation of CPU for nova\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_numa_cpu_pinning\"\n            2. Pin all node CPU and twice of it for the nova\n            3. Check status code: 400\n\n        Snapshot: cpu_pinning_allocation\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_numa_cpu_pinning\"", "expected": "pass"}, {"content": "2. Pin all node CPU and twice of it for the nova", "expected": "pass"}, {"content": "3. Check status code: 400", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "cpu_pinning_on_two_compute", "title": "Check different amount of pinned CPU", "custom_test_case_description": "Check different amount of pinned CPU\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_numa_cpu_pinning\"\n            2. Pin maximum CPU for the nova on the first compute\n            3. Pin minimun CPU for the nova on the second compute\n            4. Verify setting was successfully applied\n            5. Deploy cluster\n            6. Check new filters are enabled in nova.conf at controller\n            7. Check nova.conf contains pinned CPU at compute\n            8. Run OSTF\n            9. Boot VM with pinned CPU on the first compute\n            10. Boot VM with pinned CPU on the second compute\n\n        Snapshot: cpu_pinning_on_two_compute\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_numa_cpu_pinning\"", "expected": "pass"}, {"content": "2. Pin maximum CPU for the nova on the first compute", "expected": "pass"}, {"content": "3. Pin minimun CPU for the nova on the second compute", "expected": "pass"}, {"content": "4. Verify setting was successfully applied", "expected": "pass"}, {"content": "5. Deploy cluster", "expected": "pass"}, {"content": "6. Check new filters are enabled in nova.conf at controller", "expected": "pass"}, {"content": "7. Check nova.conf contains pinned CPU at compute", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Boot VM with pinned CPU on the first compute", "expected": "pass"}, {"content": "10. Boot VM with pinned CPU on the second compute", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "change_pinned_cpu_and_redeploy", "title": "Unpinned CPU and redeploy cluster", "custom_test_case_description": "Unpinned CPU and redeploy cluster\n\n        Scenario:\n            1. Revert snapshot \"cpu_pinning_on_two_compute\"\n            2. Unpinned CPU on the first compute\n            3. Deploy changes\n            4. Verify changes were applied\n            5. Check nova.conf doesn't contain pinned CPU at the first compute\n            6. Run OSTF\n            7. Boot VM with pinned CPU on the second compute\n\n        Snapshot: change_pinned_cpu_and_redeploy\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"cpu_pinning_on_two_compute\"", "expected": "pass"}, {"content": "2. Unpinned CPU on the first compute", "expected": "pass"}, {"content": "3. Deploy changes", "expected": "pass"}, {"content": "4. Verify changes were applied", "expected": "pass"}, {"content": "5. Check nova.conf doesn't contain pinned CPU at the first compute", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}, {"content": "7. Boot VM with pinned CPU on the second compute", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reboot_cpu_pinning_compute", "title": "Check compute with pinned CPU after reboot", "custom_test_case_description": "Check compute with pinned CPU after reboot\n\n        Scenario:\n            1. Revert snapshot \"cpu_pinning_on_two_compute\"\n            2. Reboot the first compute with CPU pinning\n            3. Run OSTF\n            4. Boot VM with pinned CPU on the first compute\n            5. Reboot the second compute with CPU pinning\n            6. Run OSTF\n            7. Boot VM with pinned CPU on the second compute\n\n        Snapshot: reboot_cpu_pinning_compute\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"cpu_pinning_on_two_compute\"", "expected": "pass"}, {"content": "2. Reboot the first compute with CPU pinning", "expected": "pass"}, {"content": "3. Run OSTF", "expected": "pass"}, {"content": "4. Boot VM with pinned CPU on the first compute", "expected": "pass"}, {"content": "5. Reboot the second compute with CPU pinning", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}, {"content": "7. Boot VM with pinned CPU on the second compute", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "cpu_pinning_with_other_role", "title": "Check pinned CPU on compute,cinder node", "custom_test_case_description": "Check pinned CPU on compute,cinder node\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_numa_cpu_pinning\"\n            2. Add cinder role for compute nodes\n            3. Pin maximum CPU for the nova on the computes\n            4. Verify setting was successfully applied\n            5. Deploy cluster\n            6. Check new filters are enabled in nova.conf at controller\n            7. Check nova.conf contains pinned CPU at computes\n            8. Run OSTF\n            9. Boot VMs with pinned CPU on each compute, cinder node\n\n        Snapshot: cpu_pinning_with_other_role\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_numa_cpu_pinning\"", "expected": "pass"}, {"content": "2. Add cinder role for compute nodes", "expected": "pass"}, {"content": "3. Pin maximum CPU for the nova on the computes", "expected": "pass"}, {"content": "4. Verify setting was successfully applied", "expected": "pass"}, {"content": "5. Deploy cluster", "expected": "pass"}, {"content": "6. Check new filters are enabled in nova.conf at controller", "expected": "pass"}, {"content": "7. Check nova.conf contains pinned CPU at computes", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Boot VMs with pinned CPU on each compute, cinder node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ol", "title": "Create environment and set up master node - ol", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ol", "title": "Prepare master node - ol", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_ol", "title": "Bootstrap 3 slave nodes - ol", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ol_compute_ha_one_controller_tun", "title": "Deploy OL-based compute in HA One Controller mode with Neutron VXLAN", "custom_test_case_description": "Deploy OL-based compute in HA One Controller mode\n        with Neutron VXLAN\n\n        Scenario:\n            1. Check required image.\n            2. Revert snapshot 'ready_with_3_slaves'.\n            3. Create a Fuel cluster.\n            4. Update cluster nodes with required roles.\n            5. Deploy the Fuel cluster.\n            6. Run OSTF.\n            7. Backup astute.yaml and ssh keys from compute.\n            8. Boot compute with OL image.\n            9. Prepare node for Puppet run.\n            10. Execute modular tasks for compute.\n            11. Run OSTF.\n\n        Duration: 150m\n        Snapshot: deploy_ol_compute_ha_one_controller_tun\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "150m", "refs": "", "custom_test_case_steps": [{"content": "1. Check required image.", "expected": "pass"}, {"content": "2. Revert snapshot 'ready_with_3_slaves'.", "expected": "pass"}, {"content": "3. Create a Fuel cluster.", "expected": "pass"}, {"content": "4. Update cluster nodes with required roles.", "expected": "pass"}, {"content": "5. Deploy the Fuel cluster.", "expected": "pass"}, {"content": "6. Run OSTF.", "expected": "pass"}, {"content": "7. Backup astute.yaml and ssh keys from compute.", "expected": "pass"}, {"content": "8. Boot compute with OL image.", "expected": "pass"}, {"content": "9. Prepare node for Puppet run.", "expected": "pass"}, {"content": "10. Execute modular tasks for compute.", "expected": "pass"}, {"content": "11. Run OSTF.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_bonding_ha_one_controller", "title": "Create environment and set up master node - bonding_ha_one_controller", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_bonding_ha_one_controller", "title": "Prepare master node - bonding_ha_one_controller", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_bonding_ha_one_controller", "title": "Bootstrap 3 slave nodes - bonding_ha_one_controller", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "offloading_bond_neutron_vlan", "title": "Verify offloading types for the logical bonded interfaces and neutron VLAN", "custom_test_case_description": "Verify offloading types for the logical bonded interfaces and\n        neutron VLAN\n\n        Scenario:\n            1. Create cluster with neutron VLAN\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Configure offloading modes for bonded interfaces\n            5. Setup offloading types\n            6. Run network verification\n            7. Deploy the cluster\n            8. Run network verification\n            9. Verify offloading types for the bonded interfaces\n            10. Run OSTF\n\n        Duration 60m\n        Snapshot offloading_bond_neutron_vlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with neutron VLAN", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Configure offloading modes for bonded interfaces", "expected": "pass"}, {"content": "5. Setup offloading types", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Verify offloading types for the bonded interfaces", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "offloading_bond_neutron_vxlan", "title": "Verify setting offloading types for the logical bonded interfaces and neutron VXLAN", "custom_test_case_description": "Verify setting offloading types for the logical bonded interfaces\n        and neutron VXLAN\n\n        Scenario:\n            1. Create cluster with neutron VXLAN\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Configure offloading modes for bonded interfaces\n            5. Setup offloading types\n            6. Run network verification\n            7. Deploy the cluster\n            8. Run network verification\n            9. Verify offloading types for the bonded interfaces\n            10. Run OSTF\n\n        Duration 60m\n        Snapshot offloading_bond_neutron_vxlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with neutron VXLAN", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Configure offloading modes for bonded interfaces", "expected": "pass"}, {"content": "5. Setup offloading types", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Verify offloading types for the bonded interfaces", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_bonding_one_controller_tun", "title": "Deploy cluster with active-backup bonding and Neutron VXLAN", "custom_test_case_description": "Deploy cluster with active-backup bonding and Neutron VXLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Setup bonding for all interfaces (including admin interface\n               bonding)\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Run OSTF\n\n        Duration 30m\n        Snapshot deploy_bonding_one_controller_tun\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Setup bonding for all interfaces (including admin interface bonding)", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_bonding_one_controller_vlan", "title": "Deploy cluster with active-backup bonding and Neutron VLAN", "custom_test_case_description": "Deploy cluster with active-backup bonding and Neutron VLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Setup bonding for all interfaces (including admin interface\n               bonding)\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Run OSTF\n\n\n        Duration 30m\n        Snapshot deploy_bonding_one_controller_vlan\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Setup bonding for all interfaces (including admin interface bonding)", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "negative_admin_bonding_in_lacp_mode", "title": "Verify that lacp mode cannot be enabled for admin bond", "custom_test_case_description": "Verify that lacp mode cannot be enabled for admin bond\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Verify that lacp mode cannot be enabled for admin bond\n\n        Duration 4m\n        Snapshot negative_admin_bonding_in_lacp_mode\n        ", "milestone_id": 18, "type_id": 1, "estimate": "4m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Verify that lacp mode cannot be enabled for admin bond", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_cic_maintenance_mode", "title": "Create environment and set up master node - cic_maintenance_mode", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_cic_maintenance_mode", "title": "Prepare master node - cic_maintenance_mode", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_cic_maintenance_mode", "title": "Bootstrap 5 slave nodes - cic_maintenance_mode", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "cic_maintenance_mode_env", "title": "Deploy cluster in HA mode with 3 controller for maintenance mode", "custom_test_case_description": "Deploy cluster in HA mode with 3 controller for maintenance mode\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 node with controller and mongo roles\n            3. Add 2 node with compute and cinder roles\n            4. Deploy the cluster\n\n        Duration 100m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 node with controller and mongo roles", "expected": "pass"}, {"content": "3. Add 2 node with compute and cinder roles", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "auto_cic_maintenance_mode", "title": "Check auto maintenance mode for controller", "custom_test_case_description": "Check auto maintenance mode for controller\n\n        Scenario:\n            1. Revert snapshot\n            2. Unexpected reboot\n            3. Wait until controller is switching in maintenance mode\n            4. Exit maintenance mode\n            5. Check the controller become available\n\n        Duration 155m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "155m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Unexpected reboot", "expected": "pass"}, {"content": "3. Wait until controller is switching in maintenance mode", "expected": "pass"}, {"content": "4. Exit maintenance mode", "expected": "pass"}, {"content": "5. Check the controller become available", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "manual_cic_maintenance_mode", "title": "Check manual maintenance mode for controller", "custom_test_case_description": "Check manual maintenance mode for controller\n\n        Scenario:\n            1. Revert snapshot\n            2. Switch in maintenance mode\n            3. Wait until controller is rebooting\n            4. Exit maintenance mode\n            5. Check the controller become available\n\n        Duration 155m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "155m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Switch in maintenance mode", "expected": "pass"}, {"content": "3. Wait until controller is rebooting", "expected": "pass"}, {"content": "4. Exit maintenance mode", "expected": "pass"}, {"content": "5. Check the controller become available", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "negative_auto_cic_maintenance_mode", "title": "Check negative scenario for auto maintenance mode", "custom_test_case_description": "Check negative scenario for auto maintenance mode\n\n        Scenario:\n            1. Revert snapshot\n            2. Disable UMM\n            3. Change UMM.CONF\n            4. Unexpected reboot\n            5. Check the controller not switching in maintenance mode\n            6. Check the controller become available\n\n        Duration 85m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "85m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Disable UMM", "expected": "pass"}, {"content": "3. Change UMM.CONF", "expected": "pass"}, {"content": "4. Unexpected reboot", "expected": "pass"}, {"content": "5. Check the controller not switching in maintenance mode", "expected": "pass"}, {"content": "6. Check the controller become available", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "negative_manual_cic_maintenance_mode", "title": "Check negative scenario for manual maintenance mode", "custom_test_case_description": "Check negative scenario for manual maintenance mode\n\n        Scenario:\n            1. Revert snapshot\n            2. Disable UMM\n            3. Switch in maintenance mode\n            4. Check the controller not switching in maintenance mode\n            5. Check the controller become available\n\n        Duration 45m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "45m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Disable UMM", "expected": "pass"}, {"content": "3. Switch in maintenance mode", "expected": "pass"}, {"content": "4. Check the controller not switching in maintenance mode", "expected": "pass"}, {"content": "5. Check the controller become available", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_unlock_settings_tab_states", "title": "Create environment and set up master node - unlock_settings_tab_states", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_unlock_settings_tab_states", "title": "Prepare master node - unlock_settings_tab_states", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_unlock_settings_tab_states", "title": "Bootstrap 3 slave nodes - unlock_settings_tab_states", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "failed_deploy_unlock", "title": "Check settings tab is unlocked for a deployed with error environment", "custom_test_case_description": "Check settings tab is unlocked for a deployed with error environment\n\n        Scenario:\n            1. Revert snapshot ready_with_3_slaves\n            2. Create a new env\n            3. Add controller and 2 computes\n            4. Change netconfig task to fail deploy\n            5. Deploy the env\n            6. Download current settings and modify some of them\n            7. Upload changed settings\n            8. Change netconfig task to normal state\n            9. Re-deploy cluster\n            10. Run OSTF\n            11. Make snapshot\n\n        Duration 60m\n        Snapshot failed_deploy_unlock\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready_with_3_slaves", "expected": "pass"}, {"content": "2. Create a new env", "expected": "pass"}, {"content": "3. Add controller and 2 computes", "expected": "pass"}, {"content": "4. Change netconfig task to fail deploy", "expected": "pass"}, {"content": "5. Deploy the env", "expected": "pass"}, {"content": "6. Download current settings and modify some of them", "expected": "pass"}, {"content": "7. Upload changed settings", "expected": "pass"}, {"content": "8. Change netconfig task to normal state", "expected": "pass"}, {"content": "9. Re-deploy cluster", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}, {"content": "11. Make snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "partially_deployed_unlock", "title": "Check settings tab is unlocked for partially-deployed environment", "custom_test_case_description": "Check settings tab is unlocked for partially-deployed environment\n\n        Scenario:\n            1. Revert snapshot ready_with_3_slaves\n            2. Create a new env\n            3. Add controller and 2 computes\n            4. Provision nodes without deploy\n            5. Select some nodes (not all) and deploy them\n            6. Download current settings and modify some of them\n            7. Upload changed settings\n            8. Re-deploy cluster\n            9. Run OSTF\n            10. Make snapshot\n\n        Duration 90m\n        Snapshot partially_deployed_unlock\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready_with_3_slaves", "expected": "pass"}, {"content": "2. Create a new env", "expected": "pass"}, {"content": "3. Add controller and 2 computes", "expected": "pass"}, {"content": "4. Provision nodes without deploy", "expected": "pass"}, {"content": "5. Select some nodes (not all) and deploy them", "expected": "pass"}, {"content": "6. Download current settings and modify some of them", "expected": "pass"}, {"content": "7. Upload changed settings", "expected": "pass"}, {"content": "8. Re-deploy cluster", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}, {"content": "10. Make snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_unlock_settings_tab_states", "title": "Bootstrap 5 slave nodes - unlock_settings_tab_states", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "unlock_settings_tab_positive", "title": "Check settings and network tabs is unlocked for a positively deployed and redeployed cluster", "custom_test_case_description": "Check settings and network tabs is unlocked for a positively\n        deployed and redeployed cluster\n\n        Scenario:\n            1. Create cluster\n            2. Download default cluster settings\n            3. Create custom_config and upload it to cluster\n            4. Add 3 nodes with controller role and 2 nodes with compute role\n            5. Deploy the cluster\n            6. Stop deployment process\n            7. Get current settings\n            8. Change and save them (that means settings are unlocked)\n            9. Redeploy cluster via api\n            10. Get cluster and network settings via api (api load deployed)\n            11. Compare settings from step 8 and 10 (them must be equal)\n            12. Get default settings via api (load defaults)\n            13. Compare settings from step 2 and 13 (them must be equal)\n            14. Redeploy cluster\n            15. Stop deployment process\n            16. Redeploy cluster\n            17. Run OSTF\n\n        Duration 50m\n        Snapshot unlock_settings_tab_positive\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "50m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Download default cluster settings", "expected": "pass"}, {"content": "3. Create custom_config and upload it to cluster", "expected": "pass"}, {"content": "4. Add 3 nodes with controller role and 2 nodes with compute role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Stop deployment process", "expected": "pass"}, {"content": "7. Get current settings", "expected": "pass"}, {"content": "8. Change and save them (that means settings are unlocked)", "expected": "pass"}, {"content": "9. Redeploy cluster via api", "expected": "pass"}, {"content": "10. Get cluster and network settings via api (api load deployed)", "expected": "pass"}, {"content": "11. Compare settings from step 8 and 10 (them must be equal)", "expected": "pass"}, {"content": "12. Get default settings via api (load defaults)", "expected": "pass"}, {"content": "13. Compare settings from step 2 and 13 (them must be equal)", "expected": "pass"}, {"content": "14. Redeploy cluster", "expected": "pass"}, {"content": "15. Stop deployment process", "expected": "pass"}, {"content": "16. Redeploy cluster", "expected": "pass"}, {"content": "17. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_smoke_test_configdb", "title": "Create environment and set up master node - smoke_test_configdb", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "create_component_and_env_configdb", "title": "Install and check ConfigDB", "custom_test_case_description": " Install and check ConfigDB\n\n        Scenario:\n            1. Revert snapshot empty\n            2. Install configDB extension\n            3. Create components\n            4. Create environment with component\n            5. Get and check created data\n            6. Make snapshot\n\n        Duration: 5 min\n        Snapshot: create_component_and_env_configdb\n        ", "milestone_id": 18, "type_id": 1, "estimate": "5m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot empty", "expected": "pass"}, {"content": "2. Install configDB extension", "expected": "pass"}, {"content": "3. Create components", "expected": "pass"}, {"content": "4. Create environment with component", "expected": "pass"}, {"content": "5. Get and check created data", "expected": "pass"}, {"content": "6. Make snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "get_upload_resource_value", "title": "Getting and uploading resource values", "custom_test_case_description": " Getting and uploading resource values\n\n        Scenario:\n            1. Revert snapshot with installed ConfigDB and\n               created component + env\n            2. Check getting global resource value by resource id\n            3. Check getting node resource value by resource id\n            4. Upload global and node values\n            5. Compare global uploaded and effective values\n            6. Check getting resource value by resource name\n            7. Check getting node effective and uploaded data\n            8. Check node effective data contains global_value too\n            9. Add data to slashed resource and compare received data by id and\n               by name of resource\n\n        Duration: 5 min\n        ", "milestone_id": 18, "type_id": 1, "estimate": "5m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with installed ConfigDB and created component + env", "expected": "pass"}, {"content": "2. Check getting global resource value by resource id", "expected": "pass"}, {"content": "3. Check getting node resource value by resource id", "expected": "pass"}, {"content": "4. Upload global and node values", "expected": "pass"}, {"content": "5. Compare global uploaded and effective values", "expected": "pass"}, {"content": "6. Check getting resource value by resource name", "expected": "pass"}, {"content": "7. Check getting node effective and uploaded data", "expected": "pass"}, {"content": "8. Check node effective data contains global_value too", "expected": "pass"}, {"content": "9. Add data to slashed resource and compare received data by id and by name of resource", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "override_resource_value", "title": "Check overridden data takes priority", "custom_test_case_description": " Check overridden data takes priority\n\n        Scenario:\n            1. Revert snapshot with installed ConfigDB and\n               created component + env\n            2. Upload node and global resource values\n            3. Override global resource value\n            4. Check global overridden data affects on node level\n            5. Upload new global data and check it doesn't\n               affect on node level\n            6. Check Node level override takes priority over global override\n            7. Check nodes data on second node has only global overridden data\n\n        Duration: 5 min\n        ", "milestone_id": 18, "type_id": 1, "estimate": "5m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with installed ConfigDB and created component + env", "expected": "pass"}, {"content": "2. Upload node and global resource values", "expected": "pass"}, {"content": "3. Override global resource value", "expected": "pass"}, {"content": "4. Check global overridden data affects on node level", "expected": "pass"}, {"content": "5. Upload new global data and check it doesn't affect on node level", "expected": "pass"}, {"content": "6. Check Node level override takes priority over global override", "expected": "pass"}, {"content": "7. Check nodes data on second node has only global overridden data", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_deploy_from_uca", "title": "Create environment and set up master node - deploy_from_uca", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_deploy_from_uca", "title": "Prepare master node - deploy_from_uca", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_deploy_from_uca", "title": "Bootstrap 5 slave nodes - deploy_from_uca", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "uca_neutron_ha", "title": "Deploy cluster in ha mode with UCA repo", "custom_test_case_description": "Deploy cluster in ha mode with UCA repo\n\n        Scenario:\n            1. Create cluster using UCA release\n            2. Add 3 nodes with controller role\n            3. Add 2 nodes with compute+cinder role\n            4. Run network verification\n            5. Deploy the cluster\n            6. Run network verification\n            7. Ensure that openstack packages were taken from UCA repository\n            8. Run OSTF\n\n        Duration 60m\n        Snapshot uca_neutron_ha\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster using UCA release", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute+cinder role", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Ensure that openstack packages were taken from UCA repository", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "uca_shutdown_cluster", "title": "Graceful shutdown of cluster deployed from UCA", "custom_test_case_description": "Graceful shutdown of cluster deployed from UCA\n\n        Scenario:\n        1. Revert \"uca_neutron_ha\" snapshot\n        2. Warm power off compute+cinder nodes\n        3. Warm power off controller nodes\n        4. Start compute+cinder nodes\n        5. Start controller nodes\n        6. Wait until ha services are ok\n        7. Run OSTF\n\n        Duration: 20m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert \"uca_neutron_ha\" snapshot", "expected": "pass"}, {"content": "2. Warm power off compute+cinder nodes", "expected": "pass"}, {"content": "3. Warm power off controller nodes", "expected": "pass"}, {"content": "4. Start compute+cinder nodes", "expected": "pass"}, {"content": "5. Start controller nodes", "expected": "pass"}, {"content": "6. Wait until ha services are ok", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "uca_neutron_tun_ceph", "title": "Deploy cluster with NeutronTUN, Ceph and UCA repo", "custom_test_case_description": "Deploy cluster with NeutronTUN, Ceph and UCA repo\n\n        Scenario:\n            1. Create cluster using UCA release\n            2. Add 3 nodes with controller role\n            3. Add 2 nodes with compute+ceph role\n            4. Add 1 node with ceph role\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Ensure that openstack packages were taken from UCA repository\n            9. Run OSTF\n\n        Duration 60m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster using UCA release", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute+ceph role", "expected": "pass"}, {"content": "4. Add 1 node with ceph role", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Ensure that openstack packages were taken from UCA repository", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_9_deploy_from_uca", "title": "Bootstrap 9 slave nodes - deploy_from_uca", "custom_test_case_description": "Bootstrap 9 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 9 slave nodes\n\n        Snapshot: ready_with_9_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 9 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "uca_vlan_mongo", "title": "Deploy cluster with NeutronVlan, Ceilometer and UCA repo", "custom_test_case_description": "Deploy cluster with NeutronVlan, Ceilometer and UCA repo\n\n        Scenario:\n            1. Create cluster using UCA release, Ceph for images and objects\n            2. Add 3 nodes with controller+mongo role\n            3. Add 1 node with compute+cinder role\n            4. Add 3 nodes with ceph-osd role\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Ensure that openstack packages were taken from UCA repository\n            9. Run OSTF\n\n        Duration 60m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster using UCA release, Ceph for images and objects", "expected": "pass"}, {"content": "2. Add 3 nodes with controller+mongo role", "expected": "pass"}, {"content": "3. Add 1 node with compute+cinder role", "expected": "pass"}, {"content": "4. Add 3 nodes with ceph-osd role", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Ensure that openstack packages were taken from UCA repository", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_cluster_actions_ha", "title": "Create environment and set up master node - cluster_actions_ha", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_cluster_actions_ha", "title": "Prepare master node - cluster_actions_ha", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_cluster_actions_ha", "title": "Bootstrap 5 slave nodes - cluster_actions_ha", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_stop_reset_on_ha", "title": "Stop reset cluster in ha mode", "custom_test_case_description": "Stop reset cluster in ha mode\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 node with controller role\n            3. Verify network\n            4. Deploy cluster\n            5. Stop deployment\n            6. Reset settings\n            7. Add 2 nodes with compute role\n            8. Re-deploy cluster\n            9. Verify network\n            10. Run OSTF\n\n        Duration 60m\n        Snapshot: deploy_stop_reset_on_ha\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 node with controller role", "expected": "pass"}, {"content": "3. Verify network", "expected": "pass"}, {"content": "4. Deploy cluster", "expected": "pass"}, {"content": "5. Stop deployment", "expected": "pass"}, {"content": "6. Reset settings", "expected": "pass"}, {"content": "7. Add 2 nodes with compute role", "expected": "pass"}, {"content": "8. Re-deploy cluster", "expected": "pass"}, {"content": "9. Verify network", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_cgroup_ha", "title": "Create environment and set up master node - cgroup_ha", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_cgroup_ha", "title": "Prepare master node - cgroup_ha", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_cgroup_ha", "title": "Bootstrap 5 slave nodes - cgroup_ha", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_cgroup", "title": "Deploy cluster in HA mode with enabled cgroups", "custom_test_case_description": "Deploy cluster in HA mode with enabled cgroups\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 1 node with compute role\n            4. Add 1 node with cinder role\n            5. Deploy the cluster\n            6. Check ceph status\n            7. Run OSTF\n\n        Duration 90m\n        Snapshot deploy_ha_cgroup\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Add 1 node with cinder role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Check ceph status", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "apply_cgroups_after_deploy", "title": "Apply, reconfigure and disable cgroups limits to services", "custom_test_case_description": "Apply, reconfigure and disable cgroups limits to services\n\n        Scenario:\n            1. Revert snapshot deploy_ha_cgroup\n            2. Configure and validate cgroups for mysqld, rabbitmq\n               and keystone\n            3. Reconfigure and validate cgroups for mysqld,\n               rabbitmq and keystone\n            4. Disable cgroups for mysqld, rabbitmq and keystone\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot deploy_ha_cgroup", "expected": "pass"}, {"content": "2. Configure and validate cgroups for mysqld, rabbitmq and keystone", "expected": "pass"}, {"content": "3. Reconfigure and validate cgroups for mysqld, rabbitmq and keystone", "expected": "pass"}, {"content": "4. Disable cgroups for mysqld, rabbitmq and keystone", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "apply_cgroups_reboot_node", "title": "Apply cgroups limits to services, reboot, verify", "custom_test_case_description": "Apply cgroups limits to services, reboot, verify\n\n        Scenario:\n            1. Revert snapshot deploy_ha_cgroup\n            2. Configure and validate cgroups for mysqld, rabbitmq\n               and keystone\n            3. Reboot controller\n            4. Validate cgroups for mysqld, rabbitmq and keystone\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot deploy_ha_cgroup", "expected": "pass"}, {"content": "2. Configure and validate cgroups for mysqld, rabbitmq and keystone", "expected": "pass"}, {"content": "3. Reboot controller", "expected": "pass"}, {"content": "4. Validate cgroups for mysqld, rabbitmq and keystone", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "apply_relative_cgroups_after_deploy", "title": "Apply relative cgroups limits to services", "custom_test_case_description": "Apply relative cgroups limits to services\n\n        Scenario:\n            1. Revert snapshot deploy_ha_cgroup\n            2. Configure and validate cgroups for mysqld, rabbitmq\n               and keystone with relative memory count\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot deploy_ha_cgroup", "expected": "pass"}, {"content": "2. Configure and validate cgroups for mysqld, rabbitmq and keystone with relative memory count", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ceph_ha_one_controller", "title": "Create environment and set up master node - ceph_ha_one_controller", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ceph_ha_one_controller", "title": "Prepare master node - ceph_ha_one_controller", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_ceph_ha_one_controller", "title": "Bootstrap 3 slave nodes - ceph_ha_one_controller", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_ha_one_controller_compact", "title": "Deploy ceph in HA mode with 1 controller", "custom_test_case_description": "Deploy ceph in HA mode with 1 controller\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller and ceph OSD roles\n            3. Add 2 nodes with compute and ceph OSD roles\n            4. Deploy the cluster\n            5. Check ceph status\n\n        Duration 35m\n        Snapshot ceph_ha_one_controller_compact\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller and ceph OSD roles", "expected": "pass"}, {"content": "3. Add 2 nodes with compute and ceph OSD roles", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Check ceph status", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ceph_cinder_cow", "title": "Check copy-on-write when Cinder creates a volume from Glance image", "custom_test_case_description": "Check copy-on-write when Cinder creates a volume from Glance image\n\n        Scenario:\n            1. Revert a snapshot where ceph enabled for volumes and images:\n                 \"ceph_ha_one_controller_compact\"\n            2. Create a Glance image in RAW disk format\n            3. Create a Cinder volume using Glance image in RAW disk format\n            4. Check on a ceph-osd node if the volume has a parent image.\n\n        Duration 5m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "5m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert a snapshot where ceph enabled for volumes and images: \"ceph_ha_one_controller_compact\"", "expected": "pass"}, {"content": "2. Create a Glance image in RAW disk format", "expected": "pass"}, {"content": "3. Create a Cinder volume using Glance image in RAW disk format", "expected": "pass"}, {"content": "4. Check on a ceph-osd node if the volume has a parent image.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "migrate_vm_backed_with_ceph", "title": "Check VM backed with ceph migration in ha mode with 1 controller", "custom_test_case_description": "Check VM backed with ceph migration in ha mode with 1 controller\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller and ceph OSD roles\n            3. Add 2 nodes with compute and ceph OSD roles\n            4. Deploy the cluster\n            5. Check ceph status\n            6. Run OSTF\n            7. Create a new VM, assign floating ip\n            8. Migrate VM\n            9. Check cluster and server state after migration\n            10. Terminate VM\n            11. Check that DHCP lease is not offered for MAC of deleted VM\n            12. Create a new VM for migration, assign floating ip\n            13. Create a volume and attach it to the VM\n            14. Create filesystem on the new volume and mount it to the VM\n            15. Migrate VM\n            16. Mount the volume after migration\n            17. Check cluster and server state after migration\n            18. Terminate VM\n\n        Duration 35m\n        Snapshot vm_backed_with_ceph_live_migration\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller and ceph OSD roles", "expected": "pass"}, {"content": "3. Add 2 nodes with compute and ceph OSD roles", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Check ceph status", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}, {"content": "7. Create a new VM, assign floating ip", "expected": "pass"}, {"content": "8. Migrate VM", "expected": "pass"}, {"content": "9. Check cluster and server state after migration", "expected": "pass"}, {"content": "10. Terminate VM", "expected": "pass"}, {"content": "11. Check that DHCP lease is not offered for MAC of deleted VM", "expected": "pass"}, {"content": "12. Create a new VM for migration, assign floating ip", "expected": "pass"}, {"content": "13. Create a volume and attach it to the VM", "expected": "pass"}, {"content": "14. Create filesystem on the new volume and mount it to the VM", "expected": "pass"}, {"content": "15. Migrate VM", "expected": "pass"}, {"content": "16. Mount the volume after migration", "expected": "pass"}, {"content": "17. Check cluster and server state after migration", "expected": "pass"}, {"content": "18. Terminate VM", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ceph_partitions_after_reboot", "title": "Check that Ceph OSD partitions are remounted after reboot", "custom_test_case_description": "Check that Ceph OSD partitions are remounted after reboot\n\n        Scenario:\n            1. Create cluster in Ha mode with 1 controller\n            2. Add 1 node with controller role\n            3. Add 1 node with compute and Ceph OSD roles\n            4. Add 1 node with Ceph OSD role\n            5. Deploy the cluster\n            6. Check Ceph status\n            7. Read current partitions\n            8. Warm-reboot Ceph nodes\n            9. Read partitions again\n            10. Check Ceph health\n            11. Cold-reboot Ceph nodes\n            12. Read partitions again\n            13. Check Ceph health\n\n        Duration 40m\n        Snapshot check_ceph_partitions_after_reboot\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in Ha mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute and Ceph OSD roles", "expected": "pass"}, {"content": "4. Add 1 node with Ceph OSD role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Check Ceph status", "expected": "pass"}, {"content": "7. Read current partitions", "expected": "pass"}, {"content": "8. Warm-reboot Ceph nodes", "expected": "pass"}, {"content": "9. Read partitions again", "expected": "pass"}, {"content": "10. Check Ceph health", "expected": "pass"}, {"content": "11. Cold-reboot Ceph nodes", "expected": "pass"}, {"content": "12. Read partitions again", "expected": "pass"}, {"content": "13. Check Ceph health", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_thread_usb", "title": "Create environment and set up master node - thread_usb", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_thread_usb", "title": "Prepare master node - thread_usb", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_thread_usb", "title": "Bootstrap 3 slave nodes - thread_usb", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_one_controller_neutron_usb", "title": "Deploy cluster in HA mode (1 controller) with neutron USB", "custom_test_case_description": "Deploy cluster in HA mode (1 controller) with neutron USB\n\n        Scenario:\n            1. Create cluster in HA mode\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Validate cluster was set up correctly, there are no dead\n               services, there are no errors in logs\n            6. Verify networks\n            7. Verify network configuration on controller\n            8. Run OSTF\n\n        Duration 30m\n        Snapshot: deploy_ha_one_controller_neutron\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in HA mode", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Validate cluster was set up correctly, there are no dead services, there are no errors in logs", "expected": "pass"}, {"content": "6. Verify networks", "expected": "pass"}, {"content": "7. Verify network configuration on controller", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_fuel_plugin_vip_reservation", "title": "Create environment and set up master node - fuel_plugin_vip_reservation", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_fuel_plugin_vip_reservation", "title": "Prepare master node - fuel_plugin_vip_reservation", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_fuel_plugin_vip_reservation", "title": "Bootstrap 3 slave nodes - fuel_plugin_vip_reservation", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "vip_reservation_for_plugin", "title": "Check vip reservation for fuel plugin", "custom_test_case_description": "Check vip reservation for fuel plugin\n\n        Scenario:\n        1. Revert snapshot with 3 nodes\n        2. Download and install fuel-plugin-builder\n        3. Create plugin with predefined network_roles.yaml\n        4. Build and copy plugin to /var directory\n        5. Install plugin to fuel\n        6. Create cluster and enable plugin\n        7. Deploy cluster\n        8. Check vip reservation\n\n        Duration 40m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 3 nodes", "expected": "pass"}, {"content": "2. Download and install fuel-plugin-builder", "expected": "pass"}, {"content": "3. Create plugin with predefined network_roles.yaml", "expected": "pass"}, {"content": "4. Build and copy plugin to /var directory", "expected": "pass"}, {"content": "5. Install plugin to fuel", "expected": "pass"}, {"content": "6. Create cluster and enable plugin", "expected": "pass"}, {"content": "7. Deploy cluster", "expected": "pass"}, {"content": "8. Check vip reservation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "vip_reservation_for_plugin_custom_ns", "title": "Check vip reservation for custom ns plugin", "custom_test_case_description": "Check vip reservation for custom ns plugin\n\n        Scenario:\n        1. Revert snapshot with 3 nodes\n        2. Download and install fuel-plugin-builder\n        3. Create plugin with predefined network_roles.yaml\n        4. Build and copy plugin to /var\n        5. Install plugin to fuel\n        6. Create cluster and enable plugin\n        7. Deploy cluster\n        8. Check vip reservation\n\n        Duration 40m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 3 nodes", "expected": "pass"}, {"content": "2. Download and install fuel-plugin-builder", "expected": "pass"}, {"content": "3. Create plugin with predefined network_roles.yaml", "expected": "pass"}, {"content": "4. Build and copy plugin to /var", "expected": "pass"}, {"content": "5. Install plugin to fuel", "expected": "pass"}, {"content": "6. Create cluster and enable plugin", "expected": "pass"}, {"content": "7. Deploy cluster", "expected": "pass"}, {"content": "8. Check vip reservation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "vip_reservation_for_plugin_haproxy_ns", "title": "Check vip reservation for haproxy ns plugin", "custom_test_case_description": "Check vip reservation for haproxy ns plugin\n\n        Scenario:\n        1. Revert snapshot with 3 nodes\n        2. Download and install fuel-plugin-builder\n        3. Create plugin with predefined network_roles.yaml\n        4. Build and copy plugin to /var directory\n        5. Install plugin to fuel\n        6. Create cluster and enable plugin\n        7. Deploy cluster\n        8. Check vip reservation\n\n        Duration 40m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 3 nodes", "expected": "pass"}, {"content": "2. Download and install fuel-plugin-builder", "expected": "pass"}, {"content": "3. Create plugin with predefined network_roles.yaml", "expected": "pass"}, {"content": "4. Build and copy plugin to /var directory", "expected": "pass"}, {"content": "5. Install plugin to fuel", "expected": "pass"}, {"content": "6. Create cluster and enable plugin", "expected": "pass"}, {"content": "7. Deploy cluster", "expected": "pass"}, {"content": "8. Check vip reservation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_repeatable_image_based", "title": "Create environment and set up master node - repeatable_image_based", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_repeatable_image_based", "title": "Prepare master node - repeatable_image_based", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_repeatable_image_based", "title": "Bootstrap 5 slave nodes - repeatable_image_based", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "repeatable_image_based", "title": "Provision new cluster many times after deletion the old one", "custom_test_case_description": "Provision new cluster many times after deletion the old one\n\n        Scenario:\n            1. Create HA cluster\n            2. Add 1 controller, 2 compute and 2 cinder nodes\n            3. Deploy the cluster\n            4. Delete cluster\n            5. Create snapshot of environment\n            6. Revert snapshot\n            7. Create and try provision another HA cluster\n            8. Repeat 6-7 steps 10 times\n\n        Duration 60m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create HA cluster", "expected": "pass"}, {"content": "2. Add 1 controller, 2 compute and 2 cinder nodes", "expected": "pass"}, {"content": "3. Deploy the cluster", "expected": "pass"}, {"content": "4. Delete cluster", "expected": "pass"}, {"content": "5. Create snapshot of environment", "expected": "pass"}, {"content": "6. Revert snapshot", "expected": "pass"}, {"content": "7. Create and try provision another HA cluster", "expected": "pass"}, {"content": "8. Repeat 6-7 steps 10 times", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_destructive_ceph_neutron", "title": "Create environment and set up master node - ha_destructive_ceph_neutron", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_destructive_ceph_neutron", "title": "Prepare master node - ha_destructive_ceph_neutron", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ha_destructive_ceph_neutron", "title": "Bootstrap 5 slave nodes - ha_destructive_ceph_neutron", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_ha_ceph_neutron", "title": "Prepare cluster in HA/Neutron mode with ceph for failover tests", "custom_test_case_description": "Prepare cluster in HA/Neutron mode with ceph for failover tests\n\n        Scenario:\n            1. Create cluster\n            2. Add 2 nodes with controller roles, 1 node controller + ceph-osd\n            3. Add 1 node with compute role, 1 node compute + ceph-osd\n            4. Deploy the cluster\n            5. Make snapshot\n\n        Duration 70m\n        Snapshot prepare_ha_ceph_neutron\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 2 nodes with controller roles, 1 node controller + ceph-osd", "expected": "pass"}, {"content": "3. Add 1 node with compute role, 1 node compute + ceph-osd", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Make snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_ceph_neutron_rabbit_master_destroy", "title": "Suspend rabbit master, check neutron cluster, resume nodes, check cluster", "custom_test_case_description": "Suspend rabbit master, check neutron cluster,\n         resume nodes, check cluster\n\n        Scenario:\n            1. Revert snapshot prepare_ha_ceph_neutron\n            2. Wait galera is up, keystone re-trigger tokens\n            3. Create instance, assign floating ip\n            5. Ping instance by floating ip\n            6. Suspend rabbit-master controller\n            7. Run OSTF ha suite\n            8. Ping created instance\n            9. Suspend second rabbit-master controller\n            10. Turn on controller from step 6\n            11. Run OSTF ha suite\n            12. Ping instance\n            13. Turn on controller from step 9\n            14. Run OSTF ha suite\n            15. Ping instance\n            16. Run OSTF\n\n        Duration 40m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot prepare_ha_ceph_neutron", "expected": "pass"}, {"content": "2. Wait galera is up, keystone re-trigger tokens", "expected": "pass"}, {"content": "3. Create instance, assign floating ip", "expected": "pass"}, {"content": "5. Ping instance by floating ip", "expected": "pass"}, {"content": "6. Suspend rabbit-master controller", "expected": "pass"}, {"content": "7. Run OSTF ha suite", "expected": "pass"}, {"content": "8. Ping created instance", "expected": "pass"}, {"content": "9. Suspend second rabbit-master controller", "expected": "pass"}, {"content": "10. Turn on controller from step 6", "expected": "pass"}, {"content": "11. Run OSTF ha suite", "expected": "pass"}, {"content": "12. Ping instance", "expected": "pass"}, {"content": "13. Turn on controller from step 9", "expected": "pass"}, {"content": "14. Run OSTF ha suite", "expected": "pass"}, {"content": "15. Ping instance", "expected": "pass"}, {"content": "16. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_reduced_footprint", "title": "Create environment and set up master node - reduced_footprint", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_reduced_footprint", "title": "Prepare master node - reduced_footprint", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_1_reduced_footprint", "title": "Bootstrap 1 slave nodes - reduced_footprint", "custom_test_case_description": "Bootstrap 1 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 1 slave nodes\n\n        Snapshot: ready_with_1_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 1 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "spawn_one_vm_on_one_virt_node", "title": "Spawn one vm node on one slave node", "custom_test_case_description": "Spawn one vm node on one slave node\n\n        Scenario:\n            1. Create cluster\n            2. Assign compute and virt roles to slave node\n            3. Upload configuration for one VM\n            4. Spawn VM\n            5. Wait till VM become available for allocation\n\n        Duration: 60m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Assign compute and virt roles to slave node", "expected": "pass"}, {"content": "3. Upload configuration for one VM", "expected": "pass"}, {"content": "4. Spawn VM", "expected": "pass"}, {"content": "5. Wait till VM become available for allocation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "spawn_two_vms_on_one_virt_node", "title": "Spawn two vm nodes on one slave node", "custom_test_case_description": "Spawn two vm nodes on one slave node\n\n        Scenario:\n            1. Create cluster\n            2. Assign compute and virt roles to slave node\n            3. Upload configuration for two VMs\n            4. Spawn VMs\n            5. Wait till VMs become available for allocation\n\n        Duration: 60m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Assign compute and virt roles to slave node", "expected": "pass"}, {"content": "3. Upload configuration for two VMs", "expected": "pass"}, {"content": "4. Spawn VMs", "expected": "pass"}, {"content": "5. Wait till VMs become available for allocation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_reduced_footprint", "title": "Bootstrap 3 slave nodes - reduced_footprint", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "spawn_three_vms_across_three_virt_nodes", "title": "Spawn three vm nodes across three slave nodes", "custom_test_case_description": "Spawn three vm nodes across three slave nodes\n\n        Scenario:\n            1. Create cluster\n            2. Assign compute and virt roles to three slave nodes\n            3. Upload VM configuration for one VM to each slave node\n            4. Spawn VMs\n            5. Wait till VMs become available for allocation\n\n        Duration: 60m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Assign compute and virt roles to three slave nodes", "expected": "pass"}, {"content": "3. Upload VM configuration for one VM to each slave node", "expected": "pass"}, {"content": "4. Spawn VMs", "expected": "pass"}, {"content": "5. Wait till VMs become available for allocation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_bonding_ha", "title": "Create environment and set up master node - bonding_ha", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_bonding_ha", "title": "Prepare master node - bonding_ha", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_bonding_ha", "title": "Bootstrap 5 slave nodes - bonding_ha", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "bonding_conf_consistency", "title": "Verify that network configuration with bonds is consistent         after deployment failure", "custom_test_case_description": "Verify that network configuration with bonds is consistent         after deployment failure\n\n        Scenario:\n            1. Create an environment\n            2. Add 3 nodes with controller role\n            3. Add 1 node with compute role\n            4. Setup bonding for all interfaces (including admin interface\n               bonding)\n            5. Run network verification\n            6. Update 'connectivity_tests' puppet manifest to cause the               deployment process fail right after 'netconfig' task is finished\n            7. Start deployment and wait until it fails\n            8. Verify that interfaces are not lost from the configured bonds\n            9. Restore the initial version of 'connectivity_tests' manifest\n            10. Redeploy the cluster and run basic health checks\n            11. Run network verification\n\n        Duration 120m\n        Snapshot bonding_conf_consistency\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Create an environment", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Setup bonding for all interfaces (including admin interface bonding)", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Update 'connectivity_tests' puppet manifest to cause the               deployment process fail right after 'netconfig' task is finished", "expected": "pass"}, {"content": "7. Start deployment and wait until it fails", "expected": "pass"}, {"content": "8. Verify that interfaces are not lost from the configured bonds", "expected": "pass"}, {"content": "9. Restore the initial version of 'connectivity_tests' manifest", "expected": "pass"}, {"content": "10. Redeploy the cluster and run basic health checks", "expected": "pass"}, {"content": "11. Run network verification", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_bonding_neutron_tun", "title": "Deploy cluster with active-backup bonding and Neutron VXLAN", "custom_test_case_description": "Deploy cluster with active-backup bonding and Neutron VXLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Setup bonding for all interfaces (including admin interface\n               bonding)\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Run OSTF\n            9. Save network configuration from slave nodes\n            10. Reboot all environment nodes\n            11. Verify that network configuration is the same after reboot\n            12. Run network verification\n            13. Run OST\n\n        Duration 70m\n        Snapshot deploy_bonding_neutron_tun\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Setup bonding for all interfaces (including admin interface bonding)", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Save network configuration from slave nodes", "expected": "pass"}, {"content": "10. Reboot all environment nodes", "expected": "pass"}, {"content": "11. Verify that network configuration is the same after reboot", "expected": "pass"}, {"content": "12. Run network verification", "expected": "pass"}, {"content": "13. Run OST", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_bonding_neutron_vlan", "title": "Deploy cluster with active-backup bonding and Neutron VLAN", "custom_test_case_description": "Deploy cluster with active-backup bonding and Neutron VLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 1 node with compute role and 1 node with cinder role\n            4. Setup bonding for all interfaces (including admin interface\n               bonding)\n            5. Run network verification\n            6. Deploy the cluster\n            7. Run network verification\n            8. Run OSTF\n            9. Save network configuration from slave nodes\n            10. Reboot all environment nodes\n            11. Verify that network configuration is the same after reboot\n            12. Run network verification\n            13. Run OSTF\n\n        Duration 70m\n        Snapshot deploy_bonding_neutron_vlan\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role and 1 node with cinder role", "expected": "pass"}, {"content": "4. Setup bonding for all interfaces (including admin interface bonding)", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Save network configuration from slave nodes", "expected": "pass"}, {"content": "10. Reboot all environment nodes", "expected": "pass"}, {"content": "11. Verify that network configuration is the same after reboot", "expected": "pass"}, {"content": "12. Run network verification", "expected": "pass"}, {"content": "13. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "Case_FillRootPrimaryController__Config_ceph_all_on_neutron_vlan", "title": "Fill root filesystem on primary controller and check pacemaker on 3 Controller, 3 Compute & Ceph on Neutron/VLAN", "custom_test_case_description": "Fill root filesystem on primary controller and check pacemaker on 3 Controller, 3 Compute & Ceph on Neutron/VLAN\n\n    Scenario:\n        0. Setup master node\n        1. Configuration releases\n        2. Bootstrap slave and make snapshot\n        3. Revert bootstrapped nodes\n        4. Create Fuel Environment\n        5. Add nodes to environment\n        6. Run network checker\n        7. Deploy environment\n        8. Run network checker\n        9. Run health checker\n        10. Load existent environment from snapshot or save it\n        11. Get controllers initial status in pacemaker\n        12. Filling root filesystem on primary controller\n        13. Check stopping pacemaker resources\n        14. Run health checker\n        15. Fill root more to below rabbit disk free limit\n        16. Check stopping pacemaker resources\n        17. Run health checker\n        18. Clean up space on root filesystem on primary controller\n        19. Check starting pacemaker resources\n        20. Run health checker Sanity, Smoke and HA\n\nDuration 180m", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "0. Setup master node", "expected": "pass"}, {"content": "1. Configuration releases", "expected": "pass"}, {"content": "2. Bootstrap slave and make snapshot", "expected": "pass"}, {"content": "3. Revert bootstrapped nodes", "expected": "pass"}, {"content": "4. Create Fuel Environment", "expected": "pass"}, {"content": "5. Add nodes to environment", "expected": "pass"}, {"content": "6. Run network checker", "expected": "pass"}, {"content": "7. Deploy environment", "expected": "pass"}, {"content": "8. Run network checker", "expected": "pass"}, {"content": "9. Run health checker", "expected": "pass"}, {"content": "10. Load existent environment from snapshot or save it", "expected": "pass"}, {"content": "11. Get controllers initial status in pacemaker", "expected": "pass"}, {"content": "12. Filling root filesystem on primary controller", "expected": "pass"}, {"content": "13. Check stopping pacemaker resources", "expected": "pass"}, {"content": "14. Run health checker", "expected": "pass"}, {"content": "15. Fill root more to below rabbit disk free limit", "expected": "pass"}, {"content": "16. Check stopping pacemaker resources", "expected": "pass"}, {"content": "17. Run health checker", "expected": "pass"}, {"content": "18. Clean up space on root filesystem on primary controller", "expected": "pass"}, {"content": "19. Check starting pacemaker resources", "expected": "pass"}, {"content": "20. Run health checker Sanity, Smoke and HA", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "bootstrap_multipath", "title": "Bootstrap node with multipath devices", "custom_test_case_description": "Bootstrap node with multipath devices\n\n        Scenario:\n            1. Setup environment\n            2. Bootstrap slave nodes\n            3. Verify multipath devices on the nodes\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Setup environment", "expected": "pass"}, {"content": "2. Bootstrap slave nodes", "expected": "pass"}, {"content": "3. Verify multipath devices on the nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_multipath", "title": "Deploy cluster with multipath devices", "custom_test_case_description": "Deploy cluster with multipath devices\n\n        Scenario:\n            1. Create cluster with 1 controller, 1 compute and 1 cinder roles\n            2. Run network verification\n            3. Provision the cluster\n            4. Verify multipath devices on nodes\n            5. Deploy the cluster\n            6. Run OSTF\n\n        Duration 50m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "50m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with 1 controller, 1 compute and 1 cinder roles", "expected": "pass"}, {"content": "2. Run network verification", "expected": "pass"}, {"content": "3. Provision the cluster", "expected": "pass"}, {"content": "4. Verify multipath devices on nodes", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_repetitive_restart", "title": "Create environment and set up master node - repetitive_restart", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_repetitive_restart", "title": "Prepare master node - repetitive_restart", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_repetitive_restart", "title": "Bootstrap 5 slave nodes - repetitive_restart", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_partitions_repetitive_cold_restart", "title": "Ceph-osd partitions on 30% ~start rally~ repetitive cold restart", "custom_test_case_description": "Ceph-osd partitions on 30% ~start rally~ repetitive cold restart\n\n        Scenario:\n            1. Revert snapshot 'prepare_load_ceph_ha'\n            2. Wait until MySQL Galera is UP on some controller\n            3. Check Ceph status\n            4. Run ostf\n            5. Fill ceph partitions on all nodes up to 30%\n            6. Check Ceph status\n            7. Run RALLY\n            8. 100 times repetitive reboot:\n            9. Cold restart of all nodes\n            10. Wait for HA services ready\n            11. Wait until MySQL Galera is UP on some controller\n            12. Run ostf\n\n        Duration 1700m\n        Snapshot ceph_partitions_repetitive_cold_restart\n        ", "milestone_id": 18, "type_id": 1, "estimate": "1700m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'prepare_load_ceph_ha'", "expected": "pass"}, {"content": "2. Wait until MySQL Galera is UP on some controller", "expected": "pass"}, {"content": "3. Check Ceph status", "expected": "pass"}, {"content": "4. Run ostf", "expected": "pass"}, {"content": "5. Fill ceph partitions on all nodes up to 30%", "expected": "pass"}, {"content": "6. Check Ceph status", "expected": "pass"}, {"content": "7. Run RALLY", "expected": "pass"}, {"content": "8. 100 times repetitive reboot:", "expected": "pass"}, {"content": "9. Cold restart of all nodes", "expected": "pass"}, {"content": "10. Wait for HA services ready", "expected": "pass"}, {"content": "11. Wait until MySQL Galera is UP on some controller", "expected": "pass"}, {"content": "12. Run ostf", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_plugins.install_plugin_after_cluster_create", "title": "Create environment and set up master node - plugins.install_plugin_after_cluster_create", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_plugins.install_plugin_after_cluster_create", "title": "Prepare master node - plugins.install_plugin_after_cluster_create", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_plugins.install_plugin_after_cluster_create", "title": "Bootstrap 5 slave nodes - plugins.install_plugin_after_cluster_create", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "three_ctrl_install_after_create", "title": "Install plugin after cluster create", "custom_test_case_description": "Install plugin after cluster create\n\n        Scenario:\n            1. Create cluster\n            2. Upload plugin to the master node\n            3. Install plugin\n            4. Verify, that plugin is recognized\n            5. Add 3 nodes with controller role\n            6. Add 2 node with compute role\n            7. Deploy the cluster\n            8. Run network verification\n            9. Run OSTF\n\n        Duration 100m\n        Snapshot three_ctrl_install_after_create\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Upload plugin to the master node", "expected": "pass"}, {"content": "3. Install plugin", "expected": "pass"}, {"content": "4. Verify, that plugin is recognized", "expected": "pass"}, {"content": "5. Add 3 nodes with controller role", "expected": "pass"}, {"content": "6. Add 2 node with compute role", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "five_ctrl_enable_installed_after_create_add", "title": "Enable plugin, installed after create, and add nodes", "custom_test_case_description": "Enable plugin, installed after create, and add nodes\n\n        Scenario:\n            1. Enable plugin\n            2. Deploy 2 new controller nodes at cluster (Nodes Under Test)\n            3. Run network verification\n            4. Check plugin on ALL controller nodes\n            5. Run OSTF\n\n        Duration 130m\n        Snapshot five_ctrl_enable_installed_after_create_add\n        ", "milestone_id": 18, "type_id": 1, "estimate": "130m", "refs": "", "custom_test_case_steps": [{"content": "1. Enable plugin", "expected": "pass"}, {"content": "2. Deploy 2 new controller nodes at cluster (Nodes Under Test)", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Check plugin on ALL controller nodes", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "three_ctrl_enable_installed_after_create_redeploy", "title": "Enable plugin, installed after create, and re-deploy node", "custom_test_case_description": "Enable plugin, installed after create, and re-deploy node\n\n        Scenario:\n            1. Enable plugin\n            2. Re-deploy 1 controller node at cluster (Node Under Test)\n            3. Run network verification\n            4. Check plugin on ALL controller nodes\n            5. Run OSTF\n\n        Duration 35m\n        Snapshot three_ctrl_enable_installed_after_create_redeploy\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Enable plugin", "expected": "pass"}, {"content": "2. Re-deploy 1 controller node at cluster (Node Under Test)", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Check plugin on ALL controller nodes", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "three_ctrl_install_after_deploy", "title": "Install plugin after cluster deployment", "custom_test_case_description": "Install plugin after cluster deployment\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 2 node with compute role\n            4. Deploy the cluster\n            5. Run network verification\n            6. Upload plugin to the master node\n            7. Install plugin\n            8. Verify, that plugin is recognized\n            9. Run network verification\n            10. Run OSTF\n\n        Duration 100m\n        Snapshot three_ctrl_install_after_deploy\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 2 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Upload plugin to the master node", "expected": "pass"}, {"content": "7. Install plugin", "expected": "pass"}, {"content": "8. Verify, that plugin is recognized", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "five_ctrl_enable_installed_after_deploy_add", "title": "Enable plugin, installed after deploy, and add nodes", "custom_test_case_description": "Enable plugin, installed after deploy, and add nodes\n\n        Scenario:\n            1. Enable plugin\n            2. Deploy 2 new controller nodes at cluster (Nodes Under Test)\n            3. Run network verification\n            4. Check plugin on ALL controller nodes\n            5. Run OSTF\n\n        Duration 130m\n        Snapshot five_ctrl_enable_installed_after_deploy_add\n        ", "milestone_id": 18, "type_id": 1, "estimate": "130m", "refs": "", "custom_test_case_steps": [{"content": "1. Enable plugin", "expected": "pass"}, {"content": "2. Deploy 2 new controller nodes at cluster (Nodes Under Test)", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Check plugin on ALL controller nodes", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "three_ctrl_enable_installed_after_deploy_redeploy", "title": "Enable plugin, installed after deploy, and re-deploy node", "custom_test_case_description": "Enable plugin, installed after deploy, and re-deploy node\n\n        Scenario:\n            1. Enable plugin\n            2. Re-deploy 1 controller node at cluster (Node Under Test)\n            3. Run network verification\n            4. Check plugin on ALL controller nodes\n            5. Run OSTF\n\n        Duration 35m\n        Snapshot three_ctrl_enable_installed_after_deploy_redeploy\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Enable plugin", "expected": "pass"}, {"content": "2. Re-deploy 1 controller node at cluster (Node Under Test)", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Check plugin on ALL controller nodes", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "three_ctrl_install_enable_after_create", "title": "Install and enable plugin after cluster create", "custom_test_case_description": "Install and enable plugin after cluster create\n\n        Scenario:\n            1. Create cluster\n            2. Upload plugin to the master node\n            3. Install plugin\n            4. Enable plugin\n            5. Add 3 nodes with controller role\n            6. Add 2 node with compute role\n            7. Deploy the cluster\n            8. Run network verification\n            9. Check plugin on ALL controller nodes\n            10. Run OSTF\n\n        Duration 100m\n        Snapshot three_ctrl_install_enable_after_create\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Upload plugin to the master node", "expected": "pass"}, {"content": "3. Install plugin", "expected": "pass"}, {"content": "4. Enable plugin", "expected": "pass"}, {"content": "5. Add 3 nodes with controller role", "expected": "pass"}, {"content": "6. Add 2 node with compute role", "expected": "pass"}, {"content": "7. Deploy the cluster", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Check plugin on ALL controller nodes", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_plugins.thread_db_separate_services", "title": "Create environment and set up master node - plugins.thread_db_separate_services", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_plugins.thread_db_separate_services", "title": "Prepare master node - plugins.thread_db_separate_services", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_9_plugins.thread_db_separate_services", "title": "Bootstrap 9 slave nodes - plugins.thread_db_separate_services", "custom_test_case_description": "Bootstrap 9 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 9 slave nodes\n\n        Snapshot: ready_with_9_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 9 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_db_service", "title": "Deploy cluster with 3 separate database roles", "custom_test_case_description": "Deploy cluster with 3 separate database roles\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 3 nodes with database role\n            4. Add 1 compute and cinder\n            5. Verify networks\n            6. Deploy the cluster\n            7. Verify networks\n            8. Run OSTF\n\n        Duration 120m\n        Snapshot separate_db_service\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 3 nodes with database role", "expected": "pass"}, {"content": "4. Add 1 compute and cinder", "expected": "pass"}, {"content": "5. Verify networks", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Verify networks", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_db_service_add_delete_node", "title": "Add and delete database node", "custom_test_case_description": "Add and delete database node\n\n        Scenario:\n            1. Revert snapshot separate_db_service\n            2. Add one database node and re-deploy cluster\n            3. Run network verification\n            4. Run OSTF\n            5. Check hiera hosts are the same for\n               different group of roles\n            6. Delete one database node\n            7. Run network verification\n            8. Run ostf\n            9. Check hiera hosts are the same for\n               different group of roles\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_db_service", "expected": "pass"}, {"content": "2. Add one database node and re-deploy cluster", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}, {"content": "5. Check hiera hosts are the same for different group of roles", "expected": "pass"}, {"content": "6. Delete one database node", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run ostf", "expected": "pass"}, {"content": "9. Check hiera hosts are the same for different group of roles", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_db_service_controller_shutdown", "title": "Shutdown primary controller node", "custom_test_case_description": "Shutdown primary controller node\n\n        Scenario:\n            1. Revert snapshot separate_db_service\n            2. Shutdown primary controller node\n            3. Wait rabbit and db are operational\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_db_service", "expected": "pass"}, {"content": "2. Shutdown primary controller node", "expected": "pass"}, {"content": "3. Wait rabbit and db are operational", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_db_service_restart", "title": "Restart one database node", "custom_test_case_description": "Restart one database node\n\n        Scenario:\n            1. Revert snapshot separate_db_service\n            2. Restart db node that is master\n            3. Wait galera is up\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_db_service", "expected": "pass"}, {"content": "2. Restart db node that is master", "expected": "pass"}, {"content": "3. Wait galera is up", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_db_service_shutdown", "title": "Shutdown one database node", "custom_test_case_description": "Shutdown one database node\n\n        Scenario:\n            1. Revert snapshot separate_db_service\n            2. Destroy db node that is master\n            3. Wait galera is up\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_db_service", "expected": "pass"}, {"content": "2. Destroy db node that is master", "expected": "pass"}, {"content": "3. Wait galera is up", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_rh", "title": "Create environment and set up master node - rh", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_rh", "title": "Prepare master node - rh", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_rh", "title": "Bootstrap 3 slave nodes - rh", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_rh_compute_ha_one_controller_tun", "title": "Deploy RH-based compute in HA One Controller mode with Neutron VXLAN", "custom_test_case_description": "Deploy RH-based compute in HA One Controller mode\n        with Neutron VXLAN\n\n        Scenario:\n            1. Check required image.\n            2. Revert snapshot 'ready_with_3_slaves'.\n            3. Create a Fuel cluster.\n            4. Update cluster nodes with required roles.\n            5. Deploy the Fuel cluster.\n            6. Run OSTF.\n            7. Backup astute.yaml and ssh keys from compute.\n            8. Boot compute with RH image.\n            9. Prepare node for Puppet run.\n            10. Execute modular tasks for compute.\n            11. Run OSTF.\n\n        Duration: 150m\n        Snapshot: deploy_rh_compute_ha_one_controller_tun\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "150m", "refs": "", "custom_test_case_steps": [{"content": "1. Check required image.", "expected": "pass"}, {"content": "2. Revert snapshot 'ready_with_3_slaves'.", "expected": "pass"}, {"content": "3. Create a Fuel cluster.", "expected": "pass"}, {"content": "4. Update cluster nodes with required roles.", "expected": "pass"}, {"content": "5. Deploy the Fuel cluster.", "expected": "pass"}, {"content": "6. Run OSTF.", "expected": "pass"}, {"content": "7. Backup astute.yaml and ssh keys from compute.", "expected": "pass"}, {"content": "8. Boot compute with RH image.", "expected": "pass"}, {"content": "9. Prepare node for Puppet run.", "expected": "pass"}, {"content": "10. Execute modular tasks for compute.", "expected": "pass"}, {"content": "11. Run OSTF.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_rh_hard_reboot", "title": "Check that resumed VM is working properly after hard reboot of RH-based compute", "custom_test_case_description": "Check that resumed VM is working properly after hard reboot of\n        RH-based compute\n\n        Scenario:\n            1. Revert environment with RH-compute.\n            2. Check that services are ready.\n            3. Boot VM on compute and check its connectivity via floating ip.\n            4. Hard reboot RH-based compute.\n            5. Verify VM connectivity via floating ip after successful reboot\n            and VM resume action.\n\n        Duration 20m\n        Snapshot check_rh_hard_reboot\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert environment with RH-compute.", "expected": "pass"}, {"content": "2. Check that services are ready.", "expected": "pass"}, {"content": "3. Boot VM on compute and check its connectivity via floating ip.", "expected": "pass"}, {"content": "4. Hard reboot RH-based compute.", "expected": "pass"}, {"content": "5. Verify VM connectivity via floating ip after successful reboot and VM resume action.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_rh_warm_reboot", "title": "Check that resumed VM is working properly after warm reboot of RH-based compute", "custom_test_case_description": "Check that resumed VM is working properly after warm reboot of\n        RH-based compute\n\n        Scenario:\n            1. Revert environment with RH-compute.\n            2. Check that services are ready.\n            3. Boot VM on compute and check its connectivity via floating ip.\n            4. Warm reboot RH-based compute.\n            5. Verify VM connectivity via floating ip after successful reboot\n            and VM resume action.\n\n        Duration 20m\n        Snapshot check_rh_warm_reboot\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert environment with RH-compute.", "expected": "pass"}, {"content": "2. Check that services are ready.", "expected": "pass"}, {"content": "3. Boot VM on compute and check its connectivity via floating ip.", "expected": "pass"}, {"content": "4. Warm reboot RH-based compute.", "expected": "pass"}, {"content": "5. Verify VM connectivity via floating ip after successful reboot and VM resume action.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron", "title": "Create environment and set up master node - ha_neutron", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron", "title": "Prepare master node - ha_neutron", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ha_neutron", "title": "Bootstrap 5 slave nodes - ha_neutron", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_custom_hostname", "title": "Create environment and set up master node - custom_hostname", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_custom_hostname", "title": "Prepare master node - custom_hostname", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_custom_hostname", "title": "Bootstrap 5 slave nodes - custom_hostname", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "custom_hostname_validation", "title": "Verify the hostname format validation", "custom_test_case_description": "Verify the hostname format validation\n\n        Scenario:\n            1. Revert the snapshot\n            2. Verify that the hostname format is validated (only alphanumeric\n               ASCII symbols are allowed, and the hyphen; the hostname must not\n               start with or end with the hyphen).\n\n        Duration: 7m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "7m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Verify that the hostname format is validated (only alphanumeric ASCII symbols are allowed, and the hyphen; the hostname must not start with or end with the hyphen).", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "default_hostname", "title": "Verify that the default hostnames (e.g. 'node-1') are applied", "custom_test_case_description": "Verify that the default hostnames (e.g. 'node-1') are applied\n\n        Scenario:\n            1. Create a cluster\n            2. Add 3 nodes with controller role\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Verify network configuration on controller\n            6. Run OSTF\n            7. Verify that the default hostname is applied on cluster nodes\n\n        Duration: 70m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Create a cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Verify network configuration on controller", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}, {"content": "7. Verify that the default hostname is applied on cluster nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "set_custom_hostname", "title": "Verify that a custom hostname can be applied to a node", "custom_test_case_description": "Verify that a custom hostname can be applied to a node\n\n        Scenario:\n            1. Revert the snapshot\n            2. Create a cluster\n            3. Add 3 nodes with controller role\n            4. Add 1 node with compute role\n            5. Set custom hostnames for all cluster nodes\n            6. Deploy the cluster\n            7. Verify network configuration on controller\n            8. Run OSTF\n            9. Verify that there are no dead services compute services\n            10. Verify the new hostnames are applied on the nodes\n\n        Duration: 130m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "130m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Create a cluster", "expected": "pass"}, {"content": "3. Add 3 nodes with controller role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Set custom hostnames for all cluster nodes", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Verify network configuration on controller", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Verify that there are no dead services compute services", "expected": "pass"}, {"content": "10. Verify the new hostnames are applied on the nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "set_custom_hostname_for_provisioned_node", "title": "Verify that it is not allowed to change a hostname of a provisioned node", "custom_test_case_description": "Verify that it is not allowed to change a hostname of a\n        provisioned node\n\n        Scenario:\n            1. Revert the snapshot\n            2. Create a cluster\n            3. Add a node with controller role\n            4. Set a custom hostname for the node\n            5. Provision the node\n            6. Verify that updating node hostname of the provisioned node\n               is not allowed\n\n        Duration: 20m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Create a cluster", "expected": "pass"}, {"content": "3. Add a node with controller role", "expected": "pass"}, {"content": "4. Set a custom hostname for the node", "expected": "pass"}, {"content": "5. Provision the node", "expected": "pass"}, {"content": "6. Verify that updating node hostname of the provisioned node is not allowed", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "set_duplicate_hostname", "title": "Verify that a duplicate hostname is not allowed", "custom_test_case_description": "Verify that a duplicate hostname is not allowed\n\n        Scenario:\n            1. Revert the snapshot\n            2. Set a custom hostname for the node\n            3. Verify that new hostnames are validated to avoid duplicates\n\n        Duration: 7m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "7m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Set a custom hostname for the node", "expected": "pass"}, {"content": "3. Verify that new hostnames are validated to avoid duplicates", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ironic_deploy_ceph", "title": "Create environment and set up master node - ironic_deploy_ceph", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ironic_deploy_ceph", "title": "Prepare master node - ironic_deploy_ceph", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ironic_deploy_ceph", "title": "Bootstrap 5 slave nodes - ironic_deploy_ceph", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ironic_deploy_ceph", "title": "Deploy ironic with 1 baremetal node", "custom_test_case_description": "Deploy ironic with 1 baremetal node\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller+ceph-osd role\n            3. Add 2 nodes with controller+ironic+ceph-osd role\n            4. Add 1 node with compute role\n            5. Add 1 nodes with ironic role\n            6. Deploy the cluster\n            7. Upload image to glance\n            8. Enroll Ironic nodes\n            9. Boot nova instance\n            10. Check Nova instance status\n\n        Duration 90m\n        Snapshot ironic_deploy_ceph\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller+ceph-osd role", "expected": "pass"}, {"content": "3. Add 2 nodes with controller+ironic+ceph-osd role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 nodes with ironic role", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Upload image to glance", "expected": "pass"}, {"content": "8. Enroll Ironic nodes", "expected": "pass"}, {"content": "9. Boot nova instance", "expected": "pass"}, {"content": "10. Check Nova instance status", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_services_ha", "title": "Create environment and set up master node - services_ha", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_services_ha", "title": "Prepare master node - services_ha", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_services_ha", "title": "Bootstrap 5 slave nodes - services_ha", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_sahara_ha_tun", "title": "Deploy cluster in HA mode with Sahara and Neutron VXLAN", "custom_test_case_description": "Deploy cluster in HA mode with Sahara and Neutron VXLAN\n\n        Scenario:\n            1. Create a Fuel cluster. Set the option for Sahara installation\n            2. Add 3 node with \"controller\" role\n            3. Add 1 node with \"compute\" role\n            4. Deploy the Fuel cluster\n            5. Verify Sahara service on all controllers\n            6. Run all sanity and smoke tests\n            7. Register Vanilla2 image for Sahara\n            8. Run platform Vanilla2 test for Sahara\n\n        Duration 130m\n        Snapshot: deploy_sahara_ha_tun\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "130m", "refs": "", "custom_test_case_steps": [{"content": "1. Create a Fuel cluster. Set the option for Sahara installation", "expected": "pass"}, {"content": "2. Add 3 node with \"controller\" role", "expected": "pass"}, {"content": "3. Add 1 node with \"compute\" role", "expected": "pass"}, {"content": "4. Deploy the Fuel cluster", "expected": "pass"}, {"content": "5. Verify Sahara service on all controllers", "expected": "pass"}, {"content": "6. Run all sanity and smoke tests", "expected": "pass"}, {"content": "7. Register Vanilla2 image for Sahara", "expected": "pass"}, {"content": "8. Run platform Vanilla2 test for Sahara", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_murano_ha_with_tun", "title": "Deploy cluster in ha mode with Murano and Neutron VXLAN", "custom_test_case_description": "Deploy cluster in ha mode with Murano and Neutron VXLAN\n\n        Scenario:\n            1. Create cluster. Set install Murano option\n            2. Add 3 node with controller role\n            3. Add 1 nodes with compute role\n            4. Deploy the cluster\n            5. Verify Murano services\n            6. Run OSTF\n            7. Run OSTF Murano platform tests\n\n        Duration 100m\n        Snapshot: deploy_murano_ha_with_tun\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Murano option", "expected": "pass"}, {"content": "2. Add 3 node with controller role", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Verify Murano services", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}, {"content": "7. Run OSTF Murano platform tests", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_heat_ha", "title": "Deploy Heat cluster in HA mode", "custom_test_case_description": "Deploy Heat cluster in HA mode\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 node with controller role and mongo\n            3. Add 1 nodes with compute role\n            4. Set Ceilometer install option\n            5. Deploy the cluster\n            6. Verify Heat and Ceilometer services\n            7. Run OSTF platform tests\n\n        Duration 70m\n        Snapshot: deploy_heat_ha\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 node with controller role and mongo", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Set Ceilometer install option", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Verify Heat and Ceilometer services", "expected": "pass"}, {"content": "7. Run OSTF platform tests", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_plugins.thread_separate_haproxy", "title": "Create environment and set up master node - plugins.thread_separate_haproxy", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_plugins.thread_separate_haproxy", "title": "Prepare master node - plugins.thread_separate_haproxy", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_haproxy", "title": "Deploy HA environment with separate Haproxy.", "custom_test_case_description": "Deploy HA environment with separate Haproxy.\n\n        Scenario:\n            1. Revert snapshot with ready master node\n            2. Copy and install external-lb and detach-haproxy plugins\n            3. Bootstrap 3 slaves from default nodegroup\n            4. Create cluster with Neutron VXLAN and custom nodegroups\n            5. Run 'fuel-mirror' to replace cluster repositories\n               with local mirrors\n            6. Bootstrap 2 slaves nodes from second nodegroup\n               and one node from third node group\n            7. Enable plugins for cluster\n            8. Add 2 controllers from default nodegroup and 1 controller\n               from second node group\n            9. Add 1 compute+cinder from default node group\n               and 1 compute+cinder from second node group\n            10. Add haproxy node from third node group\n            11. Verify networks\n            12. Deploy cluster\n\n        Duration 120m\n        Snapshot separate_haproxy\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with ready master node", "expected": "pass"}, {"content": "2. Copy and install external-lb and detach-haproxy plugins", "expected": "pass"}, {"content": "3. Bootstrap 3 slaves from default nodegroup", "expected": "pass"}, {"content": "4. Create cluster with Neutron VXLAN and custom nodegroups", "expected": "pass"}, {"content": "5. Run 'fuel-mirror' to replace cluster repositories with local mirrors", "expected": "pass"}, {"content": "6. Bootstrap 2 slaves nodes from second nodegroup and one node from third node group", "expected": "pass"}, {"content": "7. Enable plugins for cluster", "expected": "pass"}, {"content": "8. Add 2 controllers from default nodegroup and 1 controller from second node group", "expected": "pass"}, {"content": "9. Add 1 compute+cinder from default node group and 1 compute+cinder from second node group", "expected": "pass"}, {"content": "10. Add haproxy node from third node group", "expected": "pass"}, {"content": "11. Verify networks", "expected": "pass"}, {"content": "12. Deploy cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_plugins.thread_2_separate_services", "title": "Create environment and set up master node - plugins.thread_2_separate_services", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_plugins.thread_2_separate_services", "title": "Prepare master node - plugins.thread_2_separate_services", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_9_plugins.thread_2_separate_services", "title": "Bootstrap 9 slave nodes - plugins.thread_2_separate_services", "custom_test_case_description": "Bootstrap 9 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 9 slave nodes\n\n        Snapshot: ready_with_9_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 9 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_rabbit_service", "title": "Deploy cluster with 3 separate rabbit roles", "custom_test_case_description": "Deploy cluster with 3 separate rabbit roles\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 3 nodes with rabbit role\n            4. Add 1 compute and cinder\n            5. Verify networks\n            6. Deploy the cluster\n            7. Verify networks\n            8. Run OSTF\n\n        Duration 120m\n        Snapshot separate_rabbit_service\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 3 nodes with rabbit role", "expected": "pass"}, {"content": "4. Add 1 compute and cinder", "expected": "pass"}, {"content": "5. Verify networks", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Verify networks", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_rabbit_service_add_delete_node", "title": "Add and delete rabbit node", "custom_test_case_description": "Add and delete rabbit node\n\n        Scenario:\n            1. Revert snapshot separate_rabbit_service\n            2. Add one rabbit node and re-deploy cluster\n            3. Run network verification\n            4. Run OSTF\n            5. Check hiera hosts are the same for\n               different group of roles\n            6. Delete one rabbit node\n            7. Run network verification\n            8. Run ostf\n            9. Check hiera hosts are the same for\n               different group of roles\n\n        Duration 120m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_rabbit_service", "expected": "pass"}, {"content": "2. Add one rabbit node and re-deploy cluster", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}, {"content": "5. Check hiera hosts are the same for different group of roles", "expected": "pass"}, {"content": "6. Delete one rabbit node", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run ostf", "expected": "pass"}, {"content": "9. Check hiera hosts are the same for different group of roles", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_rabbit_service_controller_shutdown", "title": "Shutdown primary controller node", "custom_test_case_description": "Shutdown primary controller node\n\n        Scenario:\n            1. Revert snapshot separate_rabbit_service\n            2. Shutdown primary controller node\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_rabbit_service", "expected": "pass"}, {"content": "2. Shutdown primary controller node", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_rabbit_service_restart", "title": "Restart one rabbit node", "custom_test_case_description": "Restart one rabbit node\n\n        Scenario:\n            1. Revert snapshot separate_rabbit_service\n            2. Restart rabbit node that is master\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_rabbit_service", "expected": "pass"}, {"content": "2. Restart rabbit node that is master", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_rabbit_service_shutdown", "title": "Shutdown one rabbit node", "custom_test_case_description": "Shutdown one rabbit node\n\n        Scenario:\n            1. Revert snapshot separate_rabbit_service\n            2. Destroy rabbit node that is master\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_rabbit_service", "expected": "pass"}, {"content": "2. Destroy rabbit node that is master", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_all_service", "title": "Deploy cluster with 3 nodes with db, keystone, rabbit, horizon", "custom_test_case_description": "Deploy cluster with 3 nodes with db, keystone, rabbit, horizon\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 3 nodes with database, keystone, rabbit,\n               horizon\n            4. Add 1 compute and cinder\n            5. Verify networks\n            6. Deploy the cluster\n            7. Verify networks\n            8. Run OSTF\n\n        Duration 120m\n        Snapshot separate_all_service\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 3 nodes with database, keystone, rabbit, horizon", "expected": "pass"}, {"content": "4. Add 1 compute and cinder", "expected": "pass"}, {"content": "5. Verify networks", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Verify networks", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_all_service_controller_shutdown", "title": "Shutdown primary controller node", "custom_test_case_description": "Shutdown primary controller node\n\n        Scenario:\n            1. Revert snapshot separate_all_service\n            2. Shutdown primary controller node\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        Snapshot None\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_all_service", "expected": "pass"}, {"content": "2. Shutdown primary controller node", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_all_service_shutdown", "title": "Shutdown one multirole node", "custom_test_case_description": "Shutdown one multirole node\n\n        Scenario:\n            1. Revert snapshot separate_all_service\n            2. Destroy multirole node with rabbit master\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        Snapshot None\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_all_service", "expected": "pass"}, {"content": "2. Destroy multirole node with rabbit master", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron_public", "title": "Create environment and set up master node - ha_neutron_public", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron_public", "title": "Prepare master node - ha_neutron_public", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ha_neutron_public", "title": "Bootstrap 5 slave nodes - ha_neutron_public", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_tun_ha_with_public_network", "title": "Deploy cluster in HA mode with Neutron VXLAN and public network assigned to all nodes", "custom_test_case_description": "Deploy cluster in HA mode with Neutron VXLAN and public network\n           assigned to all nodes\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 2 nodes with compute role\n            4. Enable assign public networks to all nodes option\n            5. Deploy the cluster\n            6. Check that public network was assigned to all nodes\n            7. Run network verification\n            8. Run OSTF\n\n        Duration 80m\n        Snapshot deploy_neutron_tun_ha_public_network\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "80m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute role", "expected": "pass"}, {"content": "4. Enable assign public networks to all nodes option", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Check that public network was assigned to all nodes", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_vlan_ha_with_public_network", "title": "Deploy cluster in HA mode with Neutron VLAN and public network assigned to all nodes", "custom_test_case_description": "Deploy cluster in HA mode with Neutron VLAN and public network\n           assigned to all nodes\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 2 nodes with compute role\n            4. Enable assign public networks to all nodes option\n            5. Deploy the cluster\n            6. Check that public network was assigned to all nodes\n            7. Run network verification\n            8. Run OSTF\n\n        Duration 80m\n        Snapshot deploy_neutron_vlan_ha_public_network\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "80m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute role", "expected": "pass"}, {"content": "4. Enable assign public networks to all nodes option", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Check that public network was assigned to all nodes", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_network_templates", "title": "Create environment and set up master node - network_templates", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_network_templates", "title": "Prepare master node - network_templates", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_network_templates", "title": "Bootstrap 3 slave nodes - network_templates", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_cinder_net_tmpl", "title": "Deploy HA environment with Cinder, Neutron and network template", "custom_test_case_description": "Deploy HA environment with Cinder, Neutron and network template\n\n        Scenario:\n            1. Revert snapshot with 3 slaves\n            2. Create cluster (HA) with Neutron VLAN/VXLAN/GRE\n            3. Add 1 controller + cinder nodes\n            4. Add 2 compute + cinder nodes\n            5. Upload 'cinder' network template'\n            6. Create custom network groups basing\n               on template endpoints assignments\n            7. Run network verification\n            8. Deploy cluster\n            9. Run network verification\n            10. Run health checks (OSTF)\n            11. Check L3 network configuration on slaves\n            12. Check that services are listening on their networks only\n\n        Duration 180m\n        Snapshot deploy_cinder_net_tmpl\n        ", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 3 slaves", "expected": "pass"}, {"content": "2. Create cluster (HA) with Neutron VLAN/VXLAN/GRE", "expected": "pass"}, {"content": "3. Add 1 controller + cinder nodes", "expected": "pass"}, {"content": "4. Add 2 compute + cinder nodes", "expected": "pass"}, {"content": "5. Upload 'cinder' network template'", "expected": "pass"}, {"content": "6. Create custom network groups basing on template endpoints assignments", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy cluster", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run health checks (OSTF)", "expected": "pass"}, {"content": "11. Check L3 network configuration on slaves", "expected": "pass"}, {"content": "12. Check that services are listening on their networks only", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "add_nodes_net_tmpl", "title": "Add nodes to operational environment with network template", "custom_test_case_description": "Add nodes to operational environment with network template\n\n        Scenario:\n            1. Revert snapshot with deployed environment\n            2. Bootstrap 2 more slave nodes\n            3. Add 1 controller + cinder and 1 compute + cinder nodes\n            4. Upload 'cinder_add_nodes' network template with broken\n               network mapping for new nodes\n            5. Run network verification. Check it failed.\n            6. Upload 'cinder' network template'\n            7. Run network verification\n            8. Deploy cluster\n            9. Run network verification\n            10. Run health checks (OSTF)\n            11. Check L3 network configuration on slaves\n            12. Check that services are listening on their networks only\n\n        Duration 60m\n        Snapshot add_nodes_net_tmpl\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with deployed environment", "expected": "pass"}, {"content": "2. Bootstrap 2 more slave nodes", "expected": "pass"}, {"content": "3. Add 1 controller + cinder and 1 compute + cinder nodes", "expected": "pass"}, {"content": "4. Upload 'cinder_add_nodes' network template with broken network mapping for new nodes", "expected": "pass"}, {"content": "5. Run network verification. Check it failed.", "expected": "pass"}, {"content": "6. Upload 'cinder' network template'", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy cluster", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run health checks (OSTF)", "expected": "pass"}, {"content": "11. Check L3 network configuration on slaves", "expected": "pass"}, {"content": "12. Check that services are listening on their networks only", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_cluster_without_management_net", "title": "Deploy HA environment network template: no dedicate management nwk", "custom_test_case_description": "Deploy HA environment network template: no dedicate management nwk\n\n        Scenario:\n            1. Revert snapshot with 3 slaves\n            2. Create cluster (HA) with Neutron VLAN\n            3. Add 1 controller + cinder nodes\n            4. Add 2 compute + cinder nodes\n            5. Upload network template\n            6. Delete 'management' network-group\n            7. Run network verification\n            8. Deploy cluster\n            9. Run network verification\n            10. Run health checks (OSTF)\n\n        Duration 180m\n        Snapshot deploy_cluster_without_management_net\n        ", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 3 slaves", "expected": "pass"}, {"content": "2. Create cluster (HA) with Neutron VLAN", "expected": "pass"}, {"content": "3. Add 1 controller + cinder nodes", "expected": "pass"}, {"content": "4. Add 2 compute + cinder nodes", "expected": "pass"}, {"content": "5. Upload network template", "expected": "pass"}, {"content": "6. Delete 'management' network-group", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy cluster", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run health checks (OSTF)", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_network_templates", "title": "Bootstrap 5 slave nodes - network_templates", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceph_net_tmpl", "title": "Deploy HA environment with Ceph, Neutron and network template", "custom_test_case_description": "Deploy HA environment with Ceph, Neutron and network template\n\n        Scenario:\n            1. Revert snapshot with 5 slaves\n            2. Create cluster (HA) with Neutron VLAN/VXLAN/GRE\n            3. Add 3 controller + ceph nodes\n            4. Add 2 compute + ceph nodes\n            5. Upload 'ceph' network template\n            6. Create custom network groups basing\n               on template endpoints assignments\n            7. Run network verification\n            8. Deploy cluster\n            9. Run network verification\n            10. Run health checks (OSTF)\n            11. Check L3 network configuration on slaves\n            12. Check that services are listening on their networks only\n\n        Duration 180m\n        Snapshot deploy_ceph_net_tmpl\n        ", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 5 slaves", "expected": "pass"}, {"content": "2. Create cluster (HA) with Neutron VLAN/VXLAN/GRE", "expected": "pass"}, {"content": "3. Add 3 controller + ceph nodes", "expected": "pass"}, {"content": "4. Add 2 compute + ceph nodes", "expected": "pass"}, {"content": "5. Upload 'ceph' network template", "expected": "pass"}, {"content": "6. Create custom network groups basing on template endpoints assignments", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy cluster", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run health checks (OSTF)", "expected": "pass"}, {"content": "11. Check L3 network configuration on slaves", "expected": "pass"}, {"content": "12. Check that services are listening on their networks only", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "network_config_consistency_on_reboot", "title": "Deploy HA environment with Cinder, Neutron and network template", "custom_test_case_description": "Deploy HA environment with Cinder, Neutron and network template\n\n        Scenario:\n            1. Revert snapshot with 5 slaves\n            2. Create cluster (HA) with Neutron VLAN\n            3. Add 3 controller and 1 compute + cinder nodes\n            4. Upload 'default_ovs' network template\n            5. Create custom network groups basing\n               on template endpoints assignments\n            6. Run network verification\n            7. Deploy cluster and run basic health checks\n            8. Run network verification\n            9. Check L3 network configuration on slaves\n            10. Check that services are listening on their networks only\n            11. Reboot a node\n            12. Run network verification\n            13. Check L3 network configuration on slaves\n            14. Check that services are listening on their networks only\n            15. Run OSTF\n\n        Duration 180m\n        Snapshot deploy_cinder_net_tmpl\n        ", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 5 slaves", "expected": "pass"}, {"content": "2. Create cluster (HA) with Neutron VLAN", "expected": "pass"}, {"content": "3. Add 3 controller and 1 compute + cinder nodes", "expected": "pass"}, {"content": "4. Upload 'default_ovs' network template", "expected": "pass"}, {"content": "5. Create custom network groups basing on template endpoints assignments", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Deploy cluster and run basic health checks", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Check L3 network configuration on slaves", "expected": "pass"}, {"content": "10. Check that services are listening on their networks only", "expected": "pass"}, {"content": "11. Reboot a node", "expected": "pass"}, {"content": "12. Run network verification", "expected": "pass"}, {"content": "13. Check L3 network configuration on slaves", "expected": "pass"}, {"content": "14. Check that services are listening on their networks only", "expected": "pass"}, {"content": "15. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_support_hugepages", "title": "Create environment and set up master node - support_hugepages", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_support_hugepages", "title": "Prepare master node - support_hugepages", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_support_hugepages", "title": "Bootstrap 5 slave nodes - support_hugepages", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "basic_env_for_hugepages", "title": "Basic environment for hugepages", "custom_test_case_description": "Basic environment for hugepages\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 compute nodes and 1 controller node\n            3. Check what type of HugePages do support 2M and 1GB\n            4. Verify the same HP size is present in CLI\n            5. Download attributes for computes and check HP size\n\n        Snapshot: basic_env_for_hugepages\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 compute nodes and 1 controller node", "expected": "pass"}, {"content": "3. Check what type of HugePages do support 2M and 1GB", "expected": "pass"}, {"content": "4. Verify the same HP size is present in CLI", "expected": "pass"}, {"content": "5. Download attributes for computes and check HP size", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_hugepages_distribution_per_numa", "title": "Deploy environment with different HugePages allocation", "custom_test_case_description": "Deploy environment with different HugePages allocation\n\n        Scenario:\n            1. Revert basic_env_for_hugepages snapshot\n            2. Configure hugepages for three computes\n            3. Deploy cluster\n            4. Validate available huge pages on computes\n\n        Snapshot: check_hugepages_distribution_per_numa\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert basic_env_for_hugepages snapshot", "expected": "pass"}, {"content": "2. Configure hugepages for three computes", "expected": "pass"}, {"content": "3. Deploy cluster", "expected": "pass"}, {"content": "4. Validate available huge pages on computes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_hugepages_after_reboot", "title": "Boot instances with both HP sizes on compute after reboot", "custom_test_case_description": "Boot instances with both HP sizes on compute after reboot\n\n        Scenario:\n            1. Revert snapshot \"check_hugepages_distribution_per_numa\"\n            2. Reboot node with mixed reserved HugePages\n            3. Boot and validate instance with 2Mb page size\n            4. Boot and validate instance with 1Gb page size\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"check_hugepages_distribution_per_numa\"", "expected": "pass"}, {"content": "2. Reboot node with mixed reserved HugePages", "expected": "pass"}, {"content": "3. Boot and validate instance with 2Mb page size", "expected": "pass"}, {"content": "4. Boot and validate instance with 1Gb page size", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_instance_one_gb_page_size_mixed_size_host", "title": "Boot instance with 1 Gb page size on host with both HugePages types", "custom_test_case_description": "Boot instance with 1 Gb page size on host with both HugePages types\n\n        Scenario:\n            1. Revert snapshot \"check_hugepages_distribution_per_numa\"\n            2. Boot and validate instance on compute with both pages types\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"check_hugepages_distribution_per_numa\"", "expected": "pass"}, {"content": "2. Boot and validate instance on compute with both pages types", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_instance_one_gb_page_size_one_gb_host", "title": "Boot instance with 1 Gb page size on host with only 1 Gb HugePages", "custom_test_case_description": "Boot instance with 1 Gb page size on host with only 1 Gb HugePages\n\n        Scenario:\n            1. Revert snapshot \"check_hugepages_distribution_per_numa\"\n            2. Boot and validate instance on compute with only 1 Gb pages\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"check_hugepages_distribution_per_numa\"", "expected": "pass"}, {"content": "2. Boot and validate instance on compute with only 1 Gb pages", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_instance_two_mb_page_size_mixed_role_host", "title": "Boot instance with both HP sizes on host with Cinder+Compute role", "custom_test_case_description": "Boot instance with both HP sizes on host with Cinder+Compute role\n\n        Scenario:\n            1. Revert snapshot \"check_hugepages_distribution_per_numa\"\n            2. Boot and validate instance on compute+mongo node with 2Mb\n            3. Boot and validate instance on compute+mongo node with 1Gb\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"check_hugepages_distribution_per_numa\"", "expected": "pass"}, {"content": "2. Boot and validate instance on compute+mongo node with 2Mb", "expected": "pass"}, {"content": "3. Boot and validate instance on compute+mongo node with 1Gb", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_instance_two_mb_page_size_mixed_size_host", "title": "Boot instance with 2 Mb page size on host with both HugePages types", "custom_test_case_description": "Boot instance with 2 Mb page size on host with both HugePages types\n\n        Scenario:\n            1. Revert snapshot \"check_hugepages_distribution_per_numa\"\n            2. Boot and validate instance on compute with both pages types\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"check_hugepages_distribution_per_numa\"", "expected": "pass"}, {"content": "2. Boot and validate instance on compute with both pages types", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_instance_two_mb_page_size_two_mb_host", "title": "Boot instance with 2 Mb page size on host with only 2 Mb HugePages", "custom_test_case_description": "Boot instance with 2 Mb page size on host with only 2 Mb HugePages\n\n        Scenario:\n            1. Revert snapshot \"check_hugepages_distribution_per_numa\"\n            2. Boot and validate instance on compute with only 2 Mb pages\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"check_hugepages_distribution_per_numa\"", "expected": "pass"}, {"content": "2. Boot and validate instance on compute with only 2 Mb pages", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_plugins.thread_keystone_separate_services", "title": "Create environment and set up master node - plugins.thread_keystone_separate_services", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_plugins.thread_keystone_separate_services", "title": "Prepare master node - plugins.thread_keystone_separate_services", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_9_plugins.thread_keystone_separate_services", "title": "Bootstrap 9 slave nodes - plugins.thread_keystone_separate_services", "custom_test_case_description": "Bootstrap 9 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 9 slave nodes\n\n        Snapshot: ready_with_9_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 9 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_keystone_service", "title": "Deploy cluster with 3 separate keystone roles", "custom_test_case_description": "Deploy cluster with 3 separate keystone roles\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 3 nodes with keystone role\n            4. Add 1 compute and cinder\n            5. Verify networks\n            6. Deploy the cluster\n            7. Verify networks\n            8. Run OSTF\n\n        Duration 120m\n        Snapshot separate_keystone_service\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 3 nodes with keystone role", "expected": "pass"}, {"content": "4. Add 1 compute and cinder", "expected": "pass"}, {"content": "5. Verify networks", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Verify networks", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_keystone_service_add_delete_node", "title": "Add and delete keystone node", "custom_test_case_description": "Add and delete keystone node\n\n        Scenario:\n            1. Revert snapshot separate_keystone_service\n            2. Add one keystone node and re-deploy cluster\n            3. Run network verification\n            4. Run OSTF\n            5. Check hiera hosts are the same for\n               different group of roles\n            6. Delete one keystone node\n            7. Run network verification\n            8. Run ostf\n            9. Check hiera hosts are the same for\n               different group of roles\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_keystone_service", "expected": "pass"}, {"content": "2. Add one keystone node and re-deploy cluster", "expected": "pass"}, {"content": "3. Run network verification", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}, {"content": "5. Check hiera hosts are the same for different group of roles", "expected": "pass"}, {"content": "6. Delete one keystone node", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run ostf", "expected": "pass"}, {"content": "9. Check hiera hosts are the same for different group of roles", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_keystone_service_controller_shutdown", "title": "Shutdown primary controller node", "custom_test_case_description": "Shutdown primary controller node\n\n        Scenario:\n            1. Revert snapshot separate_keystone_service\n            2. Shutdown primary controller node\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_keystone_service", "expected": "pass"}, {"content": "2. Shutdown primary controller node", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_keystone_service_restart", "title": "Restart one keystone node", "custom_test_case_description": "Restart one keystone node\n\n        Scenario:\n            1. Revert snapshot separate_keystone_service\n            2. Restart keystone\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_keystone_service", "expected": "pass"}, {"content": "2. Restart keystone", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "separate_keystone_service_shutdown", "title": "Shutdown one keystone node", "custom_test_case_description": "Shutdown one keystone node\n\n        Scenario:\n            1. Revert snapshot separate_keystone_service\n            2. Destroy keystone node\n            3. Wait HA is working\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot separate_keystone_service", "expected": "pass"}, {"content": "2. Destroy keystone node", "expected": "pass"}, {"content": "3. Wait HA is working", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_cluster_actions", "title": "Create environment and set up master node - cluster_actions", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_cluster_actions", "title": "Prepare master node - cluster_actions", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_cluster_actions", "title": "Bootstrap 3 slave nodes - cluster_actions", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_stop_on_deploying", "title": "Stop reset cluster in HA mode with neutron", "custom_test_case_description": "Stop reset cluster in HA mode with neutron\n\n        Scenario:\n            1. Create cluster in HA mode with 1 controller\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Verify network\n            5. Run provisioning task\n            6. Run deployment task\n            7. Stop deployment\n            8. Add 1 node with cinder role\n            9. Re-deploy cluster\n            10. Verify network\n            11. Run OSTF\n\n        Duration 50m\n        Snapshot: deploy_neutron_stop_reset_on_deploying\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "50m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in HA mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Verify network", "expected": "pass"}, {"content": "5. Run provisioning task", "expected": "pass"}, {"content": "6. Run deployment task", "expected": "pass"}, {"content": "7. Stop deployment", "expected": "pass"}, {"content": "8. Add 1 node with cinder role", "expected": "pass"}, {"content": "9. Re-deploy cluster", "expected": "pass"}, {"content": "10. Verify network", "expected": "pass"}, {"content": "11. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_stop_reset_on_provisioning", "title": "Stop provisioning cluster in HA mode with neutron", "custom_test_case_description": "Stop provisioning cluster in HA mode with neutron\n\n        Scenario:\n            1. Create cluster in HA mode with 1 controller\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Verify network\n            5. Run provisioning task\n            6. Stop provisioning\n            7. Reset settings\n            8. Add 1 node with cinder role\n            9. Re-deploy cluster\n            10. Verify network\n            11. Run OSTF\n\n        Duration 40m\n        Snapshot: deploy_neutron_stop_reset_on_provisioning\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in HA mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Verify network", "expected": "pass"}, {"content": "5. Run provisioning task", "expected": "pass"}, {"content": "6. Stop provisioning", "expected": "pass"}, {"content": "7. Reset settings", "expected": "pass"}, {"content": "8. Add 1 node with cinder role", "expected": "pass"}, {"content": "9. Re-deploy cluster", "expected": "pass"}, {"content": "10. Verify network", "expected": "pass"}, {"content": "11. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_reset_on_ready", "title": "Stop reset cluster in HA mode with 1 controller", "custom_test_case_description": "Stop reset cluster in HA mode with 1 controller\n\n        Scenario:\n            1. Create cluster in Ha mode with 1 controller\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Verify network\n            5. Deploy cluster\n            6. Reset settings\n            7. Update net\n            8. Re-deploy cluster\n            9. Verify network\n            10. Run OSTF\n\n        Duration 40m\n        Snapshot: deploy_reset_on_ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in Ha mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Verify network", "expected": "pass"}, {"content": "5. Deploy cluster", "expected": "pass"}, {"content": "6. Reset settings", "expected": "pass"}, {"content": "7. Update net", "expected": "pass"}, {"content": "8. Re-deploy cluster", "expected": "pass"}, {"content": "9. Verify network", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_services_reconfiguration_thread_2", "title": "Create environment and set up master node - services_reconfiguration_thread_2", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_services_reconfiguration_thread_2", "title": "Prepare master node - services_reconfiguration_thread_2", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_services_reconfiguration_thread_2", "title": "Bootstrap 5 slave nodes - services_reconfiguration_thread_2", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "basic_env_for_reconfiguration", "title": "Basic environment for reconfiguration", "custom_test_case_description": "Basic environment for reconfiguration\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with compute role\n            3. Add 3 nodes with controller role\n            4. Deploy the cluster\n            5. Verify network\n            6. Run OSTF\n\n        Snapshot: basic_env_for_reconfiguration\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with compute role", "expected": "pass"}, {"content": "3. Add 3 nodes with controller role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Verify network", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_ml2_vlan_range_for_suite_of_nodes", "title": "Reconfigure neutron ml2 VLAN range for suite of controller nodes", "custom_test_case_description": "Reconfigure neutron ml2 VLAN range for suite of controller nodes\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Upload a new VLAN range(minimal range) for suite of controller\n               nodes\n            3. Get uptime of process \"neutron-server\" on each controller\n            4. Apply a new openstack configuration to all controller nodes\n            5. Wait for configuration applying\n            6. Check that service \"neutron-server\" was restarted\n            7. Verify ml2 plugin settings\n            8. Try to create two private networks, check that the second\n               network is failed to create\n\n        Snapshot: reconfigure_ml2_vlan_range_for_suite_of_nodes\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Upload a new VLAN range(minimal range) for suite of controller nodes", "expected": "pass"}, {"content": "3. Get uptime of process \"neutron-server\" on each controller", "expected": "pass"}, {"content": "4. Apply a new openstack configuration to all controller nodes", "expected": "pass"}, {"content": "5. Wait for configuration applying", "expected": "pass"}, {"content": "6. Check that service \"neutron-server\" was restarted", "expected": "pass"}, {"content": "7. Verify ml2 plugin settings", "expected": "pass"}, {"content": "8. Try to create two private networks, check that the second network is failed to create", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_nova_quota", "title": "Tests for reconfiguration nova quota.", "custom_test_case_description": "Tests for reconfiguration nova quota.\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Upload a new openstack configuration\n            3. Get uptime of process \"nova-api\" on each controller\n            4. Get uptime of process \"nova-compute\" on each compute\n            5. Apply a new quota driver and quota_instances to all nodes\n            6. Wait for configuration applying\n            7. Verify uptime of process \"nova-api\" on each controller\n            8. Verify uptime of process \"nova-compute\" on each compute\n            9. Verify nova config settings\n            10. Create new instance\n            11. Try to create one more, verify that it is impossible\n\n        Snapshot: reconfigure_nova_quota\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration", "expected": "pass"}, {"content": "3. Get uptime of process \"nova-api\" on each controller", "expected": "pass"}, {"content": "4. Get uptime of process \"nova-compute\" on each compute", "expected": "pass"}, {"content": "5. Apply a new quota driver and quota_instances to all nodes", "expected": "pass"}, {"content": "6. Wait for configuration applying", "expected": "pass"}, {"content": "7. Verify uptime of process \"nova-api\" on each controller", "expected": "pass"}, {"content": "8. Verify uptime of process \"nova-compute\" on each compute", "expected": "pass"}, {"content": "9. Verify nova config settings", "expected": "pass"}, {"content": "10. Create new instance", "expected": "pass"}, {"content": "11. Try to create one more, verify that it is impossible", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_with_new_fields", "title": "Reconfigure services with new fields", "custom_test_case_description": "Reconfigure services with new fields\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Upload a new openstack configuration for controller\n            3. Get uptime of processes from config on each controller\n            4. Apply a new openstack configuration for controller\n            5. Check that neutron related services were restarted\n            6. Verify configuration file on each controller\n            7. Upload a new openstack configuration for compute\n            8. Get uptime of nova-compute on each compute\n            9. Apply a new openstack configuration for compute\n            10. Check that nova-compute service was restarted\n            11. Verify configuration file on each compute\n\n        Snapshot: reconfigure_with_new_fields\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration for controller", "expected": "pass"}, {"content": "3. Get uptime of processes from config on each controller", "expected": "pass"}, {"content": "4. Apply a new openstack configuration for controller", "expected": "pass"}, {"content": "5. Check that neutron related services were restarted", "expected": "pass"}, {"content": "6. Verify configuration file on each controller", "expected": "pass"}, {"content": "7. Upload a new openstack configuration for compute", "expected": "pass"}, {"content": "8. Get uptime of nova-compute on each compute", "expected": "pass"}, {"content": "9. Apply a new openstack configuration for compute", "expected": "pass"}, {"content": "10. Check that nova-compute service was restarted", "expected": "pass"}, {"content": "11. Verify configuration file on each compute", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "upload_config_for_node_and_env_in_transitional_state", "title": "Upload config for node and env in transitional state", "custom_test_case_description": "Upload config for node and env in transitional state\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Add 1 compute\n            3. Deploy changes\n            4. Upload a new openstack configuration for env\n            5. Check nailgun response\n            6. Wait for added node in provisioning state\n            7. Upload a new openstack configuration for node\n            8. Check Nailgun response\n            9. Wait for added node in deploying state\n            10. Upload a new openstack configuration for node\n            11. Check Nailgun response\n            12. Wait for finishing of deployment\n\n        Snapshot: upload_config_for_node_and_env_in_transitional_state\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Add 1 compute", "expected": "pass"}, {"content": "3. Deploy changes", "expected": "pass"}, {"content": "4. Upload a new openstack configuration for env", "expected": "pass"}, {"content": "5. Check nailgun response", "expected": "pass"}, {"content": "6. Wait for added node in provisioning state", "expected": "pass"}, {"content": "7. Upload a new openstack configuration for node", "expected": "pass"}, {"content": "8. Check Nailgun response", "expected": "pass"}, {"content": "9. Wait for added node in deploying state", "expected": "pass"}, {"content": "10. Upload a new openstack configuration for node", "expected": "pass"}, {"content": "11. Check Nailgun response", "expected": "pass"}, {"content": "12. Wait for finishing of deployment", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "two_clusters_reconfiguration", "title": "Deploy two clusters with different configs", "custom_test_case_description": "Deploy two clusters with different configs\n\n         Scenario:\n             1. Revert snapshot \"ready_with_5_slaves\"\n             2. Divided the IP ranges into two parts\n             3. Verify network of the first environment\n             4. Verify network of the second environment\n             5. Deploy environment with first ranges\n             6. Run OSTF on the first environment\n             7. Deploy environment with second ranges\n             8. Run OSTF on the second environment\n             9. Apply new CPU overcommit ratio for first environment\n             10. Verify deployment task is finished\n             11. Verify nova-scheduler services uptime\n             12. Verify configuration file on controller\n             13. Boot instances with flavor that occupy all CPU,\n                 boot extra instance and catch the error\n             14. Apply old CPU overcommit ratio for each controller\n             15. Verify deployment task is finished\n             16. Verify nova-scheduler services uptime\n             17. Verify configuration file on each controller\n\n        Snapshot \"two_clusters_reconfiguration\"\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready_with_5_slaves\"", "expected": "pass"}, {"content": "2. Divided the IP ranges into two parts", "expected": "pass"}, {"content": "3. Verify network of the first environment", "expected": "pass"}, {"content": "4. Verify network of the second environment", "expected": "pass"}, {"content": "5. Deploy environment with first ranges", "expected": "pass"}, {"content": "6. Run OSTF on the first environment", "expected": "pass"}, {"content": "7. Deploy environment with second ranges", "expected": "pass"}, {"content": "8. Run OSTF on the second environment", "expected": "pass"}, {"content": "9. Apply new CPU overcommit ratio for first environment", "expected": "pass"}, {"content": "10. Verify deployment task is finished", "expected": "pass"}, {"content": "11. Verify nova-scheduler services uptime", "expected": "pass"}, {"content": "12. Verify configuration file on controller", "expected": "pass"}, {"content": "13. Boot instances with flavor that occupy all CPU, boot extra instance and catch the error", "expected": "pass"}, {"content": "14. Apply old CPU overcommit ratio for each controller", "expected": "pass"}, {"content": "15. Verify deployment task is finished", "expected": "pass"}, {"content": "16. Verify nova-scheduler services uptime", "expected": "pass"}, {"content": "17. Verify configuration file on each controller", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_partition_preservation", "title": "Create environment and set up master node - partition_preservation", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_partition_preservation", "title": "Prepare master node - partition_preservation", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_partition_preservation", "title": "Bootstrap 5 slave nodes - partition_preservation", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "node_reinstallation_env", "title": "Deploy a cluster for nodes reinstallation.", "custom_test_case_description": "Deploy a cluster for nodes reinstallation.\n\n        Scenario:\n            1. Create a cluster\n            2. Add 3 nodes with controller and mongo roles\n            3. Add a node with compute and cinder roles\n            4. Deploy the cluster\n            5. Verify that the deployment is completed successfully\n\n        Duration 190m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "190m", "refs": "", "custom_test_case_steps": [{"content": "1. Create a cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller and mongo roles", "expected": "pass"}, {"content": "3. Add a node with compute and cinder roles", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Verify that the deployment is completed successfully", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "cinder_nova_partition_preservation", "title": "Verify partition preservation of Cinder and Nova instances data.", "custom_test_case_description": "Verify partition preservation of Cinder and Nova instances data.\n\n        Scenario:\n            1. Revert the snapshot\n            2. Create an OS volume and OS instance\n            3. Mark 'cinder' partition to be preserved\n            4. Mark 'vm' partition to be preserved\n            5. Reinstall the compute node\n            6. Run network verification\n            7. Run OSTF\n            8. Verify that the volume is present and has 'available' status\n               after the node reinstallation\n            9. Verify that the VM is available and pingable\n               after the node reinstallation\n\n        Duration: 115m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "115m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Create an OS volume and OS instance", "expected": "pass"}, {"content": "3. Mark 'cinder' partition to be preserved", "expected": "pass"}, {"content": "4. Mark 'vm' partition to be preserved", "expected": "pass"}, {"content": "5. Reinstall the compute node", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}, {"content": "8. Verify that the volume is present and has 'available' status after the node reinstallation", "expected": "pass"}, {"content": "9. Verify that the VM is available and pingable after the node reinstallation", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "mongo_mysql_partition_preservation", "title": "Verify partition preservation of Ceilometer and mysql data.", "custom_test_case_description": "Verify partition preservation of Ceilometer and mysql data.\n\n        Scenario:\n            1. Revert the snapshot\n            2. Create a ceilometer alarm\n            3. Mark 'mongo' and 'mysql' partitions to be\n               preserved on one of controllers\n            4. Reinstall the controller\n            5. Verify that the alarm is present after the node reinstallation\n            6. Verify that the reinstalled node joined the Galera cluster\n               and synced its state\n            7. Run network verification\n            8. Run OSTF\n\n        Duration: 110m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "110m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Create a ceilometer alarm", "expected": "pass"}, {"content": "3. Mark 'mongo' and 'mysql' partitions to be preserved on one of controllers", "expected": "pass"}, {"content": "4. Reinstall the controller", "expected": "pass"}, {"content": "5. Verify that the alarm is present after the node reinstallation", "expected": "pass"}, {"content": "6. Verify that the reinstalled node joined the Galera cluster and synced its state", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_bvt_ubuntu_bootstrap", "title": "Create environment and set up master node - bvt_ubuntu_bootstrap", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_bvt_ubuntu_bootstrap", "title": "Prepare master node - bvt_ubuntu_bootstrap", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_bvt_ubuntu_bootstrap", "title": "Bootstrap 3 slave nodes - bvt_ubuntu_bootstrap", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_stop_on_deploying_ubuntu_bootstrap", "title": "Stop reset cluster in HA mode with 1 controller on Ubuntu Bootstrap", "custom_test_case_description": "Stop reset cluster in HA mode with 1 controller on Ubuntu Bootstrap\n\n        Scenario:\n            1. Create cluster in Ha mode with 1 controller\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Add 1 node with cinder role\n            5. Verify network\n            6. Provision nodes\n            7. Make a test file on every node\n            8. Deploy nodes\n            9. Stop deployment\n            10. Verify nodes are not reset to bootstrap image\n            11. Re-deploy cluster\n            12. Verify network\n            13. Run OSTF\n\n        Duration 45m\n        Snapshot: deploy_stop_on_deploying_ubuntu_bootstrap\n        ", "milestone_id": 18, "type_id": 1, "estimate": "45m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in Ha mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Add 1 node with cinder role", "expected": "pass"}, {"content": "5. Verify network", "expected": "pass"}, {"content": "6. Provision nodes", "expected": "pass"}, {"content": "7. Make a test file on every node", "expected": "pass"}, {"content": "8. Deploy nodes", "expected": "pass"}, {"content": "9. Stop deployment", "expected": "pass"}, {"content": "10. Verify nodes are not reset to bootstrap image", "expected": "pass"}, {"content": "11. Re-deploy cluster", "expected": "pass"}, {"content": "12. Verify network", "expected": "pass"}, {"content": "13. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "delete_node_on_ready_ubuntu_bootstrap", "title": "Delete node from cluster in HA mode        with 1 controller on Ubuntu Bootstrap", "custom_test_case_description": "Delete node from cluster in HA mode        with 1 controller on Ubuntu Bootstrap\n\n        Scenario:\n            1. Delete node\n            2. Verify bootstrap on slaves\n\n        Duration 30m\n        Snapshot: delete_on_ready_ubuntu_bootstrap\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Delete node", "expected": "pass"}, {"content": "2. Verify bootstrap on slaves", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "delete_on_ready_ubuntu_bootstrap", "title": "Delete cluster cluster in HA mode        with 1 controller on Ubuntu Bootstrap", "custom_test_case_description": "Delete cluster cluster in HA mode        with 1 controller on Ubuntu Bootstrap\n\n        Scenario:\n            1. Delete cluster\n            2. Verify bootstrap on slaves\n\n        Duration 30m\n        Snapshot: delete_on_ready_ubuntu_bootstrap\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Delete cluster", "expected": "pass"}, {"content": "2. Verify bootstrap on slaves", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reset_on_ready_ubuntu_bootstrap", "title": "Stop reset cluster in HA mode with 1 controller on Ubuntu Bootstrap", "custom_test_case_description": "Stop reset cluster in HA mode with 1 controller on Ubuntu Bootstrap\n\n        Scenario:\n            1. Reset cluster\n            2. Verify bootstrap on slaves\n            3. Re-deploy cluster\n            4. Verify network\n            5. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Reset cluster", "expected": "pass"}, {"content": "2. Verify bootstrap on slaves", "expected": "pass"}, {"content": "3. Re-deploy cluster", "expected": "pass"}, {"content": "4. Verify network", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "build_default_bootstrap", "title": "Verify than slaves retrieved Default ubuntu bootstrap", "custom_test_case_description": "Verify than slaves retrieved Default ubuntu bootstrap\n\n        Scenario:\n            1. Revert snapshot ready\n            2. Build and activate Ubuntu bootstrap with default settings\n            3. Bootstrap slaves\n            4. Verify Ubuntu bootstrap on slaves\n\n        Duration: 20m\n        Snapshot: build_default_bootstrap\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready", "expected": "pass"}, {"content": "2. Build and activate Ubuntu bootstrap with default settings", "expected": "pass"}, {"content": "3. Bootstrap slaves", "expected": "pass"}, {"content": "4. Verify Ubuntu bootstrap on slaves", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "create_list_import_delete_bootstrap_image", "title": "Validate CRD operations of fuel-bootstrap utility", "custom_test_case_description": "Validate CRD operations of fuel-bootstrap utility\n\n        Scenario:\n            1. Revert snapshot build_default_bootstrap\n            2. Build and Ubuntu bootstrap with default settings\n            3. Validate it is available in images list\n            4. Delete Ubuntu bootstrap image\n            5. Validate it is not available and can not be activated\n            6. Validate restriction for deleting active image\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot build_default_bootstrap", "expected": "pass"}, {"content": "2. Build and Ubuntu bootstrap with default settings", "expected": "pass"}, {"content": "3. Validate it is available in images list", "expected": "pass"}, {"content": "4. Delete Ubuntu bootstrap image", "expected": "pass"}, {"content": "5. Validate it is not available and can not be activated", "expected": "pass"}, {"content": "6. Validate restriction for deleting active image", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "build_full_bootstrap", "title": "Verify than slaves retrieved Ubuntu bootstrap with extra settings", "custom_test_case_description": "Verify than slaves retrieved Ubuntu bootstrap with extra settings\n\n        Scenario:\n            1. Revert snapshot ready\n            2. Build and activate Ubuntu bootstrap with extra settings\n            3. Bootstrap slaves\n            4. Verify Ubuntu bootstrap on slaves\n\n        Duration: 20m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready", "expected": "pass"}, {"content": "2. Build and activate Ubuntu bootstrap with extra settings", "expected": "pass"}, {"content": "3. Bootstrap slaves", "expected": "pass"}, {"content": "4. Verify Ubuntu bootstrap on slaves", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "build_simple_bootstrap", "title": "Verify than slaves retrieved Ubuntu bootstrap with extra package", "custom_test_case_description": "Verify than slaves retrieved Ubuntu bootstrap with extra package\n\n        Scenario:\n            1. Revert snapshot ready\n            2. Build and activate Ubuntu bootstrap with extra package\n            3. Bootstrap slaves\n            4. Verify Ubuntu bootstrap on slaves\n\n        Duration: 20m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "20m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready", "expected": "pass"}, {"content": "2. Build and activate Ubuntu bootstrap with extra package", "expected": "pass"}, {"content": "3. Bootstrap slaves", "expected": "pass"}, {"content": "4. Verify Ubuntu bootstrap on slaves", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_with_two_ubuntu_bootstraps", "title": "Deploy cluster with two different bootstrap images", "custom_test_case_description": "Deploy cluster with two different bootstrap images\n\n        Scenario:\n            1. Boot two nodes\n            2. Validate bootstrap\n            3. Build another one bootstrap image\n            4. Boot additional node\n            5. Validate new bootstrap\n            6. Create cluster in Ha mode with 1 controller, 1 compute\n               and 1 cinder node\n            7. Deploy cluster\n            8. Verify network\n            9. Run OSTF\n\n        Duration 45m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "45m", "refs": "", "custom_test_case_steps": [{"content": "1. Boot two nodes", "expected": "pass"}, {"content": "2. Validate bootstrap", "expected": "pass"}, {"content": "3. Build another one bootstrap image", "expected": "pass"}, {"content": "4. Boot additional node", "expected": "pass"}, {"content": "5. Validate new bootstrap", "expected": "pass"}, {"content": "6. Create cluster in Ha mode with 1 controller, 1 compute and 1 cinder node", "expected": "pass"}, {"content": "7. Deploy cluster", "expected": "pass"}, {"content": "8. Verify network", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_multiracks_2", "title": "Create environment and set up master node - multiracks_2", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_multiracks_2", "title": "Prepare master node - multiracks_2", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "two_nodegroups_network_templates", "title": "Deploy HA environment with Cinder, Neutron and network template on two nodegroups.", "custom_test_case_description": "Deploy HA environment with Cinder, Neutron and network template on\n        two nodegroups.\n\n        Scenario:\n            1. Revert snapshot with ready master node\n            2. Bootstrap 3 slaves from default nodegroup\n            3. Create cluster with Neutron VXLAN and custom nodegroups\n            4. Bootstrap 2 slaves nodes from custom nodegroup\n            5. Add 3 controller nodes from default nodegroup\n            6. Add 2 compute+cinder nodes from custom nodegroup\n            7. Upload 'two_nodegroups' network template\n            8. Verify networks\n            9. Deploy cluster\n            10. Run health checks (OSTF)\n            11. Check L3 network configuration on slaves\n            12. Check that services are listening on their networks only\n\n        Duration 120m\n        Snapshot two_nodegroups_network_templates\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with ready master node", "expected": "pass"}, {"content": "2. Bootstrap 3 slaves from default nodegroup", "expected": "pass"}, {"content": "3. Create cluster with Neutron VXLAN and custom nodegroups", "expected": "pass"}, {"content": "4. Bootstrap 2 slaves nodes from custom nodegroup", "expected": "pass"}, {"content": "5. Add 3 controller nodes from default nodegroup", "expected": "pass"}, {"content": "6. Add 2 compute+cinder nodes from custom nodegroup", "expected": "pass"}, {"content": "7. Upload 'two_nodegroups' network template", "expected": "pass"}, {"content": "8. Verify networks", "expected": "pass"}, {"content": "9. Deploy cluster", "expected": "pass"}, {"content": "10. Run health checks (OSTF)", "expected": "pass"}, {"content": "11. Check L3 network configuration on slaves", "expected": "pass"}, {"content": "12. Check that services are listening on their networks only", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_support_dpdk", "title": "Create environment and set up master node - support_dpdk", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_support_dpdk", "title": "Prepare master node - support_dpdk", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_support_dpdk", "title": "Bootstrap 3 slave nodes - support_dpdk", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_can_not_enable_dpdk_on_non_dedicated_iface", "title": "Check can not enable DPDK on non-dedicated interface", "custom_test_case_description": "Check can not enable DPDK on non-dedicated interface\n\n        Scenario:\n            1. Create new environment with VLAN segmentation for Neutron\n            2. Set KVM as Hypervisor\n            3. Add controller and compute nodes\n            4. Configure HugePages for compute nodes\n            5. Add private and storage networks to interface\n               and try enable DPDK mode\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create new environment with VLAN segmentation for Neutron", "expected": "pass"}, {"content": "2. Set KVM as Hypervisor", "expected": "pass"}, {"content": "3. Add controller and compute nodes", "expected": "pass"}, {"content": "4. Configure HugePages for compute nodes", "expected": "pass"}, {"content": "5. Add private and storage networks to interface and try enable DPDK mode", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_can_not_enable_dpdk_with_tun", "title": "Check can not enable DPDK on tun network", "custom_test_case_description": "Check can not enable DPDK on tun network\n\n        Scenario:\n            1. Create new environment with VXLAN segmentation for Neutron\n            2. Set KVM as Hypervisor\n            3. Add controller and compute nodes\n            4. Configure HugePages for compute nodes\n            5. Try configure private network in DPDK mode\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create new environment with VXLAN segmentation for Neutron", "expected": "pass"}, {"content": "2. Set KVM as Hypervisor", "expected": "pass"}, {"content": "3. Add controller and compute nodes", "expected": "pass"}, {"content": "4. Configure HugePages for compute nodes", "expected": "pass"}, {"content": "5. Try configure private network in DPDK mode", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_cluster_with_dpdk", "title": "Deploy cluster with DPDK", "custom_test_case_description": "Deploy cluster with DPDK\n\n        Scenario:\n            1. Create new environment with VLAN segmentation for Neutron\n            2. Set KVM as Hypervisor\n            3. Add controller and compute nodes\n            4. Configure HugePages for compute nodes\n            5. Configure private network in DPDK mode\n            6. Run network verification\n            7. Deploy environment\n            8. Run network verification\n            9. Run OSTF\n            10. Reboot compute\n            11. Run OSTF\n            12. Run instance on compute with DPDK and check its availability\n                via floating IP\n\n        Snapshot: deploy_cluster_with_dpdk\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create new environment with VLAN segmentation for Neutron", "expected": "pass"}, {"content": "2. Set KVM as Hypervisor", "expected": "pass"}, {"content": "3. Add controller and compute nodes", "expected": "pass"}, {"content": "4. Configure HugePages for compute nodes", "expected": "pass"}, {"content": "5. Configure private network in DPDK mode", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Deploy environment", "expected": "pass"}, {"content": "8. Run network verification", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}, {"content": "10. Reboot compute", "expected": "pass"}, {"content": "11. Run OSTF", "expected": "pass"}, {"content": "12. Run instance on compute with DPDK and check its availability via floating IP", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron_destructive_vxlan", "title": "Create environment and set up master node - ha_neutron_destructive_vxlan", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron_destructive_vxlan", "title": "Prepare master node - ha_neutron_destructive_vxlan", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_neutron_vxlan", "title": "Deploy cluster in HA mode, Neutron with VxLAN segmentation", "custom_test_case_description": "Deploy cluster in HA mode, Neutron with VxLAN segmentation\n\n        Scenario:\n            1. Create cluster. HA, Neutron with VxLAN segmentation\n            2. Add 3 nodes with controller roles\n            3. Add 2 nodes with compute roles\n            4. Add 1 node with cinder role\n            5. Deploy the cluster\n\n        Duration 90m\n        Snapshot deploy_ha_neutron_vxlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. HA, Neutron with VxLAN segmentation", "expected": "pass"}, {"content": "2. Add 3 nodes with controller roles", "expected": "pass"}, {"content": "3. Add 2 nodes with compute roles", "expected": "pass"}, {"content": "4. Add 1 node with cinder role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_l3_migration_after_destroy_vxlan", "title": "Check l3-agent rescheduling after destroy non-primary controller for vxlan", "custom_test_case_description": "Check l3-agent rescheduling after destroy non-primary controller\n        for vxlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create an instance with a key pair\n            3. Manually reschedule router from primary controller\n               to another one\n            4. Destroy controller with l3-agent\n            5. Check l3-agent was rescheduled\n            6. Check network connectivity from instance via\n               dhcp namespace\n            7. Run OSTF\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create an instance with a key pair", "expected": "pass"}, {"content": "3. Manually reschedule router from primary controller to another one", "expected": "pass"}, {"content": "4. Destroy controller with l3-agent", "expected": "pass"}, {"content": "5. Check l3-agent was rescheduled", "expected": "pass"}, {"content": "6. Check network connectivity from instance via dhcp namespace", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_l3_migration_after_reset_vxlan", "title": "Check l3-agent rescheduling after reset non-primary controller for vxlan", "custom_test_case_description": "Check l3-agent rescheduling after reset non-primary controller\n        for vxlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create an instance with a key pair\n            3. Manually reschedule router from primary controller\n               to another one\n            4. Reset controller with l3-agent\n            5. Check l3-agent was rescheduled\n            6. Check network connectivity from instance via\n               dhcp namespace\n            7. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create an instance with a key pair", "expected": "pass"}, {"content": "3. Manually reschedule router from primary controller to another one", "expected": "pass"}, {"content": "4. Reset controller with l3-agent", "expected": "pass"}, {"content": "5. Check l3-agent was rescheduled", "expected": "pass"}, {"content": "6. Check network connectivity from instance via dhcp namespace", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_l3_migration_vxlan", "title": "Check l3-agent rescheduling after l3-agent dies on vxlan", "custom_test_case_description": "Check l3-agent rescheduling after l3-agent dies on vxlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create an instance with a key pair\n            3. Manually reschedule router from primary controller\n               to another one\n            4. Stop l3-agent on new node with pcs\n            5. Check l3-agent was rescheduled\n            6. Check network connectivity from instance via\n               dhcp namespace\n            7. Run OSTF\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create an instance with a key pair", "expected": "pass"}, {"content": "3. Manually reschedule router from primary controller to another one", "expected": "pass"}, {"content": "4. Stop l3-agent on new node with pcs", "expected": "pass"}, {"content": "5. Check l3-agent was rescheduled", "expected": "pass"}, {"content": "6. Check network connectivity from instance via dhcp namespace", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_packets_drop_stat_vxlan", "title": "Check packets drops statistic when size is equal to MTU on vxlan", "custom_test_case_description": "Check packets drops statistic when size is equal to MTU on vxlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create instance, assign floating IP to it\n            3. Send ICMP packets from controller to instance with 1500 bytes\n            4. If at least 7 responses on 10 requests are received\n               assume test is passed\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create instance, assign floating IP to it", "expected": "pass"}, {"content": "3. Send ICMP packets from controller to instance with 1500 bytes", "expected": "pass"}, {"content": "4. If at least 7 responses on 10 requests are received assume test is passed", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ironic_deploy_swift", "title": "Create environment and set up master node - ironic_deploy_swift", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ironic_deploy_swift", "title": "Prepare master node - ironic_deploy_swift", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ironic_deploy_swift", "title": "Bootstrap 5 slave nodes - ironic_deploy_swift", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ironic_deploy_swift", "title": "Deploy ironic with 1 baremetal node", "custom_test_case_description": "Deploy ironic with 1 baremetal node\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role\n            3. Add 2 node with controller+ironic role\n            4. Add 1 node with compute role\n            5. Add 1 nodes with ironic role\n            6. Deploy the cluster\n            7. Upload image to glance\n            8. Enroll Ironic nodes\n            9. Boot nova instance\n            10. Check Nova instance status\n\n        Duration 90m\n        Snapshot ironic_deploy_swift\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 2 node with controller+ironic role", "expected": "pass"}, {"content": "4. Add 1 node with compute role", "expected": "pass"}, {"content": "5. Add 1 nodes with ironic role", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Upload image to glance", "expected": "pass"}, {"content": "8. Enroll Ironic nodes", "expected": "pass"}, {"content": "9. Boot nova instance", "expected": "pass"}, {"content": "10. Check Nova instance status", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_services_reconfiguration_thread_1", "title": "Create environment and set up master node - services_reconfiguration_thread_1", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_services_reconfiguration_thread_1", "title": "Prepare master node - services_reconfiguration_thread_1", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_services_reconfiguration_thread_1", "title": "Bootstrap 5 slave nodes - services_reconfiguration_thread_1", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_keystone_to_use_ldap", "title": "Reconfigure keystone to use LDAP", "custom_test_case_description": "Reconfigure keystone to use LDAP\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Upload a new openstack configuration\n            3. Try to apply a new keystone configuration\n            4. Wait for failing of deployment task\n            5. Verify configuration file on primary controller\n\n        Snapshot: reconfigure_keystone_to_use_ldap\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration", "expected": "pass"}, {"content": "3. Try to apply a new keystone configuration", "expected": "pass"}, {"content": "4. Wait for failing of deployment task", "expected": "pass"}, {"content": "5. Verify configuration file on primary controller", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_ml2_vlan_range", "title": "Reconfigure neutron ml2 VLAN range", "custom_test_case_description": "Reconfigure neutron ml2 VLAN range\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Upload a new openstack configuration\n            3. Get uptime of process \"neutron-server\" on each controller\n            4. Apply a new VLAN range(minimal range) to all nodes\n            5. Wait for configuration applying\n            6. Check that service \"neutron-server\" was restarted\n            7. Verify ml2 plugin settings\n            8. Create new private network\n            9. Try to create one more, verify that it is impossible\n\n        Snapshot: reconfigure_ml2_vlan_range\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration", "expected": "pass"}, {"content": "3. Get uptime of process \"neutron-server\" on each controller", "expected": "pass"}, {"content": "4. Apply a new VLAN range(minimal range) to all nodes", "expected": "pass"}, {"content": "5. Wait for configuration applying", "expected": "pass"}, {"content": "6. Check that service \"neutron-server\" was restarted", "expected": "pass"}, {"content": "7. Verify ml2 plugin settings", "expected": "pass"}, {"content": "8. Create new private network", "expected": "pass"}, {"content": "9. Try to create one more, verify that it is impossible", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "preservation_config_after_reset_and_preconfigured_deploy", "title": "Preservation config after reset of cluster and preconfigured deploy", "custom_test_case_description": "Preservation config after reset of cluster and preconfigured deploy\n\n        Scenario:\n            1. Revert snapshot reconfigure_ml2_vlan_range\n            2. Reset cluster\n            3. Upload a new openstack configuration for nova\n            4. Deploy changes\n            5. Run OSTF\n            6. Verify nova and neutron settings\n            7. Create new private network\n            8. Try to create one more, verify that it is impossible\n            9. Boot instances with flavor that occupy all CPU\n            10. Boot extra instance and catch the error\n\n        Snapshot \"preservation_config_after_reset_and_preconfigured_deploy\"\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot reconfigure_ml2_vlan_range", "expected": "pass"}, {"content": "2. Reset cluster", "expected": "pass"}, {"content": "3. Upload a new openstack configuration for nova", "expected": "pass"}, {"content": "4. Deploy changes", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}, {"content": "6. Verify nova and neutron settings", "expected": "pass"}, {"content": "7. Create new private network", "expected": "pass"}, {"content": "8. Try to create one more, verify that it is impossible", "expected": "pass"}, {"content": "9. Boot instances with flavor that occupy all CPU", "expected": "pass"}, {"content": "10. Boot extra instance and catch the error", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_overcommit_ratio", "title": "Tests for reconfiguration nova CPU overcommit ratio.", "custom_test_case_description": "Tests for reconfiguration nova CPU overcommit ratio.\n\n        Scenario:\n            1. Revert snapshot \"basic_env_for_reconfiguration\"\n            2. Apply new CPU overcommit ratio for each controller\n            3. Verify deployment task is finished\n            4. Verify nova-scheduler services uptime\n            5. Verify configuration file on each controller\n            6. Boot instances with flavor that occupy all CPU,\n               boot extra instance and catch the error\n            7. Apply old CPU overcommit ratio for each controller\n            8. Verify deployment task is finished\n            9. Verify nova-scheduler services uptime\n            10. Verify configuration file on each controller\n\n        Snapshot: reconfigure_overcommit_ratio\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"basic_env_for_reconfiguration\"", "expected": "pass"}, {"content": "2. Apply new CPU overcommit ratio for each controller", "expected": "pass"}, {"content": "3. Verify deployment task is finished", "expected": "pass"}, {"content": "4. Verify nova-scheduler services uptime", "expected": "pass"}, {"content": "5. Verify configuration file on each controller", "expected": "pass"}, {"content": "6. Boot instances with flavor that occupy all CPU, boot extra instance and catch the error", "expected": "pass"}, {"content": "7. Apply old CPU overcommit ratio for each controller", "expected": "pass"}, {"content": "8. Verify deployment task is finished", "expected": "pass"}, {"content": "9. Verify nova-scheduler services uptime", "expected": "pass"}, {"content": "10. Verify configuration file on each controller", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfigure_nova_ephemeral_disk", "title": "Reconfigure nova ephemeral disk format", "custom_test_case_description": "Reconfigure nova ephemeral disk format\n\n        Scenario:\n            1. Revert snapshot reconfigure_overcommit_ratio\n            2. Delete previous OpenStack config\n            3. Upload a new openstack configuration for nova on computes\n            4. Apply configuration\n            5. Wait for configuration applying\n            6. Get uptime of process \"nova-compute\" on each compute\n            7. Verify nova-compute settings\n            8. Create flavor with ephemral disk,\n            9. Boot instance on updated compute with ephemral disk,\n            10. Assign floating ip,\n            11. Check ping to the instance,\n            12. SSH to VM and check ephemeral disk format\n\n        Snapshot: reconfigure_nova_ephemeral_disk\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot reconfigure_overcommit_ratio", "expected": "pass"}, {"content": "2. Delete previous OpenStack config", "expected": "pass"}, {"content": "3. Upload a new openstack configuration for nova on computes", "expected": "pass"}, {"content": "4. Apply configuration", "expected": "pass"}, {"content": "5. Wait for configuration applying", "expected": "pass"}, {"content": "6. Get uptime of process \"nova-compute\" on each compute", "expected": "pass"}, {"content": "7. Verify nova-compute settings", "expected": "pass"}, {"content": "8. Create flavor with ephemral disk,", "expected": "pass"}, {"content": "9. Boot instance on updated compute with ephemral disk,", "expected": "pass"}, {"content": "10. Assign floating ip,", "expected": "pass"}, {"content": "11. Check ping to the instance,", "expected": "pass"}, {"content": "12. SSH to VM and check ephemeral disk format", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reconfiguration_scalability", "title": "Check scalability of configured environment", "custom_test_case_description": "Check scalability of configured environment\n\n        Scenario:\n            1. Revert snapshot \"reconfigure_nova_ephemeral_disk\"\n            2. Upload a new openstack configuration for keystone\n            3. Wait for configuration applying\n            4. Verify keystone settings\n            5. Keystone actions\n            6. Add 1 compute and 1 controller to cluster\n            7. Run network verification\n            8. Deploy changes\n            9. Run OSTF tests\n            10. Verify keystone settings\n            11. Verify nova settings\n            12. Create flavor with ephemral disk\n            13. Boot instance on updated compute with ephemral disk\n            14. Assign floating ip\n            15. Check ping to the instance\n            16. SSH to VM and check ephemeral disk format\n            17. Keystone actions\n\n        Snapshot \"reconfiguration_scalability\"\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"reconfigure_nova_ephemeral_disk\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration for keystone", "expected": "pass"}, {"content": "3. Wait for configuration applying", "expected": "pass"}, {"content": "4. Verify keystone settings", "expected": "pass"}, {"content": "5. Keystone actions", "expected": "pass"}, {"content": "6. Add 1 compute and 1 controller to cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy changes", "expected": "pass"}, {"content": "9. Run OSTF tests", "expected": "pass"}, {"content": "10. Verify keystone settings", "expected": "pass"}, {"content": "11. Verify nova settings", "expected": "pass"}, {"content": "12. Create flavor with ephemral disk", "expected": "pass"}, {"content": "13. Boot instance on updated compute with ephemral disk", "expected": "pass"}, {"content": "14. Assign floating ip", "expected": "pass"}, {"content": "15. Check ping to the instance", "expected": "pass"}, {"content": "16. SSH to VM and check ephemeral disk format", "expected": "pass"}, {"content": "17. Keystone actions", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "apply_config_for_node_with_multiple_role", "title": "Apply config for node with multiple role", "custom_test_case_description": "Apply config for node with multiple role\n\n        Scenario:\n            1. Revert snapshot \"reconfiguration_scalability\"\n            2. Upload a new openstack configuration for compute role\n            3. Upload a new openstack configuration for cinder role\n            4. Wait for configuration applying\n            5. Get uptime of process \"nova-compute\"\n            6. Check settings on target node\n\n        Snapshot \"apply_config_for_node_with_multiple_role\"\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"reconfiguration_scalability\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration for compute role", "expected": "pass"}, {"content": "3. Upload a new openstack configuration for cinder role", "expected": "pass"}, {"content": "4. Wait for configuration applying", "expected": "pass"}, {"content": "5. Get uptime of process \"nova-compute\"", "expected": "pass"}, {"content": "6. Check settings on target node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "multiple_apply_config", "title": "Multiple serial applying of configuration", "custom_test_case_description": "Multiple serial applying of configuration\n\n        Scenario:\n            1. Revert snapshot \"reconfiguration_scalability\"\n            2. Upload a new openstack configuration for certain compute\n            3. Get uptime of process \"nova-compute\" on target compute\n            4. Wait for configuration applying\n            5. Get uptime of process \"nova-compute\" on target compute\n            6. Verify nova settings on each compute\n            7. Create flavor with ephemeral disk\n            8. Boot instance on nontarget compute with ephemral disk\n            9. Assign floating ip\n            10. Check ping to the instance\n            11. SSH to VM and check ephemeral disk format\n            12. Boot instance on target compute with ephemeral disk\n            13. Assign floating ip\n            14. Check ping to the instance\n            15. SSH to VM and check ephemeral disk format\n\n        Snapshot \"multiple_apply_config\"\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"reconfiguration_scalability\"", "expected": "pass"}, {"content": "2. Upload a new openstack configuration for certain compute", "expected": "pass"}, {"content": "3. Get uptime of process \"nova-compute\" on target compute", "expected": "pass"}, {"content": "4. Wait for configuration applying", "expected": "pass"}, {"content": "5. Get uptime of process \"nova-compute\" on target compute", "expected": "pass"}, {"content": "6. Verify nova settings on each compute", "expected": "pass"}, {"content": "7. Create flavor with ephemeral disk", "expected": "pass"}, {"content": "8. Boot instance on nontarget compute with ephemral disk", "expected": "pass"}, {"content": "9. Assign floating ip", "expected": "pass"}, {"content": "10. Check ping to the instance", "expected": "pass"}, {"content": "11. SSH to VM and check ephemeral disk format", "expected": "pass"}, {"content": "12. Boot instance on target compute with ephemeral disk", "expected": "pass"}, {"content": "13. Assign floating ip", "expected": "pass"}, {"content": "14. Check ping to the instance", "expected": "pass"}, {"content": "15. SSH to VM and check ephemeral disk format", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_full_cluster_reinstallation", "title": "Create environment and set up master node - full_cluster_reinstallation", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_full_cluster_reinstallation", "title": "Prepare master node - full_cluster_reinstallation", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_full_cluster_reinstallation", "title": "Bootstrap 5 slave nodes - full_cluster_reinstallation", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "full_cluster_reinstallation", "title": "Verify full cluster reinstallation.", "custom_test_case_description": "Verify full cluster reinstallation.\n\n        Scenario:\n            1. Revert snapshot\n            2. Create an empty sample file on each node to check that it is not\n               available after cluster reinstallation\n            3. Reinstall all cluster nodes\n            4. Verify that all nodes are reinstalled (not just rebooted),\n               i.e. there is no sample file on a node\n            5. Run network verification\n            6. Run OSTF\n\n        Duration: 145m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "145m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Create an empty sample file on each node to check that it is not available after cluster reinstallation", "expected": "pass"}, {"content": "3. Reinstall all cluster nodes", "expected": "pass"}, {"content": "4. Verify that all nodes are reinstalled (not just rebooted), i.e. there is no sample file on a node", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron_destructive", "title": "Create environment and set up master node - ha_neutron_destructive", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron_destructive", "title": "Prepare master node - ha_neutron_destructive", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ha_neutron_destructive", "title": "Bootstrap 5 slave nodes - ha_neutron_destructive", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_ha_neutron", "title": "Prepare cluster in HA/Neutron mode for failover tests", "custom_test_case_description": "Prepare cluster in HA/Neutron mode for failover tests\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller roles\n            3. Add 2 nodes with compute roles\n            4. Deploy the cluster\n            5. Make snapshot\n\n        Duration 70m\n        Snapshot prepare_ha_neutron\n        ", "milestone_id": 18, "type_id": 1, "estimate": "70m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller roles", "expected": "pass"}, {"content": "3. Add 2 nodes with compute roles", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Make snapshot", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "change_pacemaker_parameter_not_break_rabbitmq", "title": "Change pacemaker parameters doesn't break RabbitMQ.", "custom_test_case_description": "Change pacemaker parameters doesn't break RabbitMQ.\n\n        Scenario:\n            1. Deploy environment with at least 3 controllers\n            2. Change max_rabbitmqctl_timeouts parameter on one of\n               controllers,after that slaves rabbitmq will be restarted by\n               Pacemaker.\n            3. Wait for 3 minutes.\n            4. Check RabbitMQ cluster is assembled until success in 10 min\n            5. Run OSTF\n            6. Repeat two more times steps 2-5\n\n        Duration 80 min\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "80m", "refs": "", "custom_test_case_steps": [{"content": "1. Deploy environment with at least 3 controllers", "expected": "pass"}, {"content": "2. Change max_rabbitmqctl_timeouts parameter on one of controllers,after that slaves rabbitmq will be restarted by Pacemaker.", "expected": "pass"}, {"content": "3. Wait for 3 minutes.", "expected": "pass"}, {"content": "4. Check RabbitMQ cluster is assembled until success in 10 min", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}, {"content": "6. Repeat two more times steps 2-5", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_corosync_stability_check", "title": "Check after corosync failover that \"pcs status nodes\" reports the same DC with quorum, \"offline\"/\"online\" statuses", "custom_test_case_description": "Check after corosync failover that \"pcs status nodes\" reports\n           the same DC with quorum, \"offline\"/\"online\" statuses\n\n        Scenario:\n            1. On the first controller kill corosync\n            2. Verify for all controllers \"pcs status nodes\" reports\n            3. Start corosync on the first controller\n            4. Repeat steps 1-3 500 times\n\n        Duration 120m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. On the first controller kill corosync", "expected": "pass"}, {"content": "2. Verify for all controllers \"pcs status nodes\" reports", "expected": "pass"}, {"content": "3. Start corosync on the first controller", "expected": "pass"}, {"content": "4. Repeat steps 1-3 500 times", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_check_alive_rabbit", "title": "Check alive rabbit node is not kicked from cluster when corosync service on node dies", "custom_test_case_description": "Check alive rabbit node is not kicked from cluster\n           when corosync service on node dies\n\n        Scenario:\n            1. SSH to first controller and put corosync cluster to\n               maintenance mode:\n               crm configure property maintenance-mode=true\n            2. Stop corosync service on first controller\n            3. Check on master node that rabbit-fence.log contains\n               Ignoring alive node rabbit@node-1\n            4. On second controller check that rabbitmq cluster_status\n               contains all 3 nodes\n            5. On first controller start corosync service and restart pacemaker\n            6. Check that pcs status contains all 3 nodes\n\n        Duration 25m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. SSH to first controller and put corosync cluster to maintenance mode: crm configure property maintenance-mode=true", "expected": "pass"}, {"content": "2. Stop corosync service on first controller", "expected": "pass"}, {"content": "3. Check on master node that rabbit-fence.log contains Ignoring alive node rabbit@node-1", "expected": "pass"}, {"content": "4. On second controller check that rabbitmq cluster_status contains all 3 nodes", "expected": "pass"}, {"content": "5. On first controller start corosync service and restart pacemaker", "expected": "pass"}, {"content": "6. Check that pcs status contains all 3 nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_check_dead_rabbit", "title": "Check dead rabbit node is kicked from cluster when corosync service on node dies", "custom_test_case_description": "Check dead rabbit node is kicked from cluster\n           when corosync service on node dies\n\n        Scenario:\n            1. SSH to first controller and put corosync cluster to\n               maintenance mode:\n               crm configure property maintenance-mode=true\n            2. Stop rabbit and corosync service on first controller\n            3. Check on master node that rabbit-fence.log contains\n               Disconnecting rabbit@node-1\n            4. On second controller check that rabbitmq cluster_status\n               contains only 2 nodes\n\n        Duration 25m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. SSH to first controller and put corosync cluster to maintenance mode: crm configure property maintenance-mode=true", "expected": "pass"}, {"content": "2. Stop rabbit and corosync service on first controller", "expected": "pass"}, {"content": "3. Check on master node that rabbit-fence.log contains Disconnecting rabbit@node-1", "expected": "pass"}, {"content": "4. On second controller check that rabbitmq cluster_status contains only 2 nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_delete_vips", "title": "Delete management and public VIPs 10 times. Verify that they are restored. Verify cluster by OSTF", "custom_test_case_description": "Delete management and public VIPs 10 times.\n        Verify that they are restored.\n        Verify cluster by OSTF\n\n        Scenario:\n            1. Delete 10 time public and management VIPs\n            2. Wait while it is being restored\n            3. Verify it is restored\n            4. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Delete 10 time public and management VIPs", "expected": "pass"}, {"content": "2. Wait while it is being restored", "expected": "pass"}, {"content": "3. Verify it is restored", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_destroy_controllers", "title": "Destroy two controllers and check pacemaker status is correct", "custom_test_case_description": "Destroy two controllers and check pacemaker status is correct\n\n        Scenario:\n            1. Revert environment\n            2. Destroy first controller\n            3. Check pacemaker status\n            4. Run OSTF\n            5. Revert environment\n            6. Destroy second controller\n            7. Check pacemaker status\n            8. Run OSTF\n\n        Duration 35m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert environment", "expected": "pass"}, {"content": "2. Destroy first controller", "expected": "pass"}, {"content": "3. Check pacemaker status", "expected": "pass"}, {"content": "4. Run OSTF", "expected": "pass"}, {"content": "5. Revert environment", "expected": "pass"}, {"content": "6. Destroy second controller", "expected": "pass"}, {"content": "7. Check pacemaker status", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_firewall", "title": "Check firewall vulnerability on Neutron network", "custom_test_case_description": "Check firewall vulnerability on Neutron network\n\n        Scenario:\n            1. Start 'socat' on a cluster node to listen for a free random port\n            2. Put to this port a string using 'nc' from admin node\n            3. Check if the string appeared in the cluster node\n            4. Repeat for each cluster node\n\n        Duration 25m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. Start 'socat' on a cluster node to listen for a free random port", "expected": "pass"}, {"content": "2. Put to this port a string using 'nc' from admin node", "expected": "pass"}, {"content": "3. Check if the string appeared in the cluster node", "expected": "pass"}, {"content": "4. Repeat for each cluster node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_haproxy_termination", "title": "Terminate haproxy on all controllers one by one", "custom_test_case_description": "Terminate haproxy on all controllers one by one\n\n        Scenario:\n            1. Terminate haproxy\n            2. Wait while it is being restarted\n            3. Verify it is restarted\n            4. Go to another controller\n            5. Run OSTF\n\n        Duration 25m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. Terminate haproxy", "expected": "pass"}, {"content": "2. Wait while it is being restarted", "expected": "pass"}, {"content": "3. Verify it is restarted", "expected": "pass"}, {"content": "4. Go to another controller", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_mysql_termination", "title": "Terminate mysql on all controllers one by one", "custom_test_case_description": "Terminate mysql on all controllers one by one\n\n        Scenario:\n            1. Terminate mysql\n            2. Wait while it is being restarted\n            3. Verify it is restarted\n            4. Go to another controller\n            5. Run OSTF\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. Terminate mysql", "expected": "pass"}, {"content": "2. Wait while it is being restarted", "expected": "pass"}, {"content": "3. Verify it is restarted", "expected": "pass"}, {"content": "4. Go to another controller", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_pacemaker_configuration", "title": "Verify resources are configured", "custom_test_case_description": "Verify resources are configured\n\n        Scenario:\n            1. SSH to controller node\n            2. Verify resources are configured\n            3. Go to next controller\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. SSH to controller node", "expected": "pass"}, {"content": "2. Verify resources are configured", "expected": "pass"}, {"content": "3. Go to next controller", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_test_3_1_rabbit_failover", "title": "Check 3 in 1 rabbit failover", "custom_test_case_description": "Check 3 in 1 rabbit failover\n\n        Scenario:\n            1. SSH to controller and get rabbit master\n            2. Destroy not rabbit master node\n            3. Check that rabbit master stay as was\n            4. Run ostf ha\n            5. Turn on destroyed slave\n            6. Check rabbit master is the same\n            7. Run ostf ha\n            8. Destroy rabbit master node\n            9. Check that new rabbit-master appears\n            10. Run  ostf ha\n            11. Power on destroyed node\n            12. Check that new rabbit-master was not elected\n            13. Run ostf ha\n\n        Duration 25m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. SSH to controller and get rabbit master", "expected": "pass"}, {"content": "2. Destroy not rabbit master node", "expected": "pass"}, {"content": "3. Check that rabbit master stay as was", "expected": "pass"}, {"content": "4. Run ostf ha", "expected": "pass"}, {"content": "5. Turn on destroyed slave", "expected": "pass"}, {"content": "6. Check rabbit master is the same", "expected": "pass"}, {"content": "7. Run ostf ha", "expected": "pass"}, {"content": "8. Destroy rabbit master node", "expected": "pass"}, {"content": "9. Check that new rabbit-master appears", "expected": "pass"}, {"content": "10. Run  ostf ha", "expected": "pass"}, {"content": "11. Power on destroyed node", "expected": "pass"}, {"content": "12. Check that new rabbit-master was not elected", "expected": "pass"}, {"content": "13. Run ostf ha", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_neutron_virtual_router", "title": "Verify connection is present and downloading maintained by conntrackd after primary controller destroy", "custom_test_case_description": "Verify connection is present and\n        downloading maintained by conntrackd\n        after primary controller destroy\n\n        Scenario:\n            1. SSH to compute node\n            2. Check Internet connectivity\n            3. Destroy primary controller\n            4. Check Internet connectivity\n\n        Duration 25m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. SSH to compute node", "expected": "pass"}, {"content": "2. Check Internet connectivity", "expected": "pass"}, {"content": "3. Destroy primary controller", "expected": "pass"}, {"content": "4. Check Internet connectivity", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ha_rabbitmq_stability_check", "title": "Check after repeatable failover rabbit cluster is healthy.", "custom_test_case_description": "Check after repeatable failover rabbit cluster is healthy.\n\n        Scenario:\n            1. Deploy environment with at least 3 controllers\n               (Or revert existing snapshot)\n            2. Wait for mysql cluster to become active\n            3. Run ostf tests before destructive actions\n            4. Get rabbit master node\n            5. Move master rabbit resource to slave with pcs\n            6. Delete pcs constraint for rabbit resource\n            7. Assert HA services ready\n            8. Get new rabbit master node\n            9. Destroy it\n            10. Assert HA services ready\n            11. Run sanity and smoke OSTF sets\n            12. Power on destroyed node\n            13. Assert HA services ready\n            14. Assert OS services ready\n            15. Run OSTF\n\n        Duration 80 min\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "80m", "refs": "", "custom_test_case_steps": [{"content": "1. Deploy environment with at least 3 controllers (Or revert existing snapshot)", "expected": "pass"}, {"content": "2. Wait for mysql cluster to become active", "expected": "pass"}, {"content": "3. Run ostf tests before destructive actions", "expected": "pass"}, {"content": "4. Get rabbit master node", "expected": "pass"}, {"content": "5. Move master rabbit resource to slave with pcs", "expected": "pass"}, {"content": "6. Delete pcs constraint for rabbit resource", "expected": "pass"}, {"content": "7. Assert HA services ready", "expected": "pass"}, {"content": "8. Get new rabbit master node", "expected": "pass"}, {"content": "9. Destroy it", "expected": "pass"}, {"content": "10. Assert HA services ready", "expected": "pass"}, {"content": "11. Run sanity and smoke OSTF sets", "expected": "pass"}, {"content": "12. Power on destroyed node", "expected": "pass"}, {"content": "13. Assert HA services ready", "expected": "pass"}, {"content": "14. Assert OS services ready", "expected": "pass"}, {"content": "15. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_fuel_plugin_reboot", "title": "Create environment and set up master node - fuel_plugin_reboot", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_fuel_plugin_reboot", "title": "Prepare master node - fuel_plugin_reboot", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_fuel_plugin_reboot", "title": "Bootstrap 3 slave nodes - fuel_plugin_reboot", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_cluster_with_reboot_plugin_timeout", "title": "Check deployment is failed by reboot task plugin.", "custom_test_case_description": "Check deployment is failed by reboot task plugin.\n\n        Scenario:\n            1. Revert snapshot with 3 nodes\n            2. Download and install fuel-plugin-builder\n            3. Create plugin with reboot task,\n               set timeout for reboot task as 1 second\n            4. Build plugin\n            5. Install plugin to fuel\n            6. Create cluster and enable plugin\n            7. Provision nodes\n            8. Deploy cluster\n            9. Check that deployment task failed\n            10. Check error msg at the logs\n\n        Duration 15m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "15m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 3 nodes", "expected": "pass"}, {"content": "2. Download and install fuel-plugin-builder", "expected": "pass"}, {"content": "3. Create plugin with reboot task, set timeout for reboot task as 1 second", "expected": "pass"}, {"content": "4. Build plugin", "expected": "pass"}, {"content": "5. Install plugin to fuel", "expected": "pass"}, {"content": "6. Create cluster and enable plugin", "expected": "pass"}, {"content": "7. Provision nodes", "expected": "pass"}, {"content": "8. Deploy cluster", "expected": "pass"}, {"content": "9. Check that deployment task failed", "expected": "pass"}, {"content": "10. Check error msg at the logs", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_fuel_plugin_reboot", "title": "Bootstrap 5 slave nodes - fuel_plugin_reboot", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_cluster_with_reboot_plugin", "title": "Add pre-deployment reboot task to nailgun via plugin.", "custom_test_case_description": "Add pre-deployment reboot task to nailgun via plugin.\n\n        Scenario:\n        1. Revert snapshot with 5 nodes\n        2. Download and install fuel-plugin-builder\n        3. Create plugin with reboot task\n        4. Build plugin and copy it in var directory\n        5. Install plugin to fuel\n        6. Create cluster and enable plugin\n        7. Provision nodes\n        8. Collect timestamps from nodes\n        9. Deploy cluster\n        10. Check if timestamps are changed\n\n        Duration 40m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with 5 nodes", "expected": "pass"}, {"content": "2. Download and install fuel-plugin-builder", "expected": "pass"}, {"content": "3. Create plugin with reboot task", "expected": "pass"}, {"content": "4. Build plugin and copy it in var directory", "expected": "pass"}, {"content": "5. Install plugin to fuel", "expected": "pass"}, {"content": "6. Create cluster and enable plugin", "expected": "pass"}, {"content": "7. Provision nodes", "expected": "pass"}, {"content": "8. Collect timestamps from nodes", "expected": "pass"}, {"content": "9. Deploy cluster", "expected": "pass"}, {"content": "10. Check if timestamps are changed", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_thread_non_func_1", "title": "Create environment and set up master node - thread_non_func_1", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_thread_non_func_1", "title": "Prepare master node - thread_non_func_1", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_thread_non_func_1", "title": "Bootstrap 3 slave nodes - thread_non_func_1", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_one_controller_neutron_master_node_fail", "title": "Deploy HA cluster with neutron and check it without master node", "custom_test_case_description": "Deploy HA cluster with neutron and check it without master node\n\n        Scenario:\n            1. Create cluster in ha mode with 1 controller\n            2. Add 1 node with controller role\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Validate cluster was set up correctly, there are no dead\n               services, there are no errors in logs\n            6. Verify networks\n            7. Verify network configuration on controller\n            8. Run OSTF\n            9. Shut down master node\n            10. Run OpenStack verification\n\n        Duration 1000m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "1000m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in ha mode with 1 controller", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Validate cluster was set up correctly, there are no dead services, there are no errors in logs", "expected": "pass"}, {"content": "6. Verify networks", "expected": "pass"}, {"content": "7. Verify network configuration on controller", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Shut down master node", "expected": "pass"}, {"content": "10. Run OpenStack verification", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_thread_non_func_1", "title": "Bootstrap 5 slave nodes - thread_non_func_1", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_dns_ntp", "title": "Use external ntp and dns in ha mode", "custom_test_case_description": "Use external ntp and dns in ha mode\n\n        Scenario:\n            1. Create cluster\n            2  Configure external NTP,DNS settings\n            3. Add 3 nodes with controller roles\n            4. Add 2 nodes with compute roles\n            5. Deploy the cluster\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster 2  Configure external NTP,DNS settings", "expected": "pass"}, {"content": "3. Add 3 nodes with controller roles", "expected": "pass"}, {"content": "4. Add 2 nodes with compute roles", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "external_dns_ha", "title": "Check external dns in ha mode", "custom_test_case_description": "Check external dns in ha mode\n\n        Scenario:\n            1. Revert cluster\n            2. Shutdown dnsmasq\n            3. Check dns resolution\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert cluster", "expected": "pass"}, {"content": "2. Shutdown dnsmasq", "expected": "pass"}, {"content": "3. Check dns resolution", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "external_ntp_ha", "title": "Check external ntp in ha mode", "custom_test_case_description": "Check external ntp in ha mode\n\n        Scenario:\n            1. Create cluster\n            2. Shutdown ntpd\n            3. Check ntp update\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Shutdown ntpd", "expected": "pass"}, {"content": "3. Check ntp update", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_error_node_reinstallation", "title": "Create environment and set up master node - error_node_reinstallation", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_error_node_reinstallation", "title": "Prepare master node - error_node_reinstallation", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_error_node_reinstallation", "title": "Bootstrap 5 slave nodes - error_node_reinstallation", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "failed_node_reinstallation_env", "title": "Prepare a cluster for 'failed node reinstallation' tests.", "custom_test_case_description": "Prepare a cluster for 'failed node reinstallation' tests.\n\n        Scenario:\n            1. Revert the snapshot\n            2. Create a cluster\n            3. Add 3 nodes with controller and mongo roles\n            4. Add a node with compute and cinder roles\n            5. Provision nodes\n\n        Duration 25m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "25m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Create a cluster", "expected": "pass"}, {"content": "3. Add 3 nodes with controller and mongo roles", "expected": "pass"}, {"content": "4. Add a node with compute and cinder roles", "expected": "pass"}, {"content": "5. Provision nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reinstall_failed_compute_deployment", "title": "Verify reinstallation of a failed compute.", "custom_test_case_description": "Verify reinstallation of a failed compute.\n\n        Scenario:\n            1. Revert the snapshot\n            2. Start deployment; fail deployment on one of computes\n            3. Reinstall the cluster\n            4. Run network verification\n            5. Run OSTF\n\n        Duration: 45m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "45m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Start deployment; fail deployment on one of computes", "expected": "pass"}, {"content": "3. Reinstall the cluster", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reinstall_failed_primary_controller_deployment", "title": "Verify reinstallation of a failed controller.", "custom_test_case_description": "Verify reinstallation of a failed controller.\n\n        Scenario:\n            1. Revert the snapshot\n            2. Start deployment; fail deployment on primary controller\n            3. Reinstall the cluster\n            4. Run network verification\n            5. Run OSTF\n\n        Duration: 145m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "145m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Start deployment; fail deployment on primary controller", "expected": "pass"}, {"content": "3. Reinstall the cluster", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reinstall_failed_regular_controller_deployment", "title": "Verify reinstallation of a failed controller.", "custom_test_case_description": "Verify reinstallation of a failed controller.\n\n        Scenario:\n            1. Revert the snapshot\n            2. Start deployment; fail deployment on regular controller\n            3. Reinstall the cluster\n            4. Run network verification\n            5. Run OSTF\n\n        Duration: 145m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "145m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert the snapshot", "expected": "pass"}, {"content": "2. Start deployment; fail deployment on regular controller", "expected": "pass"}, {"content": "3. Reinstall the cluster", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_services_ha_one_controller", "title": "Create environment and set up master node - services_ha_one_controller", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_services_ha_one_controller", "title": "Prepare master node - services_ha_one_controller", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_services_ha_one_controller", "title": "Bootstrap 3 slave nodes - services_ha_one_controller", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_sahara_ha_one_controller_tun", "title": "Deploy cluster in ha mode with 1 controller Sahara and Neutron VXLAN", "custom_test_case_description": "Deploy cluster in ha mode with 1 controller Sahara and Neutron VXLAN\n\n        Scenario:\n            1. Create a Fuel cluster. Set the option for Sahara installation\n            2. Add 1 node with \"controller\" role\n            3. Add 1 node with \"compute\" role\n            4. Deploy the Fuel cluster\n            5. Verify Sahara service on controller\n            6. Run all sanity and smoke tests\n            7. Register Vanilla2 image for Sahara\n            8. Run platform Vanilla2 test for Sahara\n\n        Duration 65m\n        Snapshot: deploy_sahara_ha_one_controller_tun\n        ", "milestone_id": 18, "type_id": 1, "estimate": "65m", "refs": "", "custom_test_case_steps": [{"content": "1. Create a Fuel cluster. Set the option for Sahara installation", "expected": "pass"}, {"content": "2. Add 1 node with \"controller\" role", "expected": "pass"}, {"content": "3. Add 1 node with \"compute\" role", "expected": "pass"}, {"content": "4. Deploy the Fuel cluster", "expected": "pass"}, {"content": "5. Verify Sahara service on controller", "expected": "pass"}, {"content": "6. Run all sanity and smoke tests", "expected": "pass"}, {"content": "7. Register Vanilla2 image for Sahara", "expected": "pass"}, {"content": "8. Run platform Vanilla2 test for Sahara", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_murano_ha_one_controller_tun", "title": "Deploy cluster in HA mode with Murano and Neutron VXLAN", "custom_test_case_description": "Deploy cluster in HA mode with Murano and Neutron VXLAN\n\n        Scenario:\n            1. Create cluster. Set install Murano option\n            2. Add 1 node with controller role\n            3. Add 1 nodes with compute role\n            4. Deploy the cluster\n            5. Verify Murano services\n            6. Run OSTF\n            7. Run OSTF Murano platform tests\n\n        Duration 40m\n        Snapshot: deploy_murano_ha_one_controller_tun\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Murano option", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Verify Murano services", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}, {"content": "7. Run OSTF Murano platform tests", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceilometer_ha_one_controller_multirole", "title": "Deploy cluster in ha multirole mode with Ceilometer", "custom_test_case_description": "Deploy cluster in ha multirole mode with Ceilometer\n\n        Scenario:\n            1. Create cluster. Set install Ceilometer option\n            2. Add 1 node with controller role\n            3. Add 1 nodes with compute role\n            4. Add 2 nodes with cinder and mongo roles\n            5. Deploy the cluster\n            6. Verify ceilometer api is running\n            7. Run OSTF\n\n        Duration 35m\n        Snapshot: deploy_ceilometer_ha_one_controller_multirole\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Ceilometer option", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Add 2 nodes with cinder and mongo roles", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Verify ceilometer api is running", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ceilometer_ha_one_controller_with_mongo", "title": "Deploy cluster in HA mode with Ceilometer", "custom_test_case_description": "Deploy cluster in HA mode with Ceilometer\n\n        Scenario:\n            1. Create cluster. Set install Ceilometer option\n            2. Add 1 node with controller role\n            3. Add 1 nodes with compute role\n            4. Add 1 node with cinder role\n            5. Add 1 node with mongo role\n            6. Deploy the cluster\n            7. Verify ceilometer api is running\n            8. Run OSTF\n\n        Duration 45m\n        Snapshot: deploy_ceilometer_ha_one_controller_with_mongo\n        ", "milestone_id": 18, "type_id": 1, "estimate": "45m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. Set install Ceilometer option", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Add 1 node with cinder role", "expected": "pass"}, {"content": "5. Add 1 node with mongo role", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Verify ceilometer api is running", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_heat_ha_one_controller_neutron", "title": "Deploy Heat cluster in HA mode with Neutron VXLAN", "custom_test_case_description": "Deploy Heat cluster in HA mode with Neutron VXLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role and mongo\n            3. Add 1 nodes with compute role\n            4. Set install Ceilometer option\n            5. Deploy the cluster\n            6. Verify Heat, Ceilometer services\n            7. Run OSTF platform tests\n\n        Duration 40m\n        Snapshot: deploy_heat_ha_one_controller_neutron\n        ", "milestone_id": 18, "type_id": 1, "estimate": "40m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role and mongo", "expected": "pass"}, {"content": "3. Add 1 nodes with compute role", "expected": "pass"}, {"content": "4. Set install Ceilometer option", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Verify Heat, Ceilometer services", "expected": "pass"}, {"content": "7. Run OSTF platform tests", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron_tun_scale", "title": "Create environment and set up master node - ha_neutron_tun_scale", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron_tun_scale", "title": "Prepare master node - ha_neutron_tun_scale", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_9_ha_neutron_tun_scale", "title": "Bootstrap 9 slave nodes - ha_neutron_tun_scale", "custom_test_case_description": "Bootstrap 9 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 9 slave nodes\n\n        Snapshot: ready_with_9_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 9 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_tun_scalability", "title": "Check HA mode on scalability", "custom_test_case_description": "Check HA mode on scalability\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 controller node\n            3. Deploy the cluster\n            4. Check swift, and invoke swift-rings-rebalance.sh\n               on primary controller if check failed\n            5. Add 2 controller nodes\n            6. Deploy changes\n            7. Check swift, and invoke swift-rings-rebalance.sh\n               on primary controller if check failed\n            8. Run OSTF\n            9. Add 2 controller 1 compute nodes\n            10. Deploy changes\n            11. Check swift, and invoke swift-rings-rebalance.sh\n                on all the controllers\n            12. Run OSTF\n            13. Delete the primary and the last added controller.\n            14. Deploy changes\n            15. Check swift, and invoke swift-rings-rebalance.sh\n                on all the controllers\n            16. Run OSTF\n\n        Duration 160m\n        Snapshot neutron_tun_scalability\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "160m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 controller node", "expected": "pass"}, {"content": "3. Deploy the cluster", "expected": "pass"}, {"content": "4. Check swift, and invoke swift-rings-rebalance.sh on primary controller if check failed", "expected": "pass"}, {"content": "5. Add 2 controller nodes", "expected": "pass"}, {"content": "6. Deploy changes", "expected": "pass"}, {"content": "7. Check swift, and invoke swift-rings-rebalance.sh on primary controller if check failed", "expected": "pass"}, {"content": "8. Run OSTF", "expected": "pass"}, {"content": "9. Add 2 controller 1 compute nodes", "expected": "pass"}, {"content": "10. Deploy changes", "expected": "pass"}, {"content": "11. Check swift, and invoke swift-rings-rebalance.sh on all the controllers", "expected": "pass"}, {"content": "12. Run OSTF", "expected": "pass"}, {"content": "13. Delete the primary and the last added controller.", "expected": "pass"}, {"content": "14. Deploy changes", "expected": "pass"}, {"content": "15. Check swift, and invoke swift-rings-rebalance.sh on all the controllers", "expected": "pass"}, {"content": "16. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "Case_FuelMasterMigrate__Config_1ctrl_1comp_neutronVLAN", "title": "Fuel master migration to VM on 1 Controller, 1 Compute on Neutron/VLAN", "custom_test_case_description": "Fuel master migration to VM on 1 Controller, 1 Compute on Neutron/VLAN\n\n    Scenario:\n        0. Setup master node\n        1. Configuration releases\n        2. Bootstrap slave and make snapshot\n        3. Revert bootstrapped nodes\n        4. Create Fuel Environment\n        5. Add nodes to environment\n        6. Run network checker\n        7. Deploy environment\n        8. Run network checker\n        9. Migrate Fuel Master to a compute\n        10. Check periodically the status of Fuel Master migration process\n        11. Run network checker\n        12. Run health checker\n\nDuration 180m", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "0. Setup master node", "expected": "pass"}, {"content": "1. Configuration releases", "expected": "pass"}, {"content": "2. Bootstrap slave and make snapshot", "expected": "pass"}, {"content": "3. Revert bootstrapped nodes", "expected": "pass"}, {"content": "4. Create Fuel Environment", "expected": "pass"}, {"content": "5. Add nodes to environment", "expected": "pass"}, {"content": "6. Run network checker", "expected": "pass"}, {"content": "7. Deploy environment", "expected": "pass"}, {"content": "8. Run network checker", "expected": "pass"}, {"content": "9. Migrate Fuel Master to a compute", "expected": "pass"}, {"content": "10. Check periodically the status of Fuel Master migration process", "expected": "pass"}, {"content": "11. Run network checker", "expected": "pass"}, {"content": "12. Run health checker", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "Case_FuelMasterMigrate__Config_1ctrl_1comp_neutronTUN", "title": "Fuel master migration to VM on 1 Controller, 1 Compute on Neutron/TUN", "custom_test_case_description": "Fuel master migration to VM on 1 Controller, 1 Compute on Neutron/TUN\n\n    Scenario:\n        0. Setup master node\n        1. Configuration releases\n        2. Bootstrap slave and make snapshot\n        3. Revert bootstrapped nodes\n        4. Create Fuel Environment\n        5. Add nodes to environment\n        6. Run network checker\n        7. Deploy environment\n        8. Run network checker\n        9. Migrate Fuel Master to a compute\n        10. Check periodically the status of Fuel Master migration process\n        11. Run network checker\n        12. Run health checker\n\nDuration 180m", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "0. Setup master node", "expected": "pass"}, {"content": "1. Configuration releases", "expected": "pass"}, {"content": "2. Bootstrap slave and make snapshot", "expected": "pass"}, {"content": "3. Revert bootstrapped nodes", "expected": "pass"}, {"content": "4. Create Fuel Environment", "expected": "pass"}, {"content": "5. Add nodes to environment", "expected": "pass"}, {"content": "6. Run network checker", "expected": "pass"}, {"content": "7. Deploy environment", "expected": "pass"}, {"content": "8. Run network checker", "expected": "pass"}, {"content": "9. Migrate Fuel Master to a compute", "expected": "pass"}, {"content": "10. Check periodically the status of Fuel Master migration process", "expected": "pass"}, {"content": "11. Run network checker", "expected": "pass"}, {"content": "12. Run health checker", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ready_node_reinstallation", "title": "Create environment and set up master node - ready_node_reinstallation", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ready_node_reinstallation", "title": "Prepare master node - ready_node_reinstallation", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ready_node_reinstallation", "title": "Bootstrap 5 slave nodes - ready_node_reinstallation", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reinstall_single_compute_node", "title": "Verify reinstallation of a compute node.", "custom_test_case_description": "Verify reinstallation of a compute node.\n\n        Scenario:\n            1. Revert snapshot\n            2. Select a compute node\n            3. Reinstall the compute\n            4. Run network verification\n            5. Run OSTF\n            6. Verify that the hostname is not changed on reinstallation\n               of the node\n\n        Duration: 55m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "55m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Select a compute node", "expected": "pass"}, {"content": "3. Reinstall the compute", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}, {"content": "6. Verify that the hostname is not changed on reinstallation of the node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reinstall_single_primary_controller_node", "title": "Verify reinstallation of the primary controller node.", "custom_test_case_description": "Verify reinstallation of the primary controller node.\n\n        Scenario:\n            1. Revert snapshot\n            2. Select the primary controller\n            3. Reinstall the controller\n            4. Run network verification\n            5. Run OSTF\n            6. Verify that the hostname is not changed on reinstallation\n               of the node\n            7. Verify that the primary-controller role is not migrated on\n               reinstallation of the node\n\n        Duration: 100m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Select the primary controller", "expected": "pass"}, {"content": "3. Reinstall the controller", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}, {"content": "6. Verify that the hostname is not changed on reinstallation of the node", "expected": "pass"}, {"content": "7. Verify that the primary-controller role is not migrated on reinstallation of the node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "reinstall_single_regular_controller_node", "title": "Verify reinstallation of a regular (non-primary) controller node.", "custom_test_case_description": "Verify reinstallation of a regular (non-primary) controller node.\n\n        Scenario:\n            1. Revert snapshot\n            2. Select a non-primary controller\n            3. Reinstall the controller\n            4. Run network verification\n            5. Run OSTF\n            6. Verify that the hostname is not changed on reinstallation\n               of the node\n\n        Duration: 100m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "100m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot", "expected": "pass"}, {"content": "2. Select a non-primary controller", "expected": "pass"}, {"content": "3. Reinstall the controller", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}, {"content": "6. Verify that the hostname is not changed on reinstallation of the node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_test_ibp", "title": "Create environment and set up master node - test_ibp", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_test_ibp", "title": "Prepare master node - test_ibp", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_1_test_ibp", "title": "Bootstrap 1 slave nodes - test_ibp", "custom_test_case_description": "Bootstrap 1 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 1 slave nodes\n\n        Snapshot: ready_with_1_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 1 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ibp_add_package", "title": "Add package to package list and provision one node. Check that added package is installed.", "custom_test_case_description": "Add package to package list and provision one node. Check that\n        added package is installed.\n\n        Scenario:\n            1. Create cluster\n            2. Add one package to the initial packages list\n            3. Add one node to cluster\n            4. Provision nodes\n            5. Check that all packages including added one are installed\n\n        Duration 60m\n        Snapshot check_ibp_add_package\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add one package to the initial packages list", "expected": "pass"}, {"content": "3. Add one node to cluster", "expected": "pass"}, {"content": "4. Provision nodes", "expected": "pass"}, {"content": "5. Check that all packages including added one are installed", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ibp_add_wrong_package", "title": "Add package with wrong name to package list and provision one node. Check that provision ends with error.", "custom_test_case_description": "Add package with wrong name to package list and provision one node.\n        Check that provision ends with error.\n\n        Scenario:\n            1. Create cluster\n            2. Add one package to the initial packages list\n            3. Add one node to cluster\n            4. Provision nodes\n            5. Check that provisioning ends with error\n\n        Duration 60m\n        Snapshot check_ibp_add_wrong_package\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add one package to the initial packages list", "expected": "pass"}, {"content": "3. Add one node to cluster", "expected": "pass"}, {"content": "4. Provision nodes", "expected": "pass"}, {"content": "5. Check that provisioning ends with error", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ibp_default_package_list", "title": "Provision one node with default package list", "custom_test_case_description": "Provision one node with default package list\n\n        Scenario:\n            1. Create cluster\n            2. Add one node to cluster\n            3. Provision nodes\n            4. Check that all default packages are installed on the node\n\n        Duration 60m\n        Snapshot check_ibp_default_package_list\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add one node to cluster", "expected": "pass"}, {"content": "3. Provision nodes", "expected": "pass"}, {"content": "4. Check that all default packages are installed on the node", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "check_ibp_remove_package", "title": "Remove package from package list and provision one node. Check that removed package is not installed.", "custom_test_case_description": "Remove package from package list and provision one node. Check that\n        removed package is not installed.\n\n        Scenario:\n            1. Create cluster\n            2. Remove one package from the initial packages list\n            3. Add one node to cluster\n            4. Provision nodes\n            5. Check that all packages besides removed are installed\n\n        Duration 60m\n        Snapshot check_ibp_remove_package\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "60m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Remove one package from the initial packages list", "expected": "pass"}, {"content": "3. Add one node to cluster", "expected": "pass"}, {"content": "4. Provision nodes", "expected": "pass"}, {"content": "5. Check that all packages besides removed are installed", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron_destructive_vlan", "title": "Create environment and set up master node - ha_neutron_destructive_vlan", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron_destructive_vlan", "title": "Prepare master node - ha_neutron_destructive_vlan", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_neutron_vlan", "title": "Deploy cluster in HA mode, Neutron with VLAN segmentation", "custom_test_case_description": "Deploy cluster in HA mode, Neutron with VLAN segmentation\n\n        Scenario:\n            1. Create cluster. HA, Neutron with VLAN segmentation\n            2. Add 3 nodes with controller roles\n            3. Add 2 nodes with compute roles\n            4. Add 1 node with cinder role\n            5. Deploy the cluster\n\n        Duration 90m\n        Snapshot deploy_ha_neutron_vlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster. HA, Neutron with VLAN segmentation", "expected": "pass"}, {"content": "2. Add 3 nodes with controller roles", "expected": "pass"}, {"content": "3. Add 2 nodes with compute roles", "expected": "pass"}, {"content": "4. Add 1 node with cinder role", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_l3_migration_after_destroy_vlan", "title": "Check l3-agent rescheduling after destroy nonprimary controller vlan", "custom_test_case_description": "Check l3-agent rescheduling after destroy nonprimary controller vlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create an instance with a key pair\n            3. Manually reschedule router from primary controller\n               to another one\n            4. Destroy controller with l3-agent\n            5. Check l3-agent was rescheduled\n            6. Check network connectivity from instance via\n               dhcp namespace\n            7. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create an instance with a key pair", "expected": "pass"}, {"content": "3. Manually reschedule router from primary controller to another one", "expected": "pass"}, {"content": "4. Destroy controller with l3-agent", "expected": "pass"}, {"content": "5. Check l3-agent was rescheduled", "expected": "pass"}, {"content": "6. Check network connectivity from instance via dhcp namespace", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_l3_migration_after_reset_vlan", "title": "Check l3-agent rescheduling after reset non-primary controller vlan", "custom_test_case_description": "Check l3-agent rescheduling after reset non-primary controller vlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create an instance with a key pair\n            3. Manually reschedule router from primary controller\n               to another one\n            4. Reset controller with l3-agent\n            5. Check l3-agent was rescheduled\n            6. Check network connectivity from instance via\n               dhcp namespace\n            7. Run OSTF\n\n        Duration 30m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create an instance with a key pair", "expected": "pass"}, {"content": "3. Manually reschedule router from primary controller to another one", "expected": "pass"}, {"content": "4. Reset controller with l3-agent", "expected": "pass"}, {"content": "5. Check l3-agent was rescheduled", "expected": "pass"}, {"content": "6. Check network connectivity from instance via dhcp namespace", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_l3_migration_vlan", "title": "Check l3-agent rescheduling after l3-agent dies on vlan", "custom_test_case_description": "Check l3-agent rescheduling after l3-agent dies on vlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create an instance with a key pair\n            3. Manually reschedule router from primary controller\n               to another one\n            4. Stop l3-agent on new node with pcs\n            5. Check l3-agent was rescheduled\n            6. Check network connectivity from instance via\n               dhcp namespace\n            7. Run OSTF\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create an instance with a key pair", "expected": "pass"}, {"content": "3. Manually reschedule router from primary controller to another one", "expected": "pass"}, {"content": "4. Stop l3-agent on new node with pcs", "expected": "pass"}, {"content": "5. Check l3-agent was rescheduled", "expected": "pass"}, {"content": "6. Check network connectivity from instance via dhcp namespace", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_packets_drop_stat_vlan", "title": "Check packets drops statistic when size is equal to MTU on vlan", "custom_test_case_description": "Check packets drops statistic when size is equal to MTU on vlan\n\n        Scenario:\n            1. Revert snapshot with neutron cluster\n            2. Create instance, assign floating IP to it\n            3. Send ICMP packets from controller to instance with 1500 bytes\n            4. If at least 7 responses on 10 requests are received\n               assume test is passed\n\n        Duration 30m\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot with neutron cluster", "expected": "pass"}, {"content": "2. Create instance, assign floating IP to it", "expected": "pass"}, {"content": "3. Send ICMP packets from controller to instance with 1500 bytes", "expected": "pass"}, {"content": "4. If at least 7 responses on 10 requests are received assume test is passed", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "Case_CentosDeployCheckRadosGW__Config_centos_master_ceph_all_on_neutron_vlan", "title": "Deploy cluster and check RadosGW on 1 Controller, 1 Compute & 2 Ceph on Neutron/VLAN", "custom_test_case_description": "Deploy cluster and check RadosGW on 1 Controller, 1 Compute & 2 Ceph on Neutron/VLAN\n\n    Scenario:\n        0. Create environment, bootstrap centos_master\n        1. Configuration releases\n        2. Bootstrap slave and make snapshot\n        3. Revert bootstrapped nodes\n        4. Create Fuel Environment\n        5. Add nodes to environment\n        6. Run network checker\n        7. Deploy environment\n        8. Run network checker\n        9. HAProxy backend checking\n        10. Check Ceph status in cluster\n        11. Run health checker\n        12. Check the radosgw daemon is started\n\nDuration 180m", "milestone_id": 18, "type_id": 1, "estimate": "180m", "refs": "", "custom_test_case_steps": [{"content": "0. Create environment, bootstrap centos_master", "expected": "pass"}, {"content": "1. Configuration releases", "expected": "pass"}, {"content": "2. Bootstrap slave and make snapshot", "expected": "pass"}, {"content": "3. Revert bootstrapped nodes", "expected": "pass"}, {"content": "4. Create Fuel Environment", "expected": "pass"}, {"content": "5. Add nodes to environment", "expected": "pass"}, {"content": "6. Run network checker", "expected": "pass"}, {"content": "7. Deploy environment", "expected": "pass"}, {"content": "8. Run network checker", "expected": "pass"}, {"content": "9. HAProxy backend checking", "expected": "pass"}, {"content": "10. Check Ceph status in cluster", "expected": "pass"}, {"content": "11. Run health checker", "expected": "pass"}, {"content": "12. Check the radosgw daemon is started", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_jumbo_frames", "title": "Create environment and set up master node - jumbo_frames", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_jumbo_frames", "title": "Prepare master node - jumbo_frames", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_jumbo_frames", "title": "Bootstrap 5 slave nodes - jumbo_frames", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_5_slaves_with_jumbo_frames", "title": "Setup jumbo frames on private bridge on host", "custom_test_case_description": "Setup jumbo frames on private bridge on host\n\n        Scenario:\n            1. Find bridge with name \"private\"\n            2. Set mtu 9000 for all bridge interfaces\n            3. Make snapshot ready_with_5_slaves_jumbo_frames\n\n        Duration 5m\n        Snapshot ready_with_5_slaves_jumbo_frames\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "5m", "refs": "", "custom_test_case_steps": [{"content": "1. Find bridge with name \"private\"", "expected": "pass"}, {"content": "2. Set mtu 9000 for all bridge interfaces", "expected": "pass"}, {"content": "3. Make snapshot ready_with_5_slaves_jumbo_frames", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "jumbo_frames_neutron_diff_net_vlan", "title": "Verify jumbo frames between instances in different networks on HA and Neutron VLAN", "custom_test_case_description": "Verify jumbo frames between instances in different networks on HA\n        and Neutron VLAN\n\n        Scenario:\n            1. Revert snapshot ready_with_5_slaves_jumbo_frames\n            2. Create cluster with neutron VLAN\n            3. Add 3 node with controller role\n            4. Add 2 nodes with compute role\n            5. Set mtu=9000 on private interface\n            6. Deploy the cluster\n            7. Run network verification\n            8. Check MTU on private interface\n            9. Run MTU size check\n            10. Run OSTF\n\n        Duration 120m\n        Snapshot jumbo_frames_neutron_diff_bond_vlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready_with_5_slaves_jumbo_frames", "expected": "pass"}, {"content": "2. Create cluster with neutron VLAN", "expected": "pass"}, {"content": "3. Add 3 node with controller role", "expected": "pass"}, {"content": "4. Add 2 nodes with compute role", "expected": "pass"}, {"content": "5. Set mtu=9000 on private interface", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Check MTU on private interface", "expected": "pass"}, {"content": "9. Run MTU size check", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "jumbo_frames_neutron_diff_net_vxlan", "title": "Verify jumbo frames between instances in different networks on HA and Neutron VXLAN", "custom_test_case_description": "Verify jumbo frames between instances in different networks on HA\n        and Neutron VXLAN\n\n        Scenario:\n            1. Revert snapshot ready_with_5_slaves_jumbo_frames\n            2. Create cluster with neutron VXLAN\n            3. Add 3 node with controller role\n            4. Add 2 nodes with compute role\n            5. Set mtu=9000 on private interface\n            6. Deploy the cluster\n            7. Run network verification\n            8. Check MTU on private interface\n            9. Run MTU size check\n            10. Run OSTF\n\n        Duration 120m\n        Snapshot jumbo_frames_neutron_diff_bond_vxlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready_with_5_slaves_jumbo_frames", "expected": "pass"}, {"content": "2. Create cluster with neutron VXLAN", "expected": "pass"}, {"content": "3. Add 3 node with controller role", "expected": "pass"}, {"content": "4. Add 2 nodes with compute role", "expected": "pass"}, {"content": "5. Set mtu=9000 on private interface", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Check MTU on private interface", "expected": "pass"}, {"content": "9. Run MTU size check", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "jumbo_frames_neutron_vlan", "title": "Verify jumbo frames between instances on HA Neutron VLAN", "custom_test_case_description": "Verify jumbo frames between instances on HA Neutron VLAN\n\n        Scenario:\n            1. Revert snapshot ready_with_5_slaves_jumbo_frames\n            2. Create cluster with neutron VLAN\n            3. Add 3 node with controller role\n            4. Add 2 nodes with compute role\n            5. Set mtu=9000 on private interface\n            6. Deploy the cluster\n            7. Run network verification\n            8. Check MTU on private interface\n            9. Run MTU size check\n            10. Run OSTF\n\n        Duration 120m\n        Snapshot ready_jumbo_frames_neutron_vlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready_with_5_slaves_jumbo_frames", "expected": "pass"}, {"content": "2. Create cluster with neutron VLAN", "expected": "pass"}, {"content": "3. Add 3 node with controller role", "expected": "pass"}, {"content": "4. Add 2 nodes with compute role", "expected": "pass"}, {"content": "5. Set mtu=9000 on private interface", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Check MTU on private interface", "expected": "pass"}, {"content": "9. Run MTU size check", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "jumbo_frames_neutron_vxlan", "title": "Verify jumbo frames between instances on HA and Neutron VXLAN", "custom_test_case_description": "Verify jumbo frames between instances on HA and Neutron VXLAN\n\n        Scenario:\n            1. Revert snapshot ready_with_5_slaves_jumbo_frames\n            2. Create cluster with neutron VXLAN\n            3. Add 3 node with controller role\n            4. Add 2 nodes with compute role\n            5. Set mtu=9000 on private interface\n            6. Deploy the cluster\n            7. Run network verification\n            8. Check MTU on private interface\n            9. Run MTU size check\n            10. Run OSTF\n\n        Duration 120m\n        Snapshot ready_jumbo_frames_neutron_vxlan\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "120m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot ready_with_5_slaves_jumbo_frames", "expected": "pass"}, {"content": "2. Create cluster with neutron VXLAN", "expected": "pass"}, {"content": "3. Add 3 node with controller role", "expected": "pass"}, {"content": "4. Add 2 nodes with compute role", "expected": "pass"}, {"content": "5. Set mtu=9000 on private interface", "expected": "pass"}, {"content": "6. Deploy the cluster", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Check MTU on private interface", "expected": "pass"}, {"content": "9. Run MTU size check", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_controller_replacement", "title": "Create environment and set up master node - controller_replacement", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_controller_replacement", "title": "Prepare master node - controller_replacement", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_controller_replacement", "title": "Bootstrap 5 slave nodes - controller_replacement", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_neutron_tun_ctrl_replacement", "title": "Replace 1 controller and re-deploy on ha env with neutron vxlan", "custom_test_case_description": "Replace 1 controller and re-deploy on ha env with neutron vxlan\n\n        Scenario:\n            1. Create cluster with Neutron VXLAN\n            2. Add 3 node with controller role\n            3. Add 1 node with compute\n            4. Verify network\n            5. Deploy cluster\n            6. Remove one controller add new controller\n            7. Deploy changes\n            8. Verify network\n            9. Run OSTF\n\n        Duration 90m\n        Snapshot: deploy_ha_neutron_tun_ctrl_replacement\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with Neutron VXLAN", "expected": "pass"}, {"content": "2. Add 3 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute", "expected": "pass"}, {"content": "4. Verify network", "expected": "pass"}, {"content": "5. Deploy cluster", "expected": "pass"}, {"content": "6. Remove one controller add new controller", "expected": "pass"}, {"content": "7. Deploy changes", "expected": "pass"}, {"content": "8. Verify network", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_ha_neutron_vlan_ctrl_replacement", "title": "Replace 1 controller and re-deploy on ha env with neutron vlan", "custom_test_case_description": "Replace 1 controller and re-deploy on ha env with neutron vlan\n\n        Scenario:\n            1. Create cluster with neutron vlan\n            2. Add 3 node with controller role\n            3. Add 1 node with compute\n            4. Verify network\n            5. Deploy cluster\n            6. Remove one controller add new controller\n            7. Deploy changes\n            8. Verify network\n            9. Run OSTF\n\n        Duration 90m\n        Snapshot: deploy_ha_neutron_vlan_ctrl_replacement\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with neutron vlan", "expected": "pass"}, {"content": "2. Add 3 node with controller role", "expected": "pass"}, {"content": "3. Add 1 node with compute", "expected": "pass"}, {"content": "4. Verify network", "expected": "pass"}, {"content": "5. Deploy cluster", "expected": "pass"}, {"content": "6. Remove one controller add new controller", "expected": "pass"}, {"content": "7. Deploy changes", "expected": "pass"}, {"content": "8. Verify network", "expected": "pass"}, {"content": "9. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_support_dpdk_bond", "title": "Create environment and set up master node - support_dpdk_bond", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_support_dpdk_bond", "title": "Prepare master node - support_dpdk_bond", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_support_dpdk_bond", "title": "Bootstrap 3 slave nodes - support_dpdk_bond", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_cluster_with_dpdk_bond", "title": "Deploy cluster with DPDK, active-backup bonding and Neutron VLAN", "custom_test_case_description": "Deploy cluster with DPDK, active-backup bonding and Neutron VLAN\n\n        Scenario:\n            1. Create cluster with VLAN for Neutron and KVM\n            2. Add 1 node with controller role\n            3. Add 2 nodes with compute and cinder roles\n            4. Setup bonding for all interfaces: 1 for admin, 1 for private\n               and 1 for public/storage/management networks\n            5. Configure HugePages for compute nodes\n            6. Enable DPDK for bond with private network on all computes\n            7. Run network verification\n            8. Deploy the cluster\n            9. Run network verification\n            10. Run OSTF\n            11. Run instance on compute with DPDK and check its availability\n                via floating IP\n\n        Duration 90m\n        Snapshot deploy_cluster_with_dpdk_bond\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with VLAN for Neutron and KVM", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute and cinder roles", "expected": "pass"}, {"content": "4. Setup bonding for all interfaces: 1 for admin, 1 for private and 1 for public/storage/management networks", "expected": "pass"}, {"content": "5. Configure HugePages for compute nodes", "expected": "pass"}, {"content": "6. Enable DPDK for bond with private network on all computes", "expected": "pass"}, {"content": "7. Run network verification", "expected": "pass"}, {"content": "8. Deploy the cluster", "expected": "pass"}, {"content": "9. Run network verification", "expected": "pass"}, {"content": "10. Run OSTF", "expected": "pass"}, {"content": "11. Run instance on compute with DPDK and check its availability via floating IP", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_multirole", "title": "Create environment and set up master node - multirole", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_multirole", "title": "Prepare master node - multirole", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_multirole", "title": "Bootstrap 3 slave nodes - multirole", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_multirole_controller_cinder", "title": "Deploy cluster in HA mode with multi-role controller and cinder", "custom_test_case_description": "Deploy cluster in HA mode with multi-role controller and cinder\n\n        Scenario:\n            1. Create cluster in HA mode\n            2. Add 1 node with controller and cinder roles\n            3. Add 1 node with compute role\n            4. Deploy the cluster\n            5. Run network verification\n            6. Run OSTF\n\n        Duration 30m\n        Snapshot: deploy_multirole_controller_cinder\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in HA mode", "expected": "pass"}, {"content": "2. Add 1 node with controller and cinder roles", "expected": "pass"}, {"content": "3. Add 1 node with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_multirole_compute_cinder", "title": "Deploy cluster in HA mode with multi-role compute and cinder", "custom_test_case_description": "Deploy cluster in HA mode with multi-role compute and cinder\n\n        Scenario:\n            1. Create cluster in Ha mode\n            2. Add 1 node with controller role\n            3. Add 2 node with compute and cinder roles\n            4. Deploy the cluster\n            5. Run network verification\n            6. Run OSTF\n\n        Duration 30m\n        Snapshot: deploy_multirole_compute_cinder\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "30m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster in Ha mode", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 2 node with compute and cinder roles", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_multirole", "title": "Bootstrap 5 slave nodes - multirole", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_multiple_services_local_mirror", "title": "Deploy cluster with multiple services using local mirror", "custom_test_case_description": "Deploy cluster with multiple services using local mirror\n\n        Scenario:\n            1. Revert snapshot 'prepare_slaves_5' with default set of mirrors\n            2. Run 'fuel-mirror' to create mirror repositories\n            3. Create cluster with many components to check as many\n               packages in local mirrors have correct dependencies\n            4. Run 'fuel-mirror' to replace cluster repositories\n               with local mirrors\n            5. Check that repositories are changed\n            6. Deploy cluster\n            7. Check running services with OSTF\n\n        Duration 140m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "140m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot 'prepare_slaves_5' with default set of mirrors", "expected": "pass"}, {"content": "2. Run 'fuel-mirror' to create mirror repositories", "expected": "pass"}, {"content": "3. Create cluster with many components to check as many packages in local mirrors have correct dependencies", "expected": "pass"}, {"content": "4. Run 'fuel-mirror' to replace cluster repositories with local mirrors", "expected": "pass"}, {"content": "5. Check that repositories are changed", "expected": "pass"}, {"content": "6. Deploy cluster", "expected": "pass"}, {"content": "7. Check running services with OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "setup_master_ha_neutron_tun", "title": "Create environment and set up master node - ha_neutron_tun", "custom_test_case_description": "Create environment and set up master node\n\n        Snapshot: empty\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": []}, {"priority_id": 4, "custom_test_group": "prepare_release_ha_neutron_tun", "title": "Prepare master node - ha_neutron_tun", "custom_test_case_description": "Prepare master node\n\n        Scenario:\n            1. Revert snapshot \"empty\"\n            2. Download the release if needed. Uploads custom manifest.\n\n        Snapshot: ready\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"empty\"", "expected": "pass"}, {"content": "2. Download the release if needed. Uploads custom manifest.", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_3_ha_neutron_tun", "title": "Bootstrap 3 slave nodes - ha_neutron_tun", "custom_test_case_description": "Bootstrap 3 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 3 slave nodes\n\n        Snapshot: ready_with_3_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 3 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_tun", "title": "Deploy cluster in ha mode with 1 controller and Neutron VXLAN", "custom_test_case_description": "Deploy cluster in ha mode with 1 controller and Neutron VXLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 1 node with controller role\n            3. Add 2 nodes with compute role\n            4. Run network verification\n            5. Deploy the cluster\n            6. Run network verification\n            7. Run OSTF\n\n        Duration 35m\n        Snapshot deploy_neutron_tun\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "35m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 1 node with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute role", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Deploy the cluster", "expected": "pass"}, {"content": "6. Run network verification", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "prepare_slaves_5_ha_neutron_tun", "title": "Bootstrap 5 slave nodes - ha_neutron_tun", "custom_test_case_description": "Bootstrap 5 slave nodes\n\n        Scenario:\n            1. Revert snapshot \"ready\"\n            2. Start 5 slave nodes\n\n        Snapshot: ready_with_5_slaves\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "3m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot \"ready\"", "expected": "pass"}, {"content": "2. Start 5 slave nodes", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "deploy_neutron_tun_ha", "title": "Deploy cluster in HA mode with Neutron VXLAN", "custom_test_case_description": "Deploy cluster in HA mode with Neutron VXLAN\n\n        Scenario:\n            1. Create cluster\n            2. Add 3 nodes with controller role\n            3. Add 2 nodes with compute role\n            4. Deploy the cluster\n            5. Run network verification\n            6. Run OSTF\n\n        Duration 80m\n        Snapshot deploy_neutron_tun_ha\n        ", "milestone_id": 18, "type_id": 1, "estimate": "80m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 2 nodes with compute role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Run network verification", "expected": "pass"}, {"content": "6. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_tun_ha_add_compute", "title": "Add compute node to cluster in HA mode with Neutron VXLAN network", "custom_test_case_description": "Add compute node to cluster in HA mode with Neutron VXLAN network\n\n        Scenario:\n            1. Revert snapshot deploy_neutron_tun_ha with 3 controller\n               and 2 compute nodes\n            2. Add 1 node with compute role\n            3. Deploy the cluster\n            4. Run network verification\n            5. Run OSTF\n\n        Duration 10m\n        Snapshot neutron_tun_ha_add_compute\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "10m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot deploy_neutron_tun_ha with 3 controller and 2 compute nodes", "expected": "pass"}, {"content": "2. Add 1 node with compute role", "expected": "pass"}, {"content": "3. Deploy the cluster", "expected": "pass"}, {"content": "4. Run network verification", "expected": "pass"}, {"content": "5. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "neutron_tun_ha_addremove", "title": "Add and re-add cinder / compute + cinder to HA cluster", "custom_test_case_description": "Add and re-add cinder / compute + cinder to HA cluster\n\n        Scenario:\n            1. Revert snapshot deploy_neutron_tun_ha with 3 controller\n               and 2 compute nodes\n            2. Add 'cinder' role to a new slave\n            3. Deploy changes\n            4. Remove the 'cinder' node\n               Remove a 'controller' node\n               Add 'controller'+'cinder' multirole to a new slave\n            5. Deploy changes\n            6. Run verify networks\n            7. Run OSTF\n\n        Duration 50m\n        ", "milestone_id": 18, "type_id": 1, "estimate": "50m", "refs": "", "custom_test_case_steps": [{"content": "1. Revert snapshot deploy_neutron_tun_ha with 3 controller and 2 compute nodes", "expected": "pass"}, {"content": "2. Add 'cinder' role to a new slave", "expected": "pass"}, {"content": "3. Deploy changes", "expected": "pass"}, {"content": "4. Remove the 'cinder' node Remove a 'controller' node Add 'controller'+'cinder' multirole to a new slave", "expected": "pass"}, {"content": "5. Deploy changes", "expected": "pass"}, {"content": "6. Run verify networks", "expected": "pass"}, {"content": "7. Run OSTF", "expected": "pass"}]}, {"priority_id": 4, "custom_test_group": "ceph_rados_gw", "title": "Deploy ceph HA with RadosGW for objects", "custom_test_case_description": "Deploy ceph HA with RadosGW for objects\n\n        Scenario:\n            1. Create cluster with Neutron\n            2. Add 3 nodes with controller role\n            3. Add 3 nodes with compute and ceph-osd role\n            4. Deploy the cluster\n            5. Check ceph status\n            6. Run OSTF tests\n            7. Check the radosgw daemon is started\n\n        Duration 90m\n        Snapshot ceph_rados_gw\n\n        ", "milestone_id": 18, "type_id": 1, "estimate": "90m", "refs": "", "custom_test_case_steps": [{"content": "1. Create cluster with Neutron", "expected": "pass"}, {"content": "2. Add 3 nodes with controller role", "expected": "pass"}, {"content": "3. Add 3 nodes with compute and ceph-osd role", "expected": "pass"}, {"content": "4. Deploy the cluster", "expected": "pass"}, {"content": "5. Check ceph status", "expected": "pass"}, {"content": "6. Run OSTF tests", "expected": "pass"}, {"content": "7. Check the radosgw daemon is started", "expected": "pass"}]}]